/*! For license information please see main.a4d36a72.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,a)=>{e.exports=a(202)},153:(e,t,a)=>{var n=a(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var n,s={},c=null,d=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,x={};function f(e,t,a){this.props=e,this.context=t,this.refs=x,this.updater=a||m}function v(){}function y(e,t,a){this.props=e,this.context=t,this.refs=x,this.updater=a||m}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=f.prototype;var b=y.prototype=new v;b.constructor=y,g(b,f.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,s={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:a,type:e,key:i,ref:o,props:s,_owner:N.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case n:l=!0}}if(l)return i=i(l=e),e=""===s?"."+P(l,0):s,j(i)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),E(i,t,r,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+P(o=e[c],c);l+=E(o,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,r,d=s+P(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,a){if(null==e)return e;var n=[],r=0;return E(e,n,"","",function(e){return t.call(a,e,r++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},z={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:z,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,a){T(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=r,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:a,type:e.type,key:s,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,a){return R.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,a){return R.current.useReducer(e,t,a)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return R.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<s(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,a))c<r&&0>s(d,l)?(e[n]=d,e[c]=a,n=c):(e[n]=l,e[o]=a,n=o);else{if(!(c<r&&0>s(d,a)))break e;e[n]=d,e[c]=a,n=c}}}return t}function s(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,g=!1,x=!1,f="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,a(c,t)}t=n(d)}}function j(e){if(x=!1,b(e),!g)if(null!==n(c))g=!0,z(w);else{var t=n(d);null!==t&&I(j,t.startTime-e)}}function w(e,a){g=!1,x&&(x=!1,v(S),S=-1),m=!0;var s=h;try{for(b(a),p=n(c);null!==p&&(!(p.expirationTime>a)||e&&!E());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var o=i(p.expirationTime<=a);a=t.unstable_now(),"function"===typeof o?p.callback=o:p===n(c)&&r(c),b(a)}else r(c);p=n(c)}if(null!==p)var l=!0;else{var u=n(d);null!==u&&I(j,u.startTime-a),l=!1}return l}finally{p=null,h=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,_=null,S=-1,C=5,P=-1;function E(){return!(t.unstable_now()-P<C)}function T(){if(null!==_){var e=t.unstable_now();P=e;var a=!0;try{a=_(!0,e)}finally{a?N():(k=!1,_=null)}}else k=!1}if("function"===typeof y)N=function(){y(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=T,N=function(){R.postMessage(null)}}else N=function(){f(T,0)};function z(e){_=e,k||(k=!0,N())}function I(e,a){S=f(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,z(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,a(d,e),null===n(c)&&e===n(d)&&(x?(v(S),S=-1):x=!0,I(j,s-i))):(e.sortIndex=o,a(c,e),g||m||(g=!0,z(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},391:(e,t,a)=>{var n=a(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,a)=>{e.exports=a(153)},730:(e,t,a)=>{var n=a(43),r=a(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(e,t,a,n,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,a,n){var r=x.hasOwnProperty(t)?x[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,n){if(null===t||"undefined"===typeof t||function(e,t,a,n){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,n))return!0;if(n)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,r,n)&&(a=null),n||null===r?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):r.mustUseProperty?e[r.propertyName]=null===a?3!==r.type&&"":a:(t=r.attributeName,n=r.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(r=r.type)||4===r&&!0===a?"":""+a,n?e.setAttributeNS(n,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,v);x[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,v);x[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,v);x[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var B,D=Object.assign;function O(e){if(void 0===B)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var F=!1;function M(e,t){if(!e||F)return"";F=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=n.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?O(e):""}function W(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case _:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return U(e(t))}catch(a){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var a=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function K(e,t){var a=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;a=V(null!=t.value?t.value:a),e._wrapperState={initialChecked:n,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var a=V(t.value),n=t.type;if(null!=a)"number"===n?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,a):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ee(e,t,a){"number"===t&&$(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var te=Array.isArray;function ae(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+V(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(s(92));if(te(a)){if(1<a.length)throw Error(s(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:V(a)}}function se(e,t){var a=V(t.value),n=V(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,a){return null==t||"boolean"===typeof t||""===t?"":a||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var n=0===a.indexOf("--"),r=ge(a,t[a],n);"float"===a&&(a="cssFloat"),n?e.setProperty(a,r):e[a]=r}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function _e(e){if(e=yr(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=jr(t),we(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Pe(e,t){return e(t)}function Ee(){}var Te=!1;function Ae(e,t,a){if(Te)return e(t,a);Te=!0;try{return Pe(e,t,a)}finally{Te=!1,(null!==Ne||null!==ke)&&(Ee(),Ce())}}function Re(e,t){var a=e.stateNode;if(null===a)return null;var n=jr(a);if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(s(231,t,typeof a));return a}var ze=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){ze=!1}function Le(e,t,a,n,r,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(d){this.onError(d)}}var Be=!1,De=null,Oe=!1,Fe=null,Me={onError:function(e){Be=!0,De=e}};function We(e,t,a,n,r,s,i,o,l){Be=!1,De=null,Le.apply(Me,arguments)}function Ue(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(n=r.return)){a=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return Ve(r),e;if(i===n)return Ve(r),t;i=i.sibling}throw Error(s(188))}if(a.return!==n.return)a=r,n=i;else{for(var o=!1,l=r.child;l;){if(l===a){o=!0,a=r,n=i;break}if(l===n){o=!0,n=r,a=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===a){o=!0,a=i,n=r;break}if(l===n){o=!0,n=i,a=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(a.alternate!==n)throw Error(s(190))}if(3!==a.tag)throw Error(s(188));return a.stateNode.current===a?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Je=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,Ge=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Qe=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,at=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&a;if(0!==i){var o=i&~r;0!==o?n=ut(o):0!==(s&=i)&&(n=ut(s))}else 0!==(i=a&~r)?n=ut(i):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(a=31-it(t)),n|=e[a],t&=~r;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ft(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=a}function vt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-it(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,_t,St=!1,Ct=[],Pt=null,Et=null,Tt=null,At=new Map,Rt=new Map,zt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Bt(e,t,a,n,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=vr(e.target);if(null!==t){var a=Ue(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=qe(a)))return e.blockedOn=t,void _t(e.priority,function(){Nt(a)})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=yr(a))&&wt(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);be=n,a.target.dispatchEvent(n),be=null,t.shift()}return!0}function Ft(e,t,a){Ot(e)&&a.delete(t)}function Mt(){St=!1,null!==Pt&&Ot(Pt)&&(Pt=null),null!==Et&&Ot(Et)&&(Et=null),null!==Tt&&Ot(Tt)&&(Tt=null),At.forEach(Ft),Rt.forEach(Ft)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Wt(t,e)}if(0<Ct.length){Wt(Ct[0],e);for(var a=1;a<Ct.length;a++){var n=Ct[a];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&Wt(Pt,e),null!==Et&&Wt(Et,e),null!==Tt&&Wt(Tt,e),At.forEach(t),Rt.forEach(t),a=0;a<zt.length;a++)(n=zt[a]).blockedOn===e&&(n.blockedOn=null);for(;0<zt.length&&null===(a=zt[0]).blockedOn;)Dt(a),null===a.blockedOn&&zt.shift()}var qt=b.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,a,n){var r=yt,s=qt.transition;qt.transition=null;try{yt=1,Jt(e,t,a,n)}finally{yt=r,qt.transition=s}}function Yt(e,t,a,n){var r=yt,s=qt.transition;qt.transition=null;try{yt=4,Jt(e,t,a,n)}finally{yt=r,qt.transition=s}}function Jt(e,t,a,n){if(Vt){var r=Gt(e,t,a,n);if(null===r)Vn(e,t,n,$t,a),Lt(e,n);else if(function(e,t,a,n,r){switch(t){case"focusin":return Pt=Bt(Pt,e,t,a,n,r),!0;case"dragenter":return Et=Bt(Et,e,t,a,n,r),!0;case"mouseover":return Tt=Bt(Tt,e,t,a,n,r),!0;case"pointerover":var s=r.pointerId;return At.set(s,Bt(At.get(s)||null,e,t,a,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Rt.set(s,Bt(Rt.get(s)||null,e,t,a,n,r)),!0}return!1}(r,e,t,a,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&jt(s),null===(s=Gt(e,t,a,n))&&Vn(e,t,n,$t,a),s===r)break;r=s}null!==r&&n.stopPropagation()}else Vn(e,t,n,null,a)}}var $t=null;function Gt(e,t,a,n){if($t=null,null!==(e=vr(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case at:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function ea(){if(Zt)return Zt;var e,t,a=Xt,n=a.length,r="value"in Qt?Qt.value:Qt.textContent,s=r.length;for(e=0;e<n&&a[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&a[n-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function aa(){return!0}function na(){return!1}function ra(e){function t(t,a,n,r,s){for(var i in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?aa:na,this.isPropagationStopped=na,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var sa,ia,oa,la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ra(la),da=D({},la,{view:0,detail:0}),ua=ra(da),pa=D({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&"mousemove"===e.type?(sa=e.screenX-oa.screenX,ia=e.screenY-oa.screenY):ia=sa=0,oa=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),ha=ra(pa),ma=ra(D({},pa,{dataTransfer:0})),ga=ra(D({},da,{relatedTarget:0})),xa=ra(D({},la,{animationName:0,elapsedTime:0,pseudoElement:0})),fa=D({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),va=ra(fa),ya=ra(D({},la,{data:0})),ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Na(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wa[e])&&!!t[e]}function ka(){return Na}var _a=D({},da,{key:function(e){if(e.key){var t=ba[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ja[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sa=ra(_a),Ca=ra(D({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pa=ra(D({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka})),Ea=ra(D({},la,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ta=D({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=ra(Ta),Ra=[9,13,27,32],za=d&&"CompositionEvent"in window,Ia=null;d&&"documentMode"in document&&(Ia=document.documentMode);var La=d&&"TextEvent"in window&&!Ia,Ba=d&&(!za||Ia&&8<Ia&&11>=Ia),Da=String.fromCharCode(32),Oa=!1;function Fa(e,t){switch(e){case"keyup":return-1!==Ra.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wa=!1;var Ua={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ua[e.type]:"textarea"===t}function Va(e,t,a,n){Se(n),0<(t=Yn(t,"onChange")).length&&(a=new ca("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ha=null,Ya=null;function Ja(e){On(e,0)}function $a(e){if(J(br(e)))return e}function Ga(e,t){if("change"===e)return t}var Ka=!1;if(d){var Qa;if(d){var Xa="oninput"in document;if(!Xa){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Xa="function"===typeof Za.oninput}Qa=Xa}else Qa=!1;Ka=Qa&&(!document.documentMode||9<document.documentMode)}function en(){Ha&&(Ha.detachEvent("onpropertychange",tn),Ya=Ha=null)}function tn(e){if("value"===e.propertyName&&$a(Ya)){var t=[];Va(t,Ya,e,je(e)),Ae(Ja,t)}}function an(e,t,a){"focusin"===e?(en(),Ya=a,(Ha=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $a(Ya)}function rn(e,t){if("click"===e)return $a(t)}function sn(e,t){if("input"===e||"change"===e)return $a(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!u.call(t,r)||!on(e[r],t[r]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var a,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=$((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=pn(),a=e.focusedElem,n=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&un(a.ownerDocument.documentElement,a)){if(null!==n&&hn(a))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=a.textContent.length,s=Math.min(n.start,r);n=void 0===n.end?s:Math.min(n.end,r),!e.extend&&s>n&&(r=n,n=s,s=r),r=dn(a,s);var i=dn(a,n);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,fn=null,vn=null,yn=!1;function bn(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;yn||null==xn||xn!==$(n)||("selectionStart"in(n=xn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Yn(fn,"onSelect")).length&&(t=new ca("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=xn)))}function jn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},kn={};function _n(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,a=wn[e];for(t in a)if(a.hasOwnProperty(t)&&t in kn)return Nn[e]=a[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Sn=_n("animationend"),Cn=_n("animationiteration"),Pn=_n("animationstart"),En=_n("transitionend"),Tn=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Tn.set(e,t),l(t,[e])}for(var zn=0;zn<An.length;zn++){var In=An[zn];Rn(In.toLowerCase(),"on"+(In[0].toUpperCase()+In.slice(1)))}Rn(Sn,"onAnimationEnd"),Rn(Cn,"onAnimationIteration"),Rn(Pn,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Dn(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,n,r,i,o,l,c){if(We.apply(this,arguments),Be){if(!Be)throw Error(s(198));var d=De;Be=!1,De=null,Oe||(Oe=!0,Fe=d)}}(n,t,void 0,e),e.currentTarget=null}function On(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Dn(r,o,c),s=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Dn(r,o,c),s=l}}}if(Oe)throw e=Fe,Oe=!1,Fe=null,e}function Fn(e,t){var a=t[gr];void 0===a&&(a=t[gr]=new Set);var n=e+"__bubble";a.has(n)||(qn(t,e,2,!1),a.add(n))}function Mn(e,t,a){var n=0;t&&(n|=4),qn(a,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[Wn]){e[Wn]=!0,i.forEach(function(t){"selectionchange"!==t&&(Bn.has(t)||Mn(t,!1,e),Mn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wn]||(t[Wn]=!0,Mn("selectionchange",!1,t))}}function qn(e,t,a,n){switch(Kt(t)){case 1:var r=Ht;break;case 4:r=Yt;break;default:r=Jt}a=r.bind(null,t,a,e),r=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Vn(e,t,a,n,r){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=vr(o)))return;if(5===(l=i.tag)||6===l){n=s=i;continue e}o=o.parentNode}}n=n.return}Ae(function(){var n=s,r=je(a),i=[];e:{var o=Tn.get(e);if(void 0!==o){var l=ca,c=e;switch(e){case"keypress":if(0===ta(a))break e;case"keydown":case"keyup":l=Sa;break;case"focusin":c="focus",l=ga;break;case"focusout":c="blur",l=ga;break;case"beforeblur":case"afterblur":l=ga;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pa;break;case Sn:case Cn:case Pn:l=xa;break;case En:l=Ea;break;case"scroll":l=ua;break;case"wheel":l=Aa;break;case"copy":case"cut":case"paste":l=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ca}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var h,m=n;null!==m;){var g=(h=m).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==p&&(null!=(g=Re(m,p))&&d.push(Hn(m,g,h)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,a,r),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||a===be||!(c=a.relatedTarget||a.fromElement)||!vr(c)&&!c[mr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=a.relatedTarget||a.toElement)?vr(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=ha,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ca,g="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?o:br(l),h=null==c?o:br(c),(o=new d(g,m+"leave",l,a,r)).target=u,o.relatedTarget=h,g=null,vr(r)===n&&((d=new d(p,m+"enter",c,a,r)).target=h,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Jn(h))m++;for(h=0,g=p;g;g=Jn(g))h++;for(;0<m-h;)d=Jn(d),m--;for(;0<h-m;)p=Jn(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Jn(d),p=Jn(p)}d=null}else d=null;null!==l&&$n(i,o,l,d,!1),null!==c&&null!==u&&$n(i,u,c,d,!0)}if("select"===(l=(o=n?br(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Ga;else if(qa(o))if(Ka)x=sn;else{x=nn;var f=an}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=rn);switch(x&&(x=x(e,n))?Va(i,x,a,r):(f&&f(e,o,n),"focusout"===e&&(f=o._wrapperState)&&f.controlled&&"number"===o.type&&ee(o,"number",o.value)),f=n?br(n):window,e){case"focusin":(qa(f)||"true"===f.contentEditable)&&(xn=f,fn=n,vn=null);break;case"focusout":vn=fn=xn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,bn(i,a,r);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":bn(i,a,r)}var v;if(za)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wa?Fa(e,a)&&(y="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(y="onCompositionStart");y&&(Ba&&"ko"!==a.locale&&(Wa||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wa&&(v=ea()):(Xt="value"in(Qt=r)?Qt.value:Qt.textContent,Wa=!0)),0<(f=Yn(n,y)).length&&(y=new ya(y,e,null,a,r),i.push({event:y,listeners:f}),v?y.data=v:null!==(v=Ma(a))&&(y.data=v))),(v=La?function(e,t){switch(e){case"compositionend":return Ma(t);case"keypress":return 32!==t.which?null:(Oa=!0,Da);case"textInput":return(e=t.data)===Da&&Oa?null:e;default:return null}}(e,a):function(e,t){if(Wa)return"compositionend"===e||!za&&Fa(e,t)?(e=ea(),Zt=Xt=Qt=null,Wa=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ba&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(n=Yn(n,"onBeforeInput")).length&&(r=new ya("onBeforeInput","beforeinput",null,a,r),i.push({event:r,listeners:n}),r.data=v))}On(i,t)})}function Hn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Yn(e,t){for(var a=t+"Capture",n=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Re(e,a))&&n.unshift(Hn(e,s,r)),null!=(s=Re(e,t))&&n.push(Hn(e,s,r))),e=e.return}return n}function Jn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $n(e,t,a,n,r){for(var s=t._reactName,i=[];null!==a&&a!==n;){var o=a,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Re(a,s))&&i.unshift(Hn(a,l,o)):r||null!=(l=Re(a,s))&&i.push(Hn(a,l,o))),a=a.return}0!==i.length&&e.push({event:t,listeners:i})}var Gn=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Kn,"")}function Xn(e,t,a){if(t=Qn(t),Qn(e)!==t&&a)throw Error(s(425))}function Zn(){}var er=null,tr=null;function ar(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:nr;function or(e){setTimeout(function(){throw e})}function lr(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)){if(0===n)return e.removeChild(r),void Ut(t);n--}else"$"!==a&&"$?"!==a&&"$!"!==a||n++;a=r}while(a);Ut(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,hr="__reactProps$"+ur,mr="__reactContainer$"+ur,gr="__reactEvents$"+ur,xr="__reactListeners$"+ur,fr="__reactHandles$"+ur;function vr(e){var t=e[pr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[mr]||a[pr]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=dr(e);null!==e;){if(a=e[pr])return a;e=dr(e)}return t}a=(e=a).parentNode}return null}function yr(e){return!(e=e[pr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jr(e){return e[hr]||null}var wr=[],Nr=-1;function kr(e){return{current:e}}function _r(e){0>Nr||(e.current=wr[Nr],wr[Nr]=null,Nr--)}function Sr(e,t){Nr++,wr[Nr]=e.current,e.current=t}var Cr={},Pr=kr(Cr),Er=kr(!1),Tr=Cr;function Ar(e,t){var a=e.type.contextTypes;if(!a)return Cr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in a)s[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zr(){_r(Er),_r(Pr)}function Ir(e,t,a){if(Pr.current!==Cr)throw Error(s(168));Sr(Pr,t),Sr(Er,a)}function Lr(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return a;for(var r in n=n.getChildContext())if(!(r in t))throw Error(s(108,q(e)||"Unknown",r));return D({},a,n)}function Br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Tr=Pr.current,Sr(Pr,e),Sr(Er,Er.current),!0}function Dr(e,t,a){var n=e.stateNode;if(!n)throw Error(s(169));a?(e=Lr(e,t,Tr),n.__reactInternalMemoizedMergedChildContext=e,_r(Er),_r(Pr),Sr(Pr,e)):_r(Er),Sr(Er,a)}var Or=null,Fr=!1,Mr=!1;function Wr(e){null===Or?Or=[e]:Or.push(e)}function Ur(){if(!Mr&&null!==Or){Mr=!0;var e=0,t=yt;try{var a=Or;for(yt=1;e<a.length;e++){var n=a[e];do{n=n(!0)}while(null!==n)}Or=null,Fr=!1}catch(r){throw null!==Or&&(Or=Or.slice(e+1)),Je(Ze,Ur),r}finally{yt=t,Mr=!1}}return null}var qr=[],Vr=0,Hr=null,Yr=0,Jr=[],$r=0,Gr=null,Kr=1,Qr="";function Xr(e,t){qr[Vr++]=Yr,qr[Vr++]=Hr,Hr=e,Yr=t}function Zr(e,t,a){Jr[$r++]=Kr,Jr[$r++]=Qr,Jr[$r++]=Gr,Gr=e;var n=Kr;e=Qr;var r=32-it(n)-1;n&=~(1<<r),a+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Kr=1<<32-it(t)+r|a<<r|n,Qr=s+e}else Kr=1<<s|a<<r|n,Qr=e}function es(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ts(e){for(;e===Hr;)Hr=qr[--Vr],qr[Vr]=null,Yr=qr[--Vr],qr[Vr]=null;for(;e===Gr;)Gr=Jr[--$r],Jr[$r]=null,Qr=Jr[--$r],Jr[$r]=null,Kr=Jr[--$r],Jr[$r]=null}var as=null,ns=null,rs=!1,ss=null;function is(e,t){var a=Ac(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function os(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ns=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==Gr?{id:Kr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=Ac(18,null,null,0)).stateNode=t,a.return=e,e.child=a,as=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=ns;if(t){var a=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cr(a.nextSibling);var n=as;t&&os(e,t)?is(n,a):(e.flags=-4097&e.flags|2,rs=!1,as=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,as=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function us(e){if(e!==as)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ar(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw ps(),Error(s(418));for(;t;)is(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){ns=cr(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}ns=null}}else ns=as?cr(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=ns;e;)e=cr(e.nextSibling)}function hs(){ns=as=null,rs=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function xs(e,t,a){if(null!==(e=a.ref)&&"function"!==typeof e&&"object"!==typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(s(309));var n=a.stateNode}if(!n)throw Error(s(147,e));var r=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function i(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=2,a):n:(t.flags|=2,a):(t.flags|=1048576,a)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,a,n){return null===t||6!==t.tag?((t=Dc(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function c(e,t,a,n){var s=a.type;return s===N?u(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&vs(s)===t.type)?((n=r(t,a.props)).ref=xs(e,t,a),n.return=e,n):((n=Ic(a.type,a.key,a.props,null,e.mode,n)).ref=xs(e,t,a),n.return=e,n)}function d(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Oc(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function u(e,t,a,n,s){return null===t||7!==t.tag?((t=Lc(a,e.mode,n,s)).return=e,t):((t=r(t,a)).return=e,t)}function p(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(a=Ic(t.type,t.key,t.props,null,e.mode,a)).ref=xs(e,null,t),a.return=e,a;case w:return(t=Oc(t,e.mode,a)).return=e,t;case R:return p(e,(0,t._init)(t._payload),a)}if(te(t)||L(t))return(t=Lc(t,e.mode,a,null)).return=e,t;fs(e,t)}return null}function h(e,t,a,n){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a)return null!==r?null:l(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return a.key===r?c(e,t,a,n):null;case w:return a.key===r?d(e,t,a,n):null;case R:return h(e,t,(r=a._init)(a._payload),n)}if(te(a)||L(a))return null!==r?null:u(e,t,a,n,null);fs(e,a)}return null}function m(e,t,a,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(a)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?a:n.key)||null,n,r);case w:return d(t,e=e.get(null===n.key?a:n.key)||null,n,r);case R:return m(e,t,a,(0,n._init)(n._payload),r)}if(te(n)||L(n))return u(t,e=e.get(a)||null,n,r,null);fs(t,n)}return null}function g(r,s,o,l){for(var c=null,d=null,u=s,g=s=0,x=null;null!==u&&g<o.length;g++){u.index>g?(x=u,u=null):x=u.sibling;var f=h(r,u,o[g],l);if(null===f){null===u&&(u=x);break}e&&u&&null===f.alternate&&t(r,u),s=i(f,s,g),null===d?c=f:d.sibling=f,d=f,u=x}if(g===o.length)return a(r,u),rs&&Xr(r,g),c;if(null===u){for(;g<o.length;g++)null!==(u=p(r,o[g],l))&&(s=i(u,s,g),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,g),c}for(u=n(r,u);g<o.length;g++)null!==(x=m(u,r,g,o[g],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?g:x.key),s=i(x,s,g),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),rs&&Xr(r,g),c}function x(r,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,g=o,x=o=0,f=null,v=l.next();null!==g&&!v.done;x++,v=l.next()){g.index>x?(f=g,g=null):f=g.sibling;var y=h(r,g,v.value,c);if(null===y){null===g&&(g=f);break}e&&g&&null===y.alternate&&t(r,g),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y,g=f}if(v.done)return a(r,g),rs&&Xr(r,x),d;if(null===g){for(;!v.done;x++,v=l.next())null!==(v=p(r,v.value,c))&&(o=i(v,o,x),null===u?d=v:u.sibling=v,u=v);return rs&&Xr(r,x),d}for(g=n(r,g);!v.done;x++,v=l.next())null!==(v=m(g,r,x,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?x:v.key),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v);return e&&g.forEach(function(e){return t(r,e)}),rs&&Xr(r,x),d}return function e(n,s,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){a(n,d.sibling),(s=r(d,i.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&vs(c)===d.type){a(n,d.sibling),(s=r(d,i.props)).ref=xs(n,d,i),s.return=n,n=s;break e}a(n,d);break}t(n,d),d=d.sibling}i.type===N?((s=Lc(i.props.children,n.mode,l,i.key)).return=n,n=s):((l=Ic(i.type,i.key,i.props,null,n.mode,l)).ref=xs(n,s,i),l.return=n,n=l)}return o(n);case w:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){a(n,s.sibling),(s=r(s,i.children||[])).return=n,n=s;break e}a(n,s);break}t(n,s),s=s.sibling}(s=Oc(i,n.mode,l)).return=n,n=s}return o(n);case R:return e(n,s,(d=i._init)(i._payload),l)}if(te(i))return g(n,s,i,l);if(L(i))return x(n,s,i,l);fs(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(a(n,s.sibling),(s=r(s,i)).return=n,n=s):(a(n,s),(s=Dc(i,n.mode,l)).return=n,n=s),o(n)):a(n,s)}}var bs=ys(!0),js=ys(!1),ws=kr(null),Ns=null,ks=null,_s=null;function Ss(){_s=ks=Ns=null}function Cs(e){var t=ws.current;_r(ws),e._currentValue=t}function Ps(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Es(e,t){Ns=e,_s=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var As=null;function Rs(e){null===As?As=[e]:As.push(e)}function zs(e,t,a,n){var r=t.interleaved;return null===r?(a.next=a,Rs(t)):(a.next=r.next,r.next=a),t.interleaved=a,Is(e,n)}function Is(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var Ls=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Is(e,a)}return null===(r=n.interleaved)?(t.next=t,Rs(n)):(t.next=r.next,r.next=t),n.interleaved=t,Is(e,a)}function Ms(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,vt(e,a)}}function Ws(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,s=null;if(null!==(a=a.firstBaseUpdate)){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===s?r=s=i:s=s.next=i,a=a.next}while(null!==a);null===s?r=s=t:s=s.next=t}else r=s=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Us(e,t,a,n){var r=e.updateQueue;Ls=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(i=0,d=c=l=null,o=s;;){var p=o.lane,h=o.eventTime;if((n&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(p=t,h=a,g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(h,u,p):m)||void 0===p)break e;u=D({},u,p);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(p=o).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Bl|=i,e.lanes=i,e.memoizedState=u}}function qs(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=a,"function"!==typeof r)throw Error(s(191,r));r.call(n)}}}var Vs={},Hs=kr(Vs),Ys=kr(Vs),Js=kr(Vs);function $s(e){if(e===Vs)throw Error(s(174));return e}function Gs(e,t){switch(Sr(Js,t),Sr(Ys,e),Sr(Hs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_r(Hs),Sr(Hs,t)}function Ks(){_r(Hs),_r(Ys),_r(Js)}function Qs(e){$s(Js.current);var t=$s(Hs.current),a=le(t,e.type);t!==a&&(Sr(Ys,e),Sr(Hs,a))}function Xs(e){Ys.current===e&&(_r(Hs),_r(Ys))}var Zs=kr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ai(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=b.ReactCurrentDispatcher,ri=b.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,pi=0;function hi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!on(e[a],t[a]))return!1;return!0}function gi(e,t,a,n,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Xi:Zi,e=a(n,r),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=a(n,r)}while(di)}if(ni.current=Qi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=vi(),a=t.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=e;var n=oi,r=n.baseQueue,i=a.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}n.baseQueue=r=i,a.pending=null}if(null!==r){i=r.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=n):c=c.next=p,ii.lanes|=u,Bl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,a.lastRenderedState=n}if(null!==(e=a.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,Bl|=i,r=r.next}while(r!==e)}else null===r&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function ji(e){var t=vi(),a=t.queue;if(null===a)throw Error(s(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,i=t.memoizedState;if(null!==r){a.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);on(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function wi(){}function Ni(e,t){var a=ii,n=vi(),r=t(),i=!on(n.memoizedState,r);if(i&&(n.memoizedState=r,yo=!0),n=n.queue,Li(Si.bind(null,a,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(a.flags|=2048,Ti(9,_i.bind(null,a,n,r,t),void 0,null),null===El)throw Error(s(349));0!==(30&si)||ki(a,t,r)}return r}function ki(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function _i(e,t,a,n){t.value=a,t.getSnapshot=n,Ci(t)&&Pi(e)}function Si(e,t,a){return a(function(){Ci(t)&&Pi(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!on(e,a)}catch(n){return!0}}function Pi(e){var t=Is(e,1);null!==t&&ac(t,e,1,-1)}function Ei(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ji.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ai(){return vi().memoizedState}function Ri(e,t,a,n){var r=fi();ii.flags|=e,r.memoizedState=Ti(1|t,a,void 0,void 0===n?null:n)}function zi(e,t,a,n){var r=vi();n=void 0===n?null:n;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==n&&mi(n,i.deps))return void(r.memoizedState=Ti(t,a,s,n))}ii.flags|=e,r.memoizedState=Ti(1|t,a,s,n)}function Ii(e,t){return Ri(8390656,8,e,t)}function Li(e,t){return zi(2048,8,e,t)}function Bi(e,t){return zi(4,2,e,t)}function Di(e,t){return zi(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,zi(4,4,Oi.bind(null,t,e),a)}function Mi(){}function Wi(e,t){var a=vi();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Ui(e,t){var a=vi();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function qi(e,t,a){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=a):(on(a,t)||(a=gt(),ii.lanes|=a,Bl|=a,e.baseState=!0),t)}function Vi(e,t){var a=yt;yt=0!==a&&4>a?a:4,e(!0);var n=ri.transition;ri.transition={};try{e(!1),t()}finally{yt=a,ri.transition=n}}function Hi(){return vi().memoizedState}function Yi(e,t,a){var n=tc(e);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},$i(e))Gi(t,a);else if(null!==(a=zs(e,t,a,n))){ac(a,e,n,ec()),Ki(a,t,n)}}function Ji(e,t,a){var n=tc(e),r={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if($i(e))Gi(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,a);if(r.hasEagerState=!0,r.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(r.next=r,Rs(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(a=zs(e,t,r,n))&&(ac(a,e,n,r=ec()),Ki(a,t,n))}}function $i(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){di=ci=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ki(e,t,a){if(0!==(4194240&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,vt(e,a)}}var Qi={readContext:Ts,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:Ts,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Ii,useImperativeHandle:function(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Ri(4194308,4,Oi.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var a=fi();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=fi();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Ei,useDebugValue:Mi,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Ei(!1),t=e[0];return e=Vi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=ii,r=fi();if(rs){if(void 0===a)throw Error(s(407));a=a()}else{if(a=t(),null===El)throw Error(s(349));0!==(30&si)||ki(n,t,a)}r.memoizedState=a;var i={value:a,getSnapshot:t};return r.queue=i,Ii(Si.bind(null,n,i,e),[e]),n.flags|=2048,Ti(9,_i.bind(null,n,i,a,t),void 0,null),a},useId:function(){var e=fi(),t=El.identifierPrefix;if(rs){var a=Qr;t=":"+t+"R"+(a=(Kr&~(1<<32-it(Kr)-1)).toString(32)+a),0<(a=ui++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ts,useCallback:Wi,useContext:Ts,useEffect:Li,useImperativeHandle:Fi,useInsertionEffect:Bi,useLayoutEffect:Di,useMemo:Ui,useReducer:bi,useRef:Ai,useState:function(){return bi(yi)},useDebugValue:Mi,useDeferredValue:function(e){return qi(vi(),oi.memoizedState,e)},useTransition:function(){return[bi(yi)[0],vi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ts,useCallback:Wi,useContext:Ts,useEffect:Li,useImperativeHandle:Fi,useInsertionEffect:Bi,useLayoutEffect:Di,useMemo:Ui,useReducer:ji,useRef:Ai,useState:function(){return ji(yi)},useDebugValue:Mi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:qi(t,oi.memoizedState,e)},useTransition:function(){return[ji(yi)[0],vi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var a in t=D({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function ao(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:D({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),s=Os(n,r);s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=Fs(e,s,r))&&(ac(t,e,r,n),Ms(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),s=Os(n,r);s.tag=1,s.payload=t,void 0!==a&&null!==a&&(s.callback=a),null!==(t=Fs(e,s,r))&&(ac(t,e,r,n),Ms(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ec(),n=tc(e),r=Os(a,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fs(e,r,n))&&(ac(t,e,n,a),Ms(t,e,n))}};function ro(e,t,a,n,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(a,n)||!ln(r,s))}function so(e,t,a){var n=!1,r=Cr,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(r=Rr(t)?Tr:Pr.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ar(e,r):Cr),t=new t(a,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs={},Bs(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ts(s):(s=Rr(t)?Tr:Pr.current,r.context=Ar(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ao(e,t,s,a),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&no.enqueueReplaceState(r,r.state,null),Us(e,a,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var a="",n=t;do{a+=W(n),n=n.return}while(n);var r=a}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var po="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,a){(a=Os(-1,a)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){Vl||(Vl=!0,Hl=n),uo(0,t)},a}function mo(e,t,a){(a=Os(-1,a)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;a.payload=function(){return n(r)},a.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(a.callback=function(){uo(0,t),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function go(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new po;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(r.add(a),e=_c.bind(null,e,t,a),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,a,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Os(-1,1)).tag=2,Fs(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vo=b.ReactCurrentOwner,yo=!1;function bo(e,t,a,n){t.child=null===e?js(t,null,a,n):bs(t,e.child,a,n)}function jo(e,t,a,n,r){a=a.render;var s=t.ref;return Es(t,r),n=gi(e,t,a,n,s,r),a=xi(),null===e||yo?(rs&&a&&es(t),t.flags|=1,bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vo(e,t,r))}function wo(e,t,a,n,r){if(null===e){var s=a.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Ic(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,n,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((a=null!==(a=a.compare)?a:ln)(i,n)&&e.ref===t.ref)return Vo(e,t,r)}return t.flags|=1,(e=zc(s,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,a,n,r){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(yo=!1,t.pendingProps=n=s,0===(e.lanes&r))return t.lanes=e.lanes,Vo(e,t,r);0!==(131072&e.flags)&&(yo=!0)}}return So(e,t,a,n,r)}function ko(e,t,a){var n=t.pendingProps,r=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(zl,Rl),Rl|=a;else{if(0===(1073741824&a))return e=null!==s?s.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(zl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:a,Sr(zl,Rl),Rl|=n}else null!==s?(n=s.baseLanes|a,t.memoizedState=null):n=a,Sr(zl,Rl),Rl|=n;return bo(e,t,r,a),t.child}function _o(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,a,n,r){var s=Rr(a)?Tr:Pr.current;return s=Ar(t,s),Es(t,r),a=gi(e,t,a,n,s,r),n=xi(),null===e||yo?(rs&&n&&es(t),t.flags|=1,bo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vo(e,t,r))}function Co(e,t,a,n,r){if(Rr(a)){var s=!0;Br(t)}else s=!1;if(Es(t,r),null===t.stateNode)qo(e,t),so(t,a,n),oo(t,a,n,r),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=a.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Ar(t,c=Rr(a)?Tr:Pr.current);var d=a.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),Ls=!1;var p=t.memoizedState;i.state=p,Us(t,n,i,r),l=t.memoizedState,o!==n||p!==l||Er.current||Ls?("function"===typeof d&&(ao(t,a,d,n),l=t.memoizedState),(o=Ls||ro(t,a,o,n,p,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ds(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,p=i.context,"object"===typeof(l=a.contextType)&&null!==l?l=Ts(l):l=Ar(t,l=Rr(a)?Tr:Pr.current);var h=a.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||p!==l)&&io(t,i,n,l),Ls=!1,p=t.memoizedState,i.state=p,Us(t,n,i,r);var m=t.memoizedState;o!==u||p!==m||Er.current||Ls?("function"===typeof h&&(ao(t,a,h,n),m=t.memoizedState),(c=Ls||ro(t,a,c,n,p,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Po(e,t,a,n,s,r)}function Po(e,t,a,n,r,s){_o(e,t);var i=0!==(128&t.flags);if(!n&&!i)return r&&Dr(t,a,!1),Vo(e,t,s);n=t.stateNode,vo.current=t;var o=i&&"function"!==typeof a.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=n.state,r&&Dr(t,a,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Ir(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ir(0,t.context,!1),Gs(e,t.containerInfo)}function To(e,t,a,n,r){return hs(),ms(r),t.flags|=256,bo(e,t,a,n),t.child}var Ao,Ro,zo,Io,Lo={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,a){var n,r=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sr(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Bc(l,r,0,null),e=Lc(e,r,a,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(a),t.memoizedState=Lo,e):Oo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,a,n,r,i,o){if(a)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,n=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,r=t.mode,n=Bc({mode:"visible",children:n.children},r,0,null),(i=Lc(i,r,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Lo,i);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var l=n.dgst;return n=l,Fo(e,t,o,n=co(i=Error(s(419)),n,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(n=El)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Is(e,r),ac(n,e,r,-1))}return gc(),Fo(e,t,o,n=co(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ns=cr(r.nextSibling),as=t,rs=!0,ss=null,null!==e&&(Jr[$r++]=Kr,Jr[$r++]=Qr,Jr[$r++]=Gr,Kr=e.id,Qr=e.overflow,Gr=t),t=Oo(t,n.children),t.flags|=4096,t)}(e,t,l,r,n,i,a);if(o){o=r.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=zc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=zc(n,o):(o=Lc(o,l,a,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Bo(a):{baseLanes:l.baseLanes|a,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~a,t.memoizedState=Lo,r}return e=(o=e.child).sibling,r=zc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=a),r.return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r}function Oo(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,a,n){return null!==n&&ms(n),bs(t,e.child,null,a),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mo(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ps(e.return,t,a)}function Wo(e,t,a,n,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=r)}function Uo(e,t,a){var n=t.pendingProps,r=n.revealOrder,s=n.tail;if(bo(e,t,n.children,a),0!==(2&(n=Zs.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mo(e,a,t);else if(19===e.tag)Mo(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sr(Zs,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===ei(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Wo(t,!1,r,a,s);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Wo(t,!0,a,null,s);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(a=zc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=zc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Ho(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Jo(e,t,a){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Rr(t.type)&&zr(),Yo(t),null;case 3:return n=t.stateNode,Ks(),_r(Er),_r(Pr),ai(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Ro(e,t),Yo(t),null;case 5:Xs(t);var r=$s(Js.current);if(a=t.type,null!==e&&null!=t.stateNode)zo(e,t,a,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Yo(t),null}if(e=$s(Hs.current),us(t)){n=t.stateNode,a=t.type;var i=t.memoizedProps;switch(n[pr]=t,n[hr]=i,e=0!==(1&t.mode),a){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(r=0;r<Ln.length;r++)Fn(Ln[r],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":K(n,i),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Fn("invalid",n);break;case"textarea":re(n,i),Fn("invalid",n)}for(var l in ve(a,i),r=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(a){case"input":Y(n),Z(n,i,!0);break;case"textarea":Y(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(a,{is:n.is}):(e=l.createElement(a),"select"===a&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,a),e[pr]=t,e[hr]=n,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(a,n),a){case"dialog":Fn("cancel",e),Fn("close",e),r=n;break;case"iframe":case"object":case"embed":Fn("load",e),r=n;break;case"video":case"audio":for(r=0;r<Ln.length;r++)Fn(Ln[r],e);r=n;break;case"source":Fn("error",e),r=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),r=n;break;case"details":Fn("toggle",e),r=n;break;case"input":K(e,n),r=G(e,n),Fn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=D({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),Fn("invalid",e)}for(i in ve(a,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==a||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Fn("scroll",e):null!=d&&y(e,i,d,l))}switch(a){case"input":Y(e),Z(e,n,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?ae(e,!!n.multiple,i,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zn)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(a=$s(Js.current),$s(Hs.current),us(t)){if(n=t.stateNode,a=t.memoizedProps,n[pr]=t,(i=n.nodeValue!==a)&&null!==(e=as))switch(e.tag){case 3:Xn(n.nodeValue,a,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,a,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===a.nodeType?a:a.ownerDocument).createTextNode(n))[pr]=t,t.stateNode=n}return Yo(t),null;case 13:if(_r(Zs),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,i=!1;else if(i=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[pr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=a,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Il&&(Il=3):gc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return Ks(),Ro(e,t),null===e&&Un(t.stateNode.containerInfo),Yo(t),null;case 10:return Cs(t.type._context),Yo(t),null;case 19:if(_r(Zs),null===(i=t.memoizedState))return Yo(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Ho(i,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;null!==a;)e=n,(i=a).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Sr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!rs)return Yo(t),null}else 2*Qe()-i.renderingStartTime>Ul&&1073741824!==a&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(a=i.last)?a.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,a=Zs.current,Sr(Zs,n?1&a|2:1&a),t):(Yo(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return Rr(t.type)&&zr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ks(),_r(Er),_r(Pr),ai(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(_r(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _r(Zs),null;case 4:return Ks(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ao=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ro=function(){},zo=function(e,t,a,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,$s(Hs.current);var s,i=null;switch(a){case"input":r=G(e,r),n=G(e,n),i=[];break;case"select":r=D({},r,{value:void 0}),n=D({},n,{value:void 0}),i=[];break;case"textarea":r=ne(e,r),n=ne(e,n),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ve(a,n),a=null,r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(s in l)l.hasOwnProperty(s)&&(a||(a={}),a[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=r?r[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(a||(a={}),a[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(a||(a={}),a[s]=c[s])}else a||(i||(i=[]),i.push(d,a)),a=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}a&&(i=i||[]).push("style",a);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Io=function(e,t,a,n){a!==n&&(t.flags|=4)};var Go=!1,Ko=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var a=e.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(n){kc(e,t,n)}else a.current=null}function el(e,t,a){try{a()}catch(n){kc(e,t,n)}}var tl=!1;function al(e,t,a){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,a,s)}r=r.next}while(r!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function rl(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[hr],delete t[gr],delete t[xr],delete t[fr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,a),e=e.sibling;null!==e;)ll(e,t,a),e=e.sibling}function cl(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,a),e=e.sibling;null!==e;)cl(e,t,a),e=e.sibling}var dl=null,ul=!1;function pl(e,t,a){for(a=a.child;null!==a;)hl(e,t,a),a=a.sibling}function hl(e,t,a){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,a)}catch(o){}switch(a.tag){case 5:Ko||Zo(a,t);case 6:var n=dl,r=ul;dl=null,pl(e,t,a),ul=r,null!==(dl=n)&&(ul?(e=dl,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):dl.removeChild(a.stateNode));break;case 18:null!==dl&&(ul?(e=dl,a=a.stateNode,8===e.nodeType?lr(e.parentNode,a):1===e.nodeType&&lr(e,a),Ut(e)):lr(dl,a.stateNode));break;case 4:n=dl,r=ul,dl=a.stateNode.containerInfo,ul=!0,pl(e,t,a),dl=n,ul=r;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(n=a.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(a,t,i),r=r.next}while(r!==n)}pl(e,t,a);break;case 1:if(!Ko&&(Zo(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(o){kc(a,t,o)}pl(e,t,a);break;case 21:pl(e,t,a);break;case 22:1&a.mode?(Ko=(n=Ko)||null!==a.memoizedState,pl(e,t,a),Ko=n):pl(e,t,a);break;default:pl(e,t,a)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Qo),t.forEach(function(t){var n=Pc.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))})}}function gl(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));hl(i,o,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){kc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),fl(e),4&n){try{al(3,e,e.return),nl(3,e)}catch(x){kc(e,e.return,x)}try{al(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:gl(t,e),fl(e),512&n&&null!==a&&Zo(a,a.return);break;case 5:if(gl(t,e),fl(e),512&n&&null!==a&&Zo(a,a.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(x){kc(e,e.return,x)}}if(4&n&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==a?a.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(r,i),ye(l,o);var d=ye(l,i);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?xe(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):y(r,u,p,d)}switch(l){case"input":X(r,i);break;case"textarea":se(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ae(r,!!i.multiple,m,!1):h!==!!i.multiple&&(null!=i.defaultValue?ae(r,!!i.multiple,i.defaultValue,!0):ae(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(gl(t,e),fl(e),4&n){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(gl(t,e),fl(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:gl(t,e),fl(e);break;case 13:gl(t,e),fl(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Wl=Qe())),4&n&&ml(e);break;case 22:if(u=null!==a&&null!==a.memoizedState,1&e.mode?(Ko=(d=Ko)||u,gl(t,e),Ko=d):gl(t,e),fl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(p=Xo=u;null!==Xo;){switch(m=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:al(4,h,h.return);break;case 1:Zo(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){n=h,a=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){kc(n,a,x)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){jl(p);continue}}null!==m?(m.return=h,Xo=m):jl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),fl(e),4&n&&ml(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(il(a)){var n=a;break e}a=a.return}throw Error(s(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(pe(r,""),n.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,a){Xo=e,yl(e,t,a)}function yl(e,t,a){for(var n=0!==(1&e.mode);null!==Xo;){var r=Xo,s=r.child;if(22===r.tag&&n){var i=null!==r.memoizedState||Go;if(!i){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=Go;var c=Ko;if(Go=i,(Ko=l)&&!c)for(Xo=r;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(r):null!==l?(l.return=i,Xo=l):wl(r);for(;null!==s;)Xo=s,yl(s,t,a),s=s.sibling;Xo=r,Go=o,Ko=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Xo=s):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var a=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ko)if(null===a)n.componentDidMount();else{var r=t.elementType===t.type?a.memoizedProps:to(t.type,a.memoizedProps);n.componentDidUpdate(r,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qs(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}qs(t,o,a)}break;case 5:var l=t.stateNode;if(null===a&&4&t.flags){a=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(s(163))}Ko||512&t.flags&&rl(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(a=t.sibling)){a.return=t.return,Xo=a;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xo=a;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{nl(4,t)}catch(l){kc(t,a,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(l){kc(t,r,l)}}var s=t.return;try{rl(t)}catch(l){kc(t,s,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Nl,kl=Math.ceil,_l=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Pl=0,El=null,Tl=null,Al=0,Rl=0,zl=kr(0),Il=0,Ll=null,Bl=0,Dl=0,Ol=0,Fl=null,Ml=null,Wl=0,Ul=1/0,ql=null,Vl=!1,Hl=null,Yl=null,Jl=!1,$l=null,Gl=0,Kl=0,Ql=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Pl)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Al?Al&-Al:null!==gs.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function ac(e,t,a,n){if(50<Kl)throw Kl=0,Ql=null,Error(s(185));ft(e,a,n),0!==(2&Pl)&&e===El||(e===El&&(0===(2&Pl)&&(Dl|=a),4===Il&&oc(e,Al)),nc(e,n),1===a&&0===Pl&&0===(1&t.mode)&&(Ul=Qe()+500,Fr&&Ur()))}function nc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=r[i];-1===l?0!==(o&a)&&0===(o&n)||(r[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=pt(e,e===El?Al:0);if(0===n)null!==a&&$e(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=a&&$e(a),1===t)0===e.tag?function(e){Fr=!0,Wr(e)}(lc.bind(null,e)):Wr(lc.bind(null,e)),ir(function(){0===(6&Pl)&&Ur()}),a=null;else{switch(bt(n)){case 1:a=Ze;break;case 4:a=et;break;case 16:default:a=tt;break;case 536870912:a=nt}a=Ec(a,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&Pl))throw Error(s(327));var a=e.callbackNode;if(wc()&&e.callbackNode!==a)return null;var n=pt(e,e===El?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var r=Pl;Pl|=2;var i=mc();for(El===e&&Al===t||(ql=null,Ul=Qe()+500,pc(e,t));;)try{vc();break}catch(l){hc(e,l)}Ss(),_l.current=i,Pl=r,null!==Tl?t=0:(El=null,Al=0,t=Il)}if(0!==t){if(2===t&&(0!==(r=mt(e))&&(n=r,t=sc(e,r))),1===t)throw a=Ll,pc(e,0),oc(e,n),nc(e,Qe()),a;if(6===t)oc(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var n=0;n<a.length;n++){var r=a[n],s=r.getSnapshot;r=r.value;try{if(!on(s(),r))return!1}catch(o){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=xc(e,n))&&(0!==(i=mt(e))&&(n=i,t=sc(e,i))),1===t))throw a=Ll,pc(e,0),oc(e,n),nc(e,Qe()),a;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Ml,ql);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Wl+500-Qe())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(jc.bind(null,e,Ml,ql),t);break}jc(e,Ml,ql);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>r&&(r=o),n&=~i}if(n=r,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=nr(jc.bind(null,e,Ml,ql),n);break}jc(e,Ml,ql);break;default:throw Error(s(329))}}}return nc(e,Qe()),e.callbackNode===a?rc.bind(null,e):null}function sc(e,t){var a=Fl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Ml,Ml=a,null!==t&&ic(t)),e}function ic(e){null===Ml?Ml=e:Ml.push.apply(Ml,e)}function oc(e,t){for(t&=~Ol,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-it(t),n=1<<a;e[a]=-1,t&=~n}}function lc(e){if(0!==(6&Pl))throw Error(s(327));wc();var t=pt(e,0);if(0===(1&t))return nc(e,Qe()),null;var a=xc(e,t);if(0!==e.tag&&2===a){var n=mt(e);0!==n&&(t=n,a=sc(e,n))}if(1===a)throw a=Ll,pc(e,0),oc(e,t),nc(e,Qe()),a;if(6===a)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ml,ql),nc(e,Qe()),null}function cc(e,t){var a=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=a)&&(Ul=Qe()+500,Fr&&Ur())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Pl)&&wc();var t=Pl;Pl|=1;var a=Cl.transition,n=yt;try{if(Cl.transition=null,yt=1,e)return e()}finally{yt=n,Cl.transition=a,0===(6&(Pl=t))&&Ur()}}function uc(){Rl=zl.current,_r(zl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,rr(a)),null!==Tl)for(a=Tl.return;null!==a;){var n=a;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&zr();break;case 3:Ks(),_r(Er),_r(Pr),ai();break;case 5:Xs(n);break;case 4:Ks();break;case 13:case 19:_r(Zs);break;case 10:Cs(n.type._context);break;case 22:case 23:uc()}a=a.return}if(El=e,Tl=e=zc(e.current,null),Al=Rl=t,Il=0,Ll=null,Ol=Dl=Bl=0,Ml=Fl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(n=(a=As[t]).interleaved)){a.interleaved=null;var r=n.next,s=a.pending;if(null!==s){var i=s.next;s.next=r,n.next=i}a.pending=n}As=null}return e}function hc(e,t){for(;;){var a=Tl;try{if(Ss(),ni.current=Qi,ci){for(var n=ii.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Sl.current=null,null===a||null===a.return){Il=1,Ll=t,Tl=null;break}e:{var i=e,o=a.return,l=a,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=xo(o);if(null!==m){m.flags&=-257,fo(m,o,l,0,t),1&m.mode&&go(i,d,t),c=d;var g=(t=m).updateQueue;if(null===g){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}if(0===(1&t)){go(i,d,t),gc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var f=xo(o);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),fo(f,o,l,0,t),ms(lo(c,l));break e}}i=c=lo(c,l),4!==Il&&(Il=2),null===Fl?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ws(i,ho(0,c,t));break e;case 1:l=c;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Yl||!Yl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ws(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}bc(a)}catch(b){t=b,Tl===a&&null!==a&&(Tl=a=a.return);continue}break}}function mc(){var e=_l.current;return _l.current=Qi,null===e?Qi:e}function gc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===El||0===(268435455&Bl)&&0===(268435455&Dl)||oc(El,Al)}function xc(e,t){var a=Pl;Pl|=2;var n=mc();for(El===e&&Al===t||(ql=null,pc(e,t));;)try{fc();break}catch(r){hc(e,r)}if(Ss(),Pl=a,_l.current=n,null!==Tl)throw Error(s(261));return El=null,Al=0,Il}function fc(){for(;null!==Tl;)yc(Tl)}function vc(){for(;null!==Tl&&!Ge();)yc(Tl)}function yc(e){var t=Nl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Tl=t,Sl.current=null}function bc(e){var t=e;do{var a=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(a=Jo(a,t,Rl)))return void(Tl=a)}else{if(null!==(a=$o(a,t)))return a.flags&=32767,void(Tl=a);if(null===e)return Il=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Il&&(Il=5)}function jc(e,t,a){var n=yt,r=Cl.transition;try{Cl.transition=null,yt=1,function(e,t,a,n){do{wc()}while(null!==$l);if(0!==(6&Pl))throw Error(s(327));a=e.finishedWork;var r=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var r=31-it(a),s=1<<r;t[r]=0,n[r]=-1,e[r]=-1,a&=~s}}(e,i),e===El&&(Tl=El=null,Al=0),0===(2064&a.subtreeFlags)&&0===(2064&a.flags)||Jl||(Jl=!0,Ec(tt,function(){return wc(),null})),i=0!==(15990&a.flags),0!==(15990&a.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=yt;yt=1;var l=Pl;Pl|=4,Sl.current=null,function(e,t){if(er=Vt,hn(e=pn())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch(j){a=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==a||0!==r&&3!==p.nodeType||(l=o+r),p!==i||0!==n&&3!==p.nodeType||(c=o+n),3===p.nodeType&&(o+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===a&&++d===r&&(l=o),h===i&&++u===n&&(c=o),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}a=-1===l||-1===c?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(tr={focusedElem:e,selectionRange:a},Vt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var x=g.memoizedProps,f=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),f);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}g=tl,tl=!1}(e,a),xl(a,e),mn(tr),Vt=!!er,tr=er=null,e.current=a,vl(a,e,r),Ke(),Pl=l,yt=o,Cl.transition=i}else e.current=a;if(Jl&&(Jl=!1,$l=e,Gl=r),i=e.pendingLanes,0===i&&(Yl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(a.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)r=t[a],n(r.value,{componentStack:r.stack,digest:r.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Ql?Kl++:(Kl=0,Ql=e):Kl=0,Ur()}(e,t,a,n)}finally{Cl.transition=r,yt=n}return null}function wc(){if(null!==$l){var e=bt(Gl),t=Cl.transition,a=yt;try{if(Cl.transition=null,yt=16>e?16:e,null===$l)var n=!1;else{if(e=$l,$l=null,Gl=0,0!==(6&Pl))throw Error(s(331));var r=Pl;for(Pl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:al(8,u,i)}var p=u.child;if(null!==p)p.return=u,Xo=p;else for(;null!==Xo;){var h=(u=Xo).sibling,m=u.return;if(sl(u),u===d){Xo=null;break}if(null!==h){h.return=m,Xo=h;break}Xo=m}}}var g=i.alternate;if(null!==g){var x=g.child;if(null!==x){g.child=null;do{var f=x.sibling;x.sibling=null,x=f}while(null!==x)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:al(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xo=v;break e}Xo=i.return}}var y=e.current;for(Xo=y;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=y;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Xo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Xo=j;break e}Xo=l.return}}if(Pl=r,Ur(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(w){}n=!0}return n}finally{yt=a,Cl.transition=t}}return!1}function Nc(e,t,a){e=Fs(e,t=ho(0,t=lo(a,t),1),1),t=ec(),null!==e&&(ft(e,1,t),nc(e,t))}function kc(e,t,a){if(3===e.tag)Nc(e,e,a);else for(;null!==t;){if(3===t.tag){Nc(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){t=Fs(t,e=mo(t,e=lo(a,e),1),1),e=ec(),null!==t&&(ft(t,1,e),nc(t,e));break}}t=t.return}}function _c(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&a,El===e&&(Al&a)===a&&(4===Il||3===Il&&(130023424&Al)===Al&&500>Qe()-Wl?pc(e,0):Ol|=a),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var a=ec();null!==(e=Is(e,t))&&(ft(e,t,a),nc(e,a))}function Cc(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Sc(e,a)}function Pc(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Sc(e,a)}function Ec(e,t){return Je(e,t)}function Tc(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,a,n){return new Tc(e,t,a,n)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var a=e.alternate;return null===a?((a=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Ic(e,t,a,n,r,i){var o=2;if(n=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Lc(a.children,r,i,t);case k:o=8,r|=8;break;case _:return(e=Ac(12,a,t,2|r)).elementType=_,e.lanes=i,e;case E:return(e=Ac(13,a,t,r)).elementType=E,e.lanes=i,e;case T:return(e=Ac(19,a,t,r)).elementType=T,e.lanes=i,e;case z:return Bc(a,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case C:o=9;break e;case P:o=11;break e;case A:o=14;break e;case R:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(o,a,t,r)).elementType=e,t.type=n,t.lanes=i,t}function Lc(e,t,a,n){return(e=Ac(7,e,n,t)).lanes=a,e}function Bc(e,t,a,n){return(e=Ac(22,e,n,t)).elementType=z,e.lanes=a,e.stateNode={isHidden:!1},e}function Dc(e,t,a){return(e=Ac(6,e,null,t)).lanes=a,e}function Oc(e,t,a){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,a,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Mc(e,t,a,n,r,s,i,o,l){return e=new Fc(e,t,a,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bs(s),e}function Wc(e){if(!e)return Cr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var a=e.type;if(Rr(a))return Lr(e,a,t)}return t}function Uc(e,t,a,n,r,s,i,o,l){return(e=Mc(a,n,!0,e,0,s,0,o,l)).context=Wc(null),a=e.current,(s=Os(n=ec(),r=tc(a))).callback=void 0!==t&&null!==t?t:null,Fs(a,s,r),e.current.lanes=r,ft(e,r,n),nc(e,n),e}function qc(e,t,a,n){var r=t.current,s=ec(),i=tc(r);return a=Wc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Os(s,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fs(r,t,i))&&(ac(e,r,i,s),Ms(e,r,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Yc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||Er.current)yo=!0;else{if(0===(e.lanes&a)&&0===(128&t.flags))return yo=!1,function(e,t,a){switch(t.tag){case 3:Eo(t),hs();break;case 5:Qs(t);break;case 1:Rr(t.type)&&Br(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Sr(ws,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Sr(Zs,1&Zs.current),t.flags|=128,null):0!==(a&t.child.childLanes)?Do(e,t,a):(Sr(Zs,1&Zs.current),null!==(e=Vo(e,t,a))?e.sibling:null);Sr(Zs,1&Zs.current);break;case 19:if(n=0!==(a&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(Zs,Zs.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,a)}return Vo(e,t,a)}(e,t,a);yo=0!==(131072&e.flags)}else yo=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Yr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qo(e,t),e=t.pendingProps;var r=Ar(t,Pr.current);Es(t,a),r=gi(null,t,n,e,r,a);var i=xi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(n)?(i=!0,Br(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Bs(t),r.updater=no,t.stateNode=r,r._reactInternals=t,oo(t,n,e,a),t=Po(null,t,n,!0,i,a)):(t.tag=0,rs&&i&&es(t),bo(null,t,r,a),t=t.child),t;case 16:n=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===A)return 14}return 2}(n),e=to(n,e),r){case 0:t=So(null,t,n,e,a);break e;case 1:t=Co(null,t,n,e,a);break e;case 11:t=jo(null,t,n,e,a);break e;case 14:t=wo(null,t,n,to(n.type,e),a);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,So(e,t,n,r=t.elementType===n?r:to(n,r),a);case 1:return n=t.type,r=t.pendingProps,Co(e,t,n,r=t.elementType===n?r:to(n,r),a);case 3:e:{if(Eo(t),null===e)throw Error(s(387));n=t.pendingProps,r=(i=t.memoizedState).element,Ds(e,t),Us(t,n,null,a);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,n,a,r=lo(Error(s(423)),t));break e}if(n!==r){t=To(e,t,n,a,r=lo(Error(s(424)),t));break e}for(ns=cr(t.stateNode.containerInfo.firstChild),as=t,rs=!0,ss=null,a=js(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(hs(),n===r){t=Vo(e,t,a);break e}bo(e,t,n,a)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),n=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,ar(n,r)?o=null:null!==i&&ar(n,i)&&(t.flags|=32),_o(e,t),bo(e,t,o,a),t.child;case 6:return null===e&&cs(t),null;case 13:return Do(e,t,a);case 4:return Gs(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bs(t,null,n,a):bo(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,jo(e,t,n,r=t.elementType===n?r:to(n,r),a);case 7:return bo(e,t,t.pendingProps,a),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,Sr(ws,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===r.children&&!Er.current){t=Vo(e,t,a);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Os(-1,a&-a)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=a,null!==(c=i.alternate)&&(c.lanes|=a),Ps(i.return,a,t),l.lanes|=a;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=a,null!==(l=o.alternate)&&(l.lanes|=a),Ps(o,a,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Es(t,a),n=n(r=Ts(r)),t.flags|=1,bo(e,t,n,a),t.child;case 14:return r=to(n=t.type,t.pendingProps),wo(e,t,n,r=to(n.type,r),a);case 15:return No(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:to(n,r),qo(e,t),t.tag=1,Rr(n)?(e=!0,Br(t)):e=!1,Es(t,a),so(t,n,r),oo(t,n,r,a),Po(null,t,n,!0,e,a);case 19:return Uo(e,t,a);case 22:return ko(e,t,a)}throw Error(s(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,a,n,r){var s=a._reactRootContainer;if(s){var i=s;if("function"===typeof r){var o=r;r=function(){var e=Vc(i);o.call(e)}}qc(t,i,e,r)}else i=function(e,t,a,n,r){if(r){if("function"===typeof n){var s=n;n=function(){var e=Vc(i);s.call(e)}}var i=Uc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[mr]=i.current,Un(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var o=n;n=function(){var e=Vc(l);o.call(e)}}var l=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[mr]=l.current,Un(8===e.nodeType?e.parentNode:e),dc(function(){qc(t,l,a,n)}),l}(a,t,e,r,n);return Vc(i)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){qc(null,e,null,null)}),t[mr]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<zt.length&&0!==t&&t<zt[a].priority;a++);zt.splice(a,0,e),0===a&&Dt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ut(t.pendingLanes);0!==a&&(vt(t,1|a),nc(t,Qe()),0===(6&Pl)&&(Ul=Qe()+500,Ur()))}break;case 13:dc(function(){var t=Is(e,1);if(null!==t){var a=ec();ac(t,e,1,a)}}),Yc(e,1)}},wt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)ac(t,e,134217728,ec());Yc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),a=Is(e,t);if(null!==a)ac(a,e,t,ec());Yc(e,t)}},kt=function(){return yt},_t=function(e,t){var a=yt;try{return yt=e,t()}finally{yt=a}},we=function(e,t,a){switch(t){case"input":if(X(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=jr(n);if(!r)throw Error(s(90));J(n),X(n,r)}}}break;case"textarea":se(e,a);break;case"select":null!=(t=a.value)&&ae(e,!!a.multiple,t,!1)}},Pe=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[yr,br,jr,Se,Ce,cc]},td={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{rt=nd.inject(ad),st=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var a=!1,n="",r=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Mc(e,1,!1,null,0,a,0,n,r),e[mr]=t.current,Un(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,a){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!0,a)},t.hydrateRoot=function(e,t,a){if(!Kc(e))throw Error(s(405));var n=null!=a&&a.hydratedSources||null,r=!1,i="",o=Jc;if(null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(r=!0),void 0!==a.identifierPrefix&&(i=a.identifierPrefix),void 0!==a.onRecoverableError&&(o=a.onRecoverableError)),t=Uc(t,null,e,1,null!=a?a:null,r,0,i,o),e[mr]=t.current,Un(e),n)for(e=0;e<n.length;e++)r=(r=(a=n[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,r]:t.mutableSourceEagerHydrationData.push(a,r);return new Gc(t)},t.render=function(e,t,a){if(!Qc(t))throw Error(s(200));return Zc(null,e,t,!1,a)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!Qc(a))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,a,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,a)=>{e.exports=a(234)},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(730)}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);a.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,a.d(s,i),s}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};a.r(n),a.d(n,{hasBrowserEnv:()=>fe,hasStandardBrowserEnv:()=>ye,hasStandardBrowserWebWorkerEnv:()=>be,navigator:()=>ve,origin:()=>je});var r=a(43),s=a.t(r,2),i=a(391);function o(e,t){return function(){return e.apply(t,arguments)}}const{toString:l}=Object.prototype,{getPrototypeOf:c}=Object,{iterator:d,toStringTag:u}=Symbol,p=(h=Object.create(null),e=>{const t=l.call(e);return h[t]||(h[t]=t.slice(8,-1).toLowerCase())});var h;const m=e=>(e=e.toLowerCase(),t=>p(t)===e),g=e=>t=>typeof t===e,{isArray:x}=Array,f=g("undefined");function v(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&j(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const y=m("ArrayBuffer");const b=g("string"),j=g("function"),w=g("number"),N=e=>null!==e&&"object"===typeof e,k=e=>{if("object"!==p(e))return!1;const t=c(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(u in e)&&!(d in e)},_=m("Date"),S=m("File"),C=m("Blob"),P=m("FileList"),E=m("URLSearchParams"),[T,A,R,z]=["ReadableStream","Request","Response","Headers"].map(m);function I(e,t){let a,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),x(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{if(v(e))return;const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(a=0;a<s;a++)i=n[a],t.call(null,e[i],i,e)}}function L(e,t){if(v(e))return null;t=t.toLowerCase();const a=Object.keys(e);let n,r=a.length;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const B="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,D=e=>!f(e)&&e!==B;const O=(F="undefined"!==typeof Uint8Array&&c(Uint8Array),e=>F&&e instanceof F);var F;const M=m("HTMLFormElement"),W=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),U=m("RegExp"),q=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};I(a,(a,r)=>{let s;!1!==(s=t(a,r,e))&&(n[r]=s||a)}),Object.defineProperties(e,n)};const V=m("AsyncFunction"),H=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),n=[],B.addEventListener("message",e=>{let{source:t,data:r}=e;t===B&&r===a&&n.length&&n.shift()()},!1),e=>{n.push(e),B.postMessage(a,"*")}):e=>setTimeout(e);var a,n})("function"===typeof setImmediate,j(B.postMessage)),Y="undefined"!==typeof queueMicrotask?queueMicrotask.bind(B):"undefined"!==typeof process&&process.nextTick||H,J={isArray:x,isArrayBuffer:y,isBuffer:v,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||j(e.append)&&("formdata"===(t=p(e))||"object"===t&&j(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer),t},isString:b,isNumber:w,isBoolean:e=>!0===e||!1===e,isObject:N,isPlainObject:k,isEmptyObject:e=>{if(!N(e)||v(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:T,isRequest:A,isResponse:R,isHeaders:z,isUndefined:f,isDate:_,isFile:S,isBlob:C,isRegExp:U,isFunction:j,isStream:e=>N(e)&&j(e.pipe),isURLSearchParams:E,isTypedArray:O,isFileList:P,forEach:I,merge:function e(){const{caseless:t}=D(this)&&this||{},a={},n=(n,r)=>{const s=t&&L(a,r)||r;k(a[s])&&k(n)?a[s]=e(a[s],n):k(n)?a[s]=e({},n):x(n)?a[s]=n.slice():a[s]=n};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&I(arguments[r],n);return a},extend:function(e,t,a){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return I(t,(t,n)=>{a&&j(t)?e[n]=o(t,a):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let r,s,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==a&&c(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:p,kindOfTest:m,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(x(e))return e;let t=e.length;if(!w(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[d]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:M,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:q,freezeMethods:e=>{q(e,(t,a)=>{if(j(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];j(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))})},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach(e=>{a[e]=!0})};return x(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,a){return t.toUpperCase()+a}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:L,global:B,isContextDefined:D,isSpecCompliantForm:function(e){return!!(e&&j(e.append)&&"FormData"===e[u]&&e[d])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(N(e)){if(t.indexOf(e)>=0)return;if(v(e))return e;if(!("toJSON"in e)){t[n]=e;const r=x(e)?[]:{};return I(e,(e,t)=>{const s=a(e,n+1);!f(s)&&(r[t]=s)}),t[n]=void 0,r}}return e};return a(e,0)},isAsyncFn:V,isThenable:e=>e&&(N(e)||j(e))&&j(e.then)&&j(e.catch),setImmediate:H,asap:Y,isIterable:e=>null!=e&&j(e[d])};function $(e,t,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}J.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const G=$.prototype,K={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{K[e]={value:e}}),Object.defineProperties($,K),Object.defineProperty(G,"isAxiosError",{value:!0}),$.from=(e,t,a,n,r,s)=>{const i=Object.create(G);return J.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),$.call(i,e.message,t,a,n,r),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const Q=$;function X(e){return J.isPlainObject(e)||J.isArray(e)}function Z(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function ee(e,t,a){return e?e.concat(t).map(function(e,t){return e=Z(e),!a&&t?"["+e+"]":e}).join(a?".":""):t}const te=J.toFlatObject(J,{},null,function(e){return/^is[A-Z]/.test(e)});const ae=function(e,t,a){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=J.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!J.isUndefined(t[e])})).metaTokens,r=a.visitor||c,s=a.dots,i=a.indexes,o=(a.Blob||"undefined"!==typeof Blob&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(J.isDate(e))return e.toISOString();if(J.isBoolean(e))return e.toString();if(!o&&J.isBlob(e))throw new Q("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(e)||J.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let o=e;if(e&&!r&&"object"===typeof e)if(J.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(J.isArray(e)&&function(e){return J.isArray(e)&&!e.some(X)}(e)||(J.isFileList(e)||J.endsWith(a,"[]"))&&(o=J.toArray(e)))return a=Z(a),o.forEach(function(e,n){!J.isUndefined(e)&&null!==e&&t.append(!0===i?ee([a],n,s):null===i?a:a+"[]",l(e))}),!1;return!!X(e)||(t.append(ee(r,a,s),l(e)),!1)}const d=[],u=Object.assign(te,{defaultVisitor:c,convertValue:l,isVisitable:X});if(!J.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!J.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+n.join("."));d.push(a),J.forEach(a,function(a,s){!0===(!(J.isUndefined(a)||null===a)&&r.call(t,a,J.isString(s)?s.trim():s,n,u))&&e(a,n?n.concat(s):[s])}),d.pop()}}(e),t};function ne(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function re(e,t){this._pairs=[],e&&ae(e,this,t)}const se=re.prototype;se.append=function(e,t){this._pairs.push([e,t])},se.toString=function(e){const t=e?function(t){return e.call(this,t,ne)}:ne;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ie=re;function oe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function le(e,t,a){if(!t)return e;const n=a&&a.encode||oe;J.isFunction(a)&&(a={serialize:a});const r=a&&a.serialize;let s;if(s=r?r(t,a):J.isURLSearchParams(t)?t.toString():new ie(t,a).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ce=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){J.forEach(this.handlers,function(t){null!==t&&e(t)})}},de={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function pe(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:t+""}function he(e,t,a){return(t=pe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(Object(a),!0).forEach(function(t){he(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const xe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ie,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},fe="undefined"!==typeof window&&"undefined"!==typeof document,ve="object"===typeof navigator&&navigator||void 0,ye=fe&&(!ve||["ReactNative","NativeScript","NS"].indexOf(ve.product)<0),be="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,je=fe&&window.location.href||"http://localhost",we=ge(ge({},n),xe);const Ne=function(e){function t(e,a,n,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=r>=e.length;if(s=!s&&J.isArray(n)?n.length:s,o)return J.hasOwnProp(n,s)?n[s]=[n[s],a]:n[s]=a,!i;n[s]&&J.isObject(n[s])||(n[s]=[]);return t(e,a,n[s],r)&&J.isArray(n[s])&&(n[s]=function(e){const t={},a=Object.keys(e);let n;const r=a.length;let s;for(n=0;n<r;n++)s=a[n],t[s]=e[s];return t}(n[s])),!i}if(J.isFormData(e)&&J.isFunction(e.entries)){const a={};return J.forEachEntry(e,(e,n)=>{t(function(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,a,0)}),a}return null};const ke={transitional:de,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,r=J.isObject(e);r&&J.isHTMLForm(e)&&(e=new FormData(e));if(J.isFormData(e))return n?JSON.stringify(Ne(e)):e;if(J.isArrayBuffer(e)||J.isBuffer(e)||J.isStream(e)||J.isFile(e)||J.isBlob(e)||J.isReadableStream(e))return e;if(J.isArrayBufferView(e))return e.buffer;if(J.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ae(e,new we.classes.URLSearchParams,ge({visitor:function(e,t,a,n){return we.isNode&&J.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=J.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ae(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,a){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ke.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(J.isResponse(e)||J.isReadableStream(e))return e;if(e&&J.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(r){if(a){if("SyntaxError"===r.name)throw Q.from(r,Q.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],e=>{ke.headers[e]={}});const _e=ke,Se=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ce=Symbol("internals");function Pe(e){return e&&String(e).trim().toLowerCase()}function Ee(e){return!1===e||null==e?e:J.isArray(e)?e.map(Ee):String(e)}function Te(e,t,a,n,r){return J.isFunction(n)?n.call(this,t,a):(r&&(t=a),J.isString(t)?J.isString(n)?-1!==t.indexOf(n):J.isRegExp(n)?n.test(t):void 0:void 0)}class Ae{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function r(e,t,a){const r=Pe(t);if(!r)throw new Error("header name must be a non-empty string");const s=J.findKey(n,r);(!s||void 0===n[s]||!0===a||void 0===a&&!1!==n[s])&&(n[s||t]=Ee(e))}const s=(e,t)=>J.forEach(e,(e,a)=>r(e,a,t));if(J.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(J.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let a,n,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!a||t[a]&&Se[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)}),t})(e),t);else if(J.isObject(e)&&J.isIterable(e)){let a,n,r={};for(const t of e){if(!J.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[n=t[0]]=(a=r[n])?J.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,a);return this}get(e,t){if(e=Pe(e)){const a=J.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(J.isFunction(t))return t.call(this,e,a);if(J.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pe(e)){const a=J.findKey(this,e);return!(!a||void 0===this[a]||t&&!Te(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function r(e){if(e=Pe(e)){const r=J.findKey(a,e);!r||t&&!Te(0,a[r],r,t)||(delete a[r],n=!0)}}return J.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const r=t[a];e&&!Te(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,a={};return J.forEach(this,(n,r)=>{const s=J.findKey(a,r);if(s)return t[s]=Ee(n),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,a)=>t.toUpperCase()+a)}(r):String(r).trim();i!==r&&delete t[r],t[i]=Ee(n),a[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return J.forEach(this,(a,n)=>{null!=a&&!1!==a&&(t[n]=e&&J.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,a]=e;return t+": "+a}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ce]=this[Ce]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=Pe(e);t[n]||(!function(e,t){const a=J.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(e,a,r){return this[n].call(this,t,e,a,r)},configurable:!0})})}(a,e),t[n]=!0)}return J.isArray(e)?e.forEach(n):n(e),this}}Ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),J.reduceDescriptors(Ae.prototype,(e,t)=>{let{value:a}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[n]=e}}}),J.freezeMethods(Ae);const Re=Ae;function ze(e,t){const a=this||_e,n=t||a,r=Re.from(n.headers);let s=n.data;return J.forEach(e,function(e){s=e.call(a,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function Ie(e){return!(!e||!e.__CANCEL__)}function Le(e,t,a){Q.call(this,null==e?"canceled":e,Q.ERR_CANCELED,t,a),this.name="CanceledError"}J.inherits(Le,Q,{__CANCEL__:!0});const Be=Le;function De(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new Q("Request failed with status code "+a.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const Oe=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];r||(r=l),a[s]=o,n[s]=l;let d=i,u=0;for(;d!==s;)u+=a[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-r<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const Fe=function(e,t){let a,n,r=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,a=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(a=l,n||(n=setTimeout(()=>{n=null,i(a)},s-t)))},()=>a&&i(a)]},Me=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=Oe(50,250);return Fe(a=>{const s=a.loaded,i=a.lengthComputable?a.total:void 0,o=s-n,l=r(o);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:a,lengthComputable:null!=i,[t?"download":"upload"]:!0})},a)},We=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},Ue=e=>function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return J.asap(()=>e(...a))},qe=we.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,we.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,Ve=we.hasStandardBrowserEnv?{write(e,t,a,n,r,s){const i=[e+"="+encodeURIComponent(t)];J.isNumber(a)&&i.push("expires="+new Date(a).toGMTString()),J.isString(n)&&i.push("path="+n),J.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function He(e,t,a){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ye=e=>e instanceof Re?ge({},e):e;function Je(e,t){t=t||{};const a={};function n(e,t,a,n){return J.isPlainObject(e)&&J.isPlainObject(t)?J.merge.call({caseless:n},e,t):J.isPlainObject(t)?J.merge({},t):J.isArray(t)?t.slice():t}function r(e,t,a,r){return J.isUndefined(t)?J.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function s(e,t){if(!J.isUndefined(t))return n(void 0,t)}function i(e,t){return J.isUndefined(t)?J.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(a,r,s){return s in t?n(a,r):s in e?n(void 0,a):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,a)=>r(Ye(e),Ye(t),0,!0)};return J.forEach(Object.keys(ge(ge({},e),t)),function(n){const s=l[n]||r,i=s(e[n],t[n],n);J.isUndefined(i)&&s!==o||(a[n]=i)}),a}const $e=e=>{const t=Je({},e);let a,{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Re.from(o),t.url=le(He(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),J.isFormData(n))if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(a=o.getContentType())){const[e,...t]=a?a.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(we.hasStandardBrowserEnv&&(r&&J.isFunction(r)&&(r=r(t)),r||!1!==r&&qe(t.url))){const e=s&&i&&Ve.read(i);e&&o.set(s,e)}return t},Ge="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,a){const n=$e(e);let r=n.data;const s=Re.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=n;function m(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function x(){if(!g)return;const n=Re.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());De(function(e){t(e),m()},function(e){a(e),m()},{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(a(new Q("Request aborted",Q.ECONNABORTED,e,g)),g=null)},g.onerror=function(){a(new Q("Network Error",Q.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||de;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new Q(t,r.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,e,g)),g=null},void 0===r&&s.setContentType(null),"setRequestHeader"in g&&J.forEach(s.toJSON(),function(e,t){g.setRequestHeader(t,e)}),J.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),u&&"json"!==u&&(g.responseType=n.responseType),h&&([l,d]=Me(h,!0),g.addEventListener("progress",l)),p&&g.upload&&([o,c]=Me(p),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{g&&(a(!t||t.type?new Be(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);f&&-1===we.protocols.indexOf(f)?a(new Q("Unsupported protocol "+f+":",Q.ERR_BAD_REQUEST,e)):g.send(r||null)})},Ke=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const r=function(e){if(!a){a=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Q?t:new Be(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,r(new Q("timeout ".concat(t," of ms exceeded"),Q.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=n;return o.unsubscribe=()=>J.asap(i),o}};function Qe(e,t){this.v=e,this.k=t}function Xe(e){return function(){return new Ze(e.apply(this,arguments))}}function Ze(e){var t,a;function n(t,a){try{var s=e[t](a),i=s.value,o=i instanceof Qe;Promise.resolve(o?i.v:i).then(function(a){if(o){var l="return"===t?"return":"next";if(!i.k||a.done)return n(l,a);a=e[l](a).value}r(s.done?"return":"normal",a)},function(e){n("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):a=null}this._invoke=function(e,r){return new Promise(function(s,i){var o={key:e,arg:r,resolve:s,reject:i,next:null};a?a=a.next=o:(t=a=o,n(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function et(e){return new Qe(e,0)}function tt(e){var t={},a=!1;function n(t,n){return a=!0,n=new Promise(function(a){a(e[t](n))}),{done:!1,value:new Qe(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):n("return",e)}),t}function at(e){var t,a,n,r=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(a&&null!=(t=e[a]))return t.call(e);if(n&&null!=(t=e[n]))return new nt(t.call(e));a="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function nt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return nt=function(e){this.s=e,this.n=e.next},nt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new nt(e)}Ze.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ze.prototype.next=function(e){return this._invoke("next",e)},Ze.prototype.throw=function(e){return this._invoke("throw",e)},Ze.prototype.return=function(e){return this._invoke("return",e)};const rt=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let n,r=0;for(;r<a;)n=r+t,yield e.slice(r,n),r=n},st=function(){var e=Xe(function*(e,t){var a,n=!1,r=!1;try{for(var s,i=at(it(e));n=!(s=yield et(i.next())).done;n=!1){const e=s.value;yield*tt(at(rt(e,t)))}}catch(o){r=!0,a=o}finally{try{n&&null!=i.return&&(yield et(i.return()))}finally{if(r)throw a}}});return function(t,a){return e.apply(this,arguments)}}(),it=function(){var e=Xe(function*(e){if(e[Symbol.asyncIterator])return void(yield*tt(at(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield et(t.read());if(e)break;yield a}}finally{yield et(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ot=(e,t,a,n)=>{const r=st(e,t);let s,i=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return o(),void e.close();let s=n.byteLength;if(a){let e=i+=s;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},lt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ct=lt&&"function"===typeof ReadableStream,dt=lt&&("function"===typeof TextEncoder?(ut=new TextEncoder,e=>ut.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ut;const pt=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!e(...a)}catch(r){return!1}},ht=ct&&pt(()=>{let e=!1;const t=new Request(we.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),mt=ct&&pt(()=>J.isReadableStream(new Response("").body)),gt={stream:mt&&(e=>e.body)};var xt;lt&&(xt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gt[e]&&(gt[e]=J.isFunction(xt[e])?t=>t[e]():(t,a)=>{throw new Q("Response type '".concat(e,"' is not supported"),Q.ERR_NOT_SUPPORT,a)})}));const ft=async(e,t)=>{const a=J.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(J.isBlob(e))return e.size;if(J.isSpecCompliantForm(e)){const t=new Request(we.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return J.isArrayBufferView(e)||J.isArrayBuffer(e)?e.byteLength:(J.isURLSearchParams(e)&&(e+=""),J.isString(e)?(await dt(e)).byteLength:void 0)})(t):a},vt=lt&&(async e=>{let{url:t,method:a,data:n,signal:r,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=$e(e);c=c?(c+"").toLowerCase():"text";let h,m=Ke([r,s&&s.toAbortSignal()],i);const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let x;try{if(l&&ht&&"get"!==a&&"head"!==a&&0!==(x=await ft(d,n))){let e,a=new Request(t,{method:"POST",body:n,duplex:"half"});if(J.isFormData(n)&&(e=a.headers.get("content-type"))&&d.setContentType(e),a.body){const[e,t]=We(x,Me(Ue(l)));n=ot(a.body,65536,e,t)}}J.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;h=new Request(t,ge(ge({},p),{},{signal:m,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:r?u:void 0}));let s=await fetch(h,p);const i=mt&&("stream"===c||"response"===c);if(mt&&(o||i&&g)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=J.toFiniteNumber(s.headers.get("content-length")),[a,n]=o&&We(t,Me(Ue(o),!0))||[];s=new Response(ot(s.body,65536,a,()=>{n&&n(),g&&g()}),e)}c=c||"text";let f=await gt[J.findKey(gt,c)||"text"](s,e);return!i&&g&&g(),await new Promise((t,a)=>{De(t,a,{data:f,headers:Re.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})})}catch(f){if(g&&g(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new Q("Network Error",Q.ERR_NETWORK,e,h),{cause:f.cause||f});throw Q.from(f,f&&f.code,e,h)}}),yt={http:null,xhr:Ge,fetch:vt};J.forEach(yt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a){}Object.defineProperty(e,"adapterName",{value:t})}});const bt=e=>"- ".concat(e),jt=e=>J.isFunction(e)||null===e||!1===e,wt=e=>{e=J.isArray(e)?e:[e];const{length:t}=e;let a,n;const r={};for(let s=0;s<t;s++){let t;if(a=e[s],n=a,!jt(a)&&(n=yt[(t=String(a)).toLowerCase()],void 0===n))throw new Q("Unknown adapter '".concat(t,"'"));if(n)break;r[t||"#"+s]=n}if(!n){const e=Object.entries(r).map(e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")});let a=t?e.length>1?"since :\n"+e.map(bt).join("\n"):" "+bt(e[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n};function Nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Be(null,e)}function kt(e){Nt(e),e.headers=Re.from(e.headers),e.data=ze.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return wt(e.adapter||_e.adapter)(e).then(function(t){return Nt(e),t.data=ze.call(e,e.transformResponse,t),t.headers=Re.from(t.headers),t},function(t){return Ie(t)||(Nt(e),t&&t.response&&(t.response.data=ze.call(e,e.transformResponse,t.response),t.response.headers=Re.from(t.response.headers))),Promise.reject(t)})}const _t="1.11.0",St={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{St[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const Ct={};St.transitional=function(e,t,a){function n(e,t){return"[Axios v"+_t+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,s)=>{if(!1===e)throw new Q(n(r," has been removed"+(t?" in "+t:"")),Q.ERR_DEPRECATED);return t&&!Ct[r]&&(Ct[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,s)}},St.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const Pt={assertOptions:function(e,t,a){if("object"!==typeof e)throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],i=t[s];if(i){const t=e[s],a=void 0===t||i(t,s,e);if(!0!==a)throw new Q("option "+s+" must be "+a,Q.ERR_BAD_OPTION_VALUE);continue}if(!0!==a)throw new Q("Unknown option "+s,Q.ERR_BAD_OPTION)}},validators:St},Et=Pt.validators;class Tt{constructor(e){this.defaults=e||{},this.interceptors={request:new ce,response:new ce}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(n){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Je(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:r}=t;void 0!==a&&Pt.assertOptions(a,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),null!=n&&(J.isFunction(n)?t.paramsSerializer={serialize:n}:Pt.assertOptions(n,{encode:Et.function,serialize:Et.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Pt.assertOptions(t,{baseUrl:Et.spelling("baseURL"),withXsrfToken:Et.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&J.merge(r.common,r[t.method]);r&&J.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Re.concat(s,r);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[kt.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=kt.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return le(He((e=Je(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(e){Tt.prototype[e]=function(t,a){return this.request(Je(a||{},{method:e,url:t,data:(a||{}).data}))}}),J.forEach(["post","put","patch"],function(e){function t(t){return function(a,n,r){return this.request(Je(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}Tt.prototype[e]=t(),Tt.prototype[e+"Form"]=t(!0)});const At=Tt;class Rt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const a=this;this.promise.then(e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{a.subscribe(e),t=e}).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e(function(e,n,r){a.reason||(a.reason=new Be(e,n,r),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Rt(function(t){e=t}),cancel:e}}}const zt=Rt;const It={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(It).forEach(e=>{let[t,a]=e;It[a]=t});const Lt=It;const Bt=function e(t){const a=new At(t),n=o(At.prototype.request,a);return J.extend(n,At.prototype,a,{allOwnKeys:!0}),J.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(Je(t,a))},n}(_e);Bt.Axios=At,Bt.CanceledError=Be,Bt.CancelToken=zt,Bt.isCancel=Ie,Bt.VERSION=_t,Bt.toFormData=ae,Bt.AxiosError=Q,Bt.Cancel=Bt.CanceledError,Bt.all=function(e){return Promise.all(e)},Bt.spread=function(e){return function(t){return e.apply(null,t)}},Bt.isAxiosError=function(e){return J.isObject(e)&&!0===e.isAxiosError},Bt.mergeConfig=Je,Bt.AxiosHeaders=Re,Bt.formToJSON=e=>Ne(J.isHTMLForm(e)?new FormData(e):e),Bt.getAdapter=wt,Bt.HttpStatusCode=Lt,Bt.default=Bt;const Dt=Bt;function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ot.apply(this,arguments)}var Ft;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Ft||(Ft={}));const Mt="popstate";function Wt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Ut(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function qt(e,t){return{usr:e.state,key:e.key,idx:t}}function Vt(e,t,a,n){return void 0===a&&(a=null),Ot({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Yt(t):t,{state:a,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function Ht(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function Yt(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Jt(e,t,a,n){void 0===n&&(n={});let{window:r=document.defaultView,v5Compat:s=!1}=n,i=r.history,o=Ft.Pop,l=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){o=Ft.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:h.location,delta:t})}function p(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,a="string"===typeof e?e:Ht(e);return a=a.replace(/ $/,"%20"),Wt(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==c&&(c=0,i.replaceState(Ot({},i.state,{idx:c}),""));let h={get action(){return o},get location(){return e(r,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Mt,u),l=e,()=>{r.removeEventListener(Mt,u),l=null}},createHref:e=>t(r,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=Ft.Push;let n=Vt(h.location,e,t);a&&a(n,e),c=d()+1;let u=qt(n,c),p=h.createHref(n);try{i.pushState(u,"",p)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;r.location.assign(p)}s&&l&&l({action:o,location:h.location,delta:1})},replace:function(e,t){o=Ft.Replace;let n=Vt(h.location,e,t);a&&a(n,e),c=d();let r=qt(n,c),u=h.createHref(n);i.replaceState(r,"",u),s&&l&&l({action:o,location:h.location,delta:0})},go:e=>i.go(e)};return h}var $t;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}($t||($t={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Gt(e,t,a){return void 0===a&&(a="/"),Kt(e,t,a,!1)}function Kt(e,t,a,n){let r=da(("string"===typeof t?Yt(t):t).pathname||"/",a);if(null==r)return null;let s=Qt(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=ca(r);i=oa(s[o],e,n)}return i}function Qt(e,t,a,n){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===n&&(n="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(Wt(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=ga([n,i.relativePath]),l=a.concat(i);e.children&&e.children.length>0&&(Wt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Qt(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:ia(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let n of Xt(e.path))r(e,t,n);else r(e,t)}),t}function Xt(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===n.length)return r?[s,""]:[s];let i=Xt(n.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const Zt=/^:[\w-]+$/,ea=3,ta=2,aa=1,na=10,ra=-2,sa=e=>"*"===e;function ia(e,t){let a=e.split("/"),n=a.length;return a.some(sa)&&(n+=ra),t&&(n+=ta),a.filter(e=>!sa(e)).reduce((e,t)=>e+(Zt.test(t)?ea:""===t?aa:na),n)}function oa(e,t,a){void 0===a&&(a=!1);let{routesMeta:n}=e,r={},s="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=la({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&a&&!n[n.length-1].route.index&&(d=la({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:ga([s,d.pathname]),pathnameBase:xa(ga([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=ga([s,d.pathnameBase]))}return i}function la(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e,t,a){void 0===t&&(t=!1);void 0===a&&(a=!0);Ut("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((e,t,a)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=o[a]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[a];return e[n]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function ca(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Ut(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function da(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function ua(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function pa(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function ha(e,t){let a=pa(e);return t?a.map((e,t)=>t===a.length-1?e.pathname:e.pathnameBase):a.map(e=>e.pathnameBase)}function ma(e,t,a,n){let r;void 0===n&&(n=!1),"string"===typeof e?r=Yt(e):(r=Ot({},e),Wt(!r.pathname||!r.pathname.includes("?"),ua("?","pathname","search",r)),Wt(!r.pathname||!r.pathname.includes("#"),ua("#","pathname","hash",r)),Wt(!r.search||!r.search.includes("#"),ua("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=a;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:a,search:n="",hash:r=""}="string"===typeof e?Yt(e):e,s=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:s,search:fa(n),hash:va(r)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&a.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),xa=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fa=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",va=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function ya(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ba=["post","put","patch","delete"],ja=(new Set(ba),["get",...ba]);new Set(ja),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},wa.apply(this,arguments)}const Na=r.createContext(null);const ka=r.createContext(null);const _a=r.createContext(null);const Sa=r.createContext(null);const Ca=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Pa=r.createContext(null);function Ea(){return null!=r.useContext(Sa)}function Ta(){return Ea()||Wt(!1),r.useContext(Sa).location}function Aa(e){r.useContext(_a).static||r.useLayoutEffect(e)}function Ra(){let{isDataRoute:e}=r.useContext(Ca);return e?function(){let{router:e}=qa(Wa.UseNavigateStable),t=Ha(Ua.UseNavigateStable),a=r.useRef(!1);return Aa(()=>{a.current=!0}),r.useCallback(function(n,r){void 0===r&&(r={}),a.current&&("number"===typeof n?e.navigate(n):e.navigate(n,wa({fromRouteId:t},r)))},[e,t])}():function(){Ea()||Wt(!1);let e=r.useContext(Na),{basename:t,future:a,navigator:n}=r.useContext(_a),{matches:s}=r.useContext(Ca),{pathname:i}=Ta(),o=JSON.stringify(ha(s,a.v7_relativeSplatPath)),l=r.useRef(!1);return Aa(()=>{l.current=!0}),r.useCallback(function(a,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof a)return void n.go(a);let s=ma(a,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:ga([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)},[t,n,o,i,e])}()}function za(){let{matches:e}=r.useContext(Ca),t=e[e.length-1];return t?t.params:{}}function Ia(e,t){let{relative:a}=void 0===t?{}:t,{future:n}=r.useContext(_a),{matches:s}=r.useContext(Ca),{pathname:i}=Ta(),o=JSON.stringify(ha(s,n.v7_relativeSplatPath));return r.useMemo(()=>ma(e,JSON.parse(o),i,"path"===a),[e,o,i,a])}function La(e,t,a,n){Ea()||Wt(!1);let{navigator:s}=r.useContext(_a),{matches:i}=r.useContext(Ca),o=i[i.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let d,u=Ta();if(t){var p;let e="string"===typeof t?Yt(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||Wt(!1),d=e}else d=u;let h=d.pathname||"/",m=h;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=Gt(e,{pathname:m});let x=Ma(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ga([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ga([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,a,n);return t&&x?r.createElement(Sa.Provider,{value:{location:wa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ft.Pop}},x):x}function Ba(){let e=function(){var e;let t=r.useContext(Pa),a=Va(Ua.UseRouteError),n=Ha(Ua.UseRouteError);if(void 0!==t)return t;return null==(e=a.errors)?void 0:e[n]}(),t=ya(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:s},a):null,null)}const Da=r.createElement(Ba,null);class Oa extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Ca.Provider,{value:this.props.routeContext},r.createElement(Pa.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fa(e){let{routeContext:t,match:a,children:n}=e,s=r.useContext(Na);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),r.createElement(Ca.Provider,{value:t},n)}function Ma(e,t,a,n){var s;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===n&&(n=null),null==e){var i;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let o=e,l=null==(s=a)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||Wt(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(a&&n&&n.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:n}=a,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,n,s)=>{let i,u=!1,p=null,h=null;var m;a&&(i=l&&n.route.id?l[n.route.id]:void 0,p=n.route.errorElement||Da,c&&(d<0&&0===s?(m="route-fallback",!1||Ya[m]||(Ya[m]=!0),u=!0,h=null):d===s&&(u=!0,h=n.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,s+1)),x=()=>{let t;return t=i?p:u?h:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(Fa,{match:n,routeContext:{outlet:e,matches:g,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?r.createElement(Oa,{location:a.location,revalidation:a.revalidation,component:p,error:i,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var Wa=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wa||{}),Ua=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ua||{});function qa(e){let t=r.useContext(Na);return t||Wt(!1),t}function Va(e){let t=r.useContext(ka);return t||Wt(!1),t}function Ha(e){let t=function(){let e=r.useContext(Ca);return e||Wt(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||Wt(!1),a.route.id}const Ya={};function Ja(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function $a(e){let{to:t,replace:a,state:n,relative:s}=e;Ea()||Wt(!1);let{future:i,static:o}=r.useContext(_a),{matches:l}=r.useContext(Ca),{pathname:c}=Ta(),d=Ra(),u=ma(t,ha(l,i.v7_relativeSplatPath),c,"path"===s),p=JSON.stringify(u);return r.useEffect(()=>d(JSON.parse(p),{replace:a,state:n,relative:s}),[d,p,s,a,n]),null}function Ga(e){Wt(!1)}function Ka(e){let{basename:t="/",children:a=null,location:n,navigationType:s=Ft.Pop,navigator:i,static:o=!1,future:l}=e;Ea()&&Wt(!1);let c=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:c,navigator:i,static:o,future:wa({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);"string"===typeof n&&(n=Yt(n));let{pathname:u="/",search:p="",hash:h="",state:m=null,key:g="default"}=n,x=r.useMemo(()=>{let e=da(u,c);return null==e?null:{location:{pathname:e,search:p,hash:h,state:m,key:g},navigationType:s}},[c,u,p,h,m,g,s]);return null==x?null:r.createElement(_a.Provider,{value:d},r.createElement(Sa.Provider,{children:a,value:x}))}function Qa(e){let{children:t,location:a}=e;return La(Xa(t),a)}new Promise(()=>{});r.Component;function Xa(e,t){void 0===t&&(t=[]);let a=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let s=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,Xa(e.props.children,s));e.type!==Ga&&Wt(!1),e.props.index&&e.props.children&&Wt(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Xa(e.props.children,s)),a.push(i)}),a}var Za=a(950),en=a.t(Za,2);function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},tn.apply(this,arguments)}function an(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function nn(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let n=e[a];return t.concat(Array.isArray(n)?n.map(e=>[a,e]):[[a,n]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const rn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(os){}new Map;const sn=s.startTransition;en.flushSync,s.useId;function on(e){let{basename:t,children:a,future:n,window:s}=e,i=r.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),Jt(function(e,t){let{pathname:a,search:n,hash:r}=e.location;return Vt("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:Ht(t)},null,o)));let l=i.current,[c,d]=r.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},p=r.useCallback(e=>{u&&sn?sn(()=>d(e)):d(e)},[d,u]);return r.useLayoutEffect(()=>l.listen(p),[l,p]),r.useEffect(()=>Ja(n),[n]),r.createElement(Ka,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:l,future:n})}const ln="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,cn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=r.forwardRef(function(e,t){let a,{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:p}=e,h=an(e,rn),{basename:m}=r.useContext(_a),g=!1;if("string"===typeof d&&cn.test(d)&&(a=d,ln))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=da(t.pathname,m);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:g=!0}catch(os){}let x=function(e,t){let{relative:a}=void 0===t?{}:t;Ea()||Wt(!1);let{basename:n,navigator:s}=r.useContext(_a),{hash:i,pathname:o,search:l}=Ia(e,{relative:a}),c=o;return"/"!==n&&(c="/"===o?n:ga([n,o])),s.createHref({pathname:c,search:l,hash:i})}(d,{relative:s}),f=function(e,t){let{target:a,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=Ra(),d=Ta(),u=Ia(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();let a=void 0!==n?n:Ht(d)===Ht(u);c(e,{replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,a,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:p});return r.createElement("a",tn({},h,{href:a||x,onClick:g||i?n:function(e){n&&n(e),e.defaultPrevented||f(e)},ref:t,target:c}))});var un,pn;function hn(e){let t=r.useRef(nn(e)),a=r.useRef(!1),n=Ta(),s=r.useMemo(()=>function(e,t){let a=nn(e);return t&&t.forEach((e,n)=>{a.has(n)||t.getAll(n).forEach(e=>{a.append(n,e)})}),a}(n.search,a.current?null:t.current),[n.search]),i=Ra(),o=r.useCallback((e,t)=>{const n=nn("function"===typeof e?e(s):e);a.current=!0,i("?"+n,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(un||(un={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(pn||(pn={}));const mn="https://b.unlimitedhub.in";console.log("\ud83d\udd27 API Configuration:",{hostname:window.location.hostname,apiBaseUrl:mn,fullUrl:window.location.href,mode:"PRODUCTION ONLY"}),console.log("\ud83d\udce1 Config imported - API Base URL:",mn);const gn="uh_referrer_code",xn=()=>"undefined"!==typeof window?window:void 0,fn=e=>{var t;const a=(e=>{if(null===e||void 0===e||!e.id)return"";const t=e.name?e.name.trim().toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-"):"";return t?"".concat(e.id,"-").concat(t):"".concat(e.id)})(e);if(!a)return"";const n=xn(),r=(null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.origin)||"https://b.unlimitedhub.in";return"".concat(r,"/login?ref=").concat(encodeURIComponent(a))},vn=()=>{try{var e;const t=xn();return(null===t||void 0===t||null===(e=t.localStorage)||void 0===e?void 0:e.getItem(gn))||""}catch(t){return console.warn("Unable to read referrer code:",t),""}};var yn=a(579);const bn=()=>{const[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),u=Ra(),p=Ta(),[h,m]=(0,r.useState)([{id:"dating",title:"Find Your Perfect Match",subtitle:"Connect with amazing people and start your journey to love",illustration:"https://cdni.iconscout.com/illustration/premium/thumb/online-dating-app-5155859-4309052.png",alt:"Dating App Illustration"},{id:"shopping",title:"Shop Everything You Need",subtitle:"Discover amazing products and deals from trusted sellers",illustration:"https://cdni.iconscout.com/illustration/premium/thumb/online-shopping-5155859-4309053.png",alt:"Shopping App Illustration"},{id:"ads",title:"Promote Your Business",subtitle:"Reach your target audience with effective advertising campaigns",illustration:"https://cdni.iconscout.com/illustration/premium/thumb/digital-marketing-5155859-4309054.png",alt:"Advertising Illustration"}]);(0,r.useEffect)(()=>{(async()=>{try{const e=(await Dt.get("".concat(mn,"/api/admin/image-settings"),{skipAuthRedirect:!0})).data,t=[{id:"dating",title:"Find Your Perfect Match",subtitle:"Connect with amazing people and start your journey to love",illustration:e.login_slider_image_1||h[0].illustration,alt:"Dating App Illustration"},{id:"shopping",title:"Shop Everything You Need",subtitle:"Discover amazing products and deals from trusted sellers",illustration:e.login_slider_image_2||h[1].illustration,alt:"Shopping App Illustration"},{id:"ads",title:"Promote Your Business",subtitle:"Reach your target audience with effective advertising campaigns",illustration:e.login_slider_image_3||h[2].illustration,alt:"Advertising Illustration"}];m(t)}catch(e){console.error("Error loading slider images:",e)}})()},[]),(0,r.useEffect)(()=>{const e=new URLSearchParams(p.search).get("ref");e&&(e=>{if(e)try{var t;const a=String(e).trim();if(!a)return;const n=xn();null===n||void 0===n||null===(t=n.localStorage)||void 0===t||t.setItem(gn,a)}catch(a){console.warn("Unable to store referrer code:",a)}})(e)},[p.search]),(0,r.useEffect)(()=>{const e=setInterval(()=>{l(e=>{const t=e+1;return t>=h.length?0:t})},4e3);return()=>clearInterval(e)},[h.length]);return(0,yn.jsx)("div",{className:"login-container",children:(0,yn.jsxs)("div",{className:"login-content",children:[(0,yn.jsx)("div",{className:"header-section",children:(0,yn.jsxs)("div",{className:"brand-container",children:[(0,yn.jsx)("img",{src:"https://akm-dv.github.io/unlimitedhub/logo.jpg",alt:"Unlimited Hub Logo",className:"brand-logo"}),(0,yn.jsx)("h1",{className:"brand-name",children:"Unlimited Hub"})]})}),(0,yn.jsxs)("div",{className:"slider-container",children:[(0,yn.jsx)("div",{className:"slider-wrapper",children:(0,yn.jsx)("div",{className:"slider-content",style:{transform:"translateX(-".concat(100*o,"%)")},children:h.map((e,t)=>(0,yn.jsxs)("div",{className:"slide",children:[(0,yn.jsx)("div",{className:"illustration-section",children:(0,yn.jsx)("img",{src:e.illustration,alt:e.alt,className:"dating-illustration"})}),(0,yn.jsxs)("div",{className:"slide-content",children:[(0,yn.jsx)("h2",{className:"tagline-title",children:e.title}),(0,yn.jsx)("p",{className:"tagline-subtitle",children:e.subtitle})]})]},e.id))})}),(0,yn.jsx)("div",{className:"slider-dots",children:h.map((e,t)=>(0,yn.jsx)("button",{className:"slider-dot ".concat(t===o?"active":""),onClick:()=>{l(t)},"aria-label":"Go to slide ".concat(t+1)},t))})]}),(0,yn.jsxs)("div",{className:"form-section",children:[s&&(0,yn.jsx)("div",{className:"message ".concat(s.type),children:s.text}),(0,yn.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.trim())if(10===e.length)if(c){n(!0),i("");try{const t="+91".concat(e),a=await Dt.post("".concat(mn,"/api/send-otp"),{phone:t});a.data.message&&(i({type:"success",text:"OTP sent successfully!"}),a.data.otp&&(console.log("\ud83d\udd14 DEVELOPMENT MODE: Your OTP is:",a.data.otp),console.log("\ud83d\udcf1 Phone:",t),console.log("\u23f0 Use this OTP to verify your phone number")),u("/otp",{state:{phone:t}}))}catch(s){var a,r;const e=(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to send OTP. Please try again.";i({type:"error",text:e})}finally{n(!1)}}else i({type:"error",text:"Please accept the Privacy Policy to continue"});else i({type:"error",text:"Please enter a valid 10-digit mobile number"});else i({type:"error",text:"Please enter your mobile number"})},className:"login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Mobile Number"}),(0,yn.jsxs)("div",{className:"mobile-input-container",children:[(0,yn.jsx)("span",{className:"country-code",children:"+91"}),(0,yn.jsx)("input",{type:"tel",className:"form-input",placeholder:"Enter your mobile number",value:e,onChange:e=>t(e.target.value),maxLength:"10"})]}),(0,yn.jsx)("p",{className:"helper-text",children:"We'll send you a verification code"})]}),(0,yn.jsxs)("label",{className:"checkbox-agreement",children:[(0,yn.jsx)("input",{type:"checkbox",checked:c,onChange:e=>d(e.target.checked)}),(0,yn.jsxs)("span",{children:["I agree to the"," ",(0,yn.jsx)(dn,{to:"/privacy-policy",className:"terms-link",children:"Privacy Policy"}),"."]})]}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:a,children:a?"Sending OTP...":"Continue"})]}),(0,yn.jsx)("div",{className:"terms-section",children:(0,yn.jsxs)("p",{className:"terms-text",children:["By continuing, you agree to our"," ",(0,yn.jsx)(dn,{to:"/terms",className:"terms-link",children:"Terms & Conditions"})," and"," ",(0,yn.jsx)(dn,{to:"/privacy-policy",className:"terms-link",children:"Privacy Policy"})]})})]})]})})},jn=(0,r.createContext)(),wn=()=>{const e=(0,r.useContext)(jn);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Nn=e=>{let{children:t}=e;const[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=localStorage.getItem("authToken"),t=localStorage.getItem("userData");if(e&&t)try{const a=JSON.parse(t);i(e),n(a),l(!0)}catch(a){console.error("Failed to parse saved user data:",a),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),i(null),n(null),l(!1)}d(!1)},[]);const u={user:a,token:s,isAuthenticated:o,loading:c,login:(e,t)=>{n(e),i(t),l(!0),localStorage.setItem("authToken",t),localStorage.setItem("userData",JSON.stringify(e))},logout:()=>{n(null),i(null),l(!1),localStorage.removeItem("authToken"),localStorage.removeItem("userData")},updateUser:e=>{n(e),localStorage.setItem("userData",JSON.stringify(e))}};return(0,yn.jsx)(jn.Provider,{value:u,children:t})},kn=e=>{let{isOpen:t,onClose:a,phone:n,onSuccess:s}=e;const{login:i}=wn(),[o,l]=(0,r.useState)({name:"",gender:""}),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(""),[h,m]=(0,r.useState)([]),g=e=>{const{name:t,value:a}=e.target;l(e=>ge(ge({},e),{},{[t]:a})),"gender"===t&&a&&m((e=>{const t={male:["Aryan","Raj","Vikram","Arjun","Rohit","Siddharth","Karan","Rahul"],female:["Priya","Anjali","Kavya","Riya","Sneha","Pooja","Shruti","Neha"],other:["Alex","Sam","Riley","Jordan","Casey","Taylor","Morgan","Avery"]};return(t[e]||t.other).slice(0,6)})(a))};if((0,r.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const x=(0,yn.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:"99999",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"auto"},onClick:e=>e.target===e.currentTarget&&a(),children:(0,yn.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"20px",width:"100%",maxWidth:"450px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.25)",position:"relative",margin:"auto",transform:"translateZ(0)"},onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h2",{children:"Complete Your Profile"}),(0,yn.jsx)("p",{className:"modal-subtitle",children:"Step 1 of 3: Basic Information"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.name.trim())if(o.gender){d(!0),p("");try{const e=await Dt.post("".concat(mn,"/api/register/step1"),{phone:n,name:o.name.trim(),gender:o.gender,referrer_code:vn()||void 0});i(e.data.user,e.data.access_token),p({type:"success",text:"Registration completed! You can now access the Call panel."}),setTimeout(()=>{s&&s(e.data.user),a()},1500)}catch(l){var t,r;const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Registration failed. Please try again.";p({type:"error",text:e})}finally{d(!1)}}else p({type:"error",text:"Please select your gender"});else p({type:"error",text:"Name is required"})},className:"step-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Gender *"}),(0,yn.jsxs)("select",{id:"gender",name:"gender",value:o.gender,onChange:g,className:"form-select",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select Gender"}),(0,yn.jsx)("option",{value:"male",children:"Male"}),(0,yn.jsx)("option",{value:"female",children:"Female"}),(0,yn.jsx)("option",{value:"other",children:"Other"})]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name *"}),(0,yn.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:g,className:"form-input",placeholder:"Enter your name",required:!0}),o.gender&&h.length>0&&(0,yn.jsxs)("div",{className:"suggested-names",children:[(0,yn.jsx)("p",{className:"suggestions-label",children:"Suggested names:"}),(0,yn.jsx)("div",{className:"suggestions-grid",children:h.map((e,t)=>(0,yn.jsx)("button",{type:"button",className:"suggestion-btn ".concat(o.name===e?"selected":""),onClick:()=>(e=>{l(t=>ge(ge({},t),{},{name:e}))})(e),children:e},t))})]})]}),u&&(0,yn.jsx)("div",{className:"message ".concat(u.type),children:u.text}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",className:"secondary-btn",onClick:a,disabled:c,children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:c||!o.name.trim()||!o.gender,children:c?"Completing...":"Complete & Continue"})]})]}),(0,yn.jsxs)("div",{className:"step-progress",children:[(0,yn.jsxs)("div",{className:"progress-dots",children:[(0,yn.jsx)("div",{className:"dot active"}),(0,yn.jsx)("div",{className:"dot"}),(0,yn.jsx)("div",{className:"dot"})]}),(0,yn.jsx)("p",{className:"progress-text",children:"Access to Call panel will be unlocked"})]})]})});return Za.createPortal(x,document.body)},_n=()=>{var e;const t="userVerifiedPhone",[a,n]=(0,r.useState)(["","","","","",""]),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(0),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),g=Ra(),x=Ta(),{login:f}=wn(),v=(0,r.useRef)([]),y=null===(e=x.state)||void 0===e?void 0:e.phone;(0,r.useEffect)(()=>{if(!y)return void g("/login");d(30);const e=setInterval(()=>{d(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[y,g]);return(0,yn.jsxs)("div",{className:"login-container",children:[(0,yn.jsxs)("div",{className:"login-content",children:[(0,yn.jsx)("div",{className:"header-section",children:(0,yn.jsxs)("div",{className:"brand-container",children:[(0,yn.jsx)("img",{src:"https://akm-dv.github.io/unlimitedhub/logo.jpg",alt:"Dating Platform Logo",className:"brand-logo"}),(0,yn.jsx)("h1",{className:"brand-name",children:"Unlimited Hub"})]})}),(0,yn.jsx)("div",{className:"illustration-section",children:(0,yn.jsx)("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/online-dating-app-5155859-4309052.png",alt:"Dating App Illustration",className:"dating-illustration"})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{className:"tagline-title",children:"Verify Your Number"}),(0,yn.jsxs)("p",{className:"tagline-subtitle",children:["Enter the 6-digit code sent to ",(b=y,b?b.startsWith("+91")?b:10===b.length?"+91".concat(b):b:"")]})]}),(0,yn.jsxs)("div",{className:"form-section",children:[o&&(0,yn.jsx)("div",{className:"message ".concat(o.type),children:o.text}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const n=a.join("");if(6===n.length){i(!0),l("");try{const e=await Dt.post("".concat(mn,"/api/verify-otp"),{phone:y,otp_code:n});try{localStorage.setItem(t,y)}catch(o){console.warn("Unable to store verified user phone:",o)}if(e.data.user_exists){console.log("Login successful, user data:",e.data.user),console.log("Access token:",e.data.access_token);try{localStorage.setItem("test","test-value");const e=localStorage.getItem("test");console.log("Local storage test:",e),localStorage.removeItem("test")}catch(o){console.error("Local storage error:",o)}f(e.data.user,e.data.access_token);const a=localStorage.getItem("authToken"),n=localStorage.getItem("userData");console.log("Stored token:",a),console.log("Stored user:",n);try{localStorage.removeItem(t)}catch(o){console.warn("Unable to clear stored user phone:",o)}g("/calls")}else m({phone:y}),p(!0)}catch(c){var r,s;const e=(null===(r=c.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||"Invalid OTP. Please try again.";l({type:"error",text:e})}finally{i(!1)}}else l({type:"error",text:"Please enter complete OTP"})},className:"login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Enter 6-digit OTP"}),(0,yn.jsx)("div",{className:"otp-container",children:a.map((e,t)=>(0,yn.jsx)("input",{ref:e=>v.current[t]=e,type:"text",className:"otp-input",value:e,onChange:e=>((e,t)=>{if(t.length>1)return;const r=[...a];var s;r[e]=t,n(r),t&&e<5&&(null===(s=v.current[e+1])||void 0===s||s.focus())})(t,e.target.value),onKeyDown:e=>((e,t)=>{var n;"Backspace"===t.key&&!a[e]&&e>0&&(null===(n=v.current[e-1])||void 0===n||n.focus())})(t,e),maxLength:1,inputMode:"numeric",pattern:"[0-9]*"},t))}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem",textAlign:"center"},children:"Enter the verification code sent to your phone"})]}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:s||6!==a.join("").length,children:s?"Verifying...":"Verify & Continue"})]}),(0,yn.jsxs)("div",{style:{textAlign:"center",marginTop:"1rem"},children:[(0,yn.jsx)("p",{style:{fontSize:"0.9rem",color:"white",marginBottom:"0.5rem"},children:"Didn't receive the code?"}),(0,yn.jsx)("button",{type:"button",className:"secondary-btn",onClick:async()=>{if(!(c>0)){i(!0),l("");try{await Dt.post("".concat(mn,"/api/send-otp"),{phone:y}),l({type:"success",text:"OTP resent successfully!"}),d(30)}catch(a){var e,t;const n=(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to resend OTP. Please try again.";l({type:"error",text:n})}finally{i(!1)}}},disabled:c>0||s,children:c>0?"Resend in ".concat(c,"s"):"Resend OTP"})]}),(0,yn.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,yn.jsx)("button",{type:"button",className:"back-btn",onClick:()=>g("/login"),children:"\u2190 Back to Login"})})]})]}),(0,yn.jsx)(kn,{isOpen:u,onClose:()=>{p(!1),m(null)},phone:null===h||void 0===h?void 0:h.phone,onSuccess:e=>{p(!1),m(null);try{localStorage.removeItem(t)}catch(a){console.warn("Unable to clear stored user phone:",a)}g("/calls")}})]});var b},Sn=()=>{var e;const t="userVerifiedPhone",[a,n]=(0,r.useState)({name:"",gender:"",address:"",pincode:"",state:"",preferred_language_id:"",looking_for_languages:[],bio:"",interests:[],relationship_goal:""}),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),c=Ra(),d=Ta(),{login:u}=wn(),p=null===(e=d.state)||void 0===e?void 0:e.phone,[h,m]=r.useState(()=>{if(p)return p;try{return localStorage.getItem(t)||""}catch(e){return console.warn("Unable to read stored user phone:",e),""}}),[g]=r.useState(()=>vn()),x=r.useCallback(e=>{if(!e)return"";if(e.startsWith("+91"))return e;const t=e.replace(/[^\d]/g,"").slice(-10);return t?"+91".concat(t):e},[]);r.useEffect(()=>{p&&p!==h&&m(p)},[p,h]),r.useEffect(()=>{if(h)try{localStorage.setItem(t,h)}catch(e){console.warn("Unable to cache verified user phone:",e)}},[h]);const f=[{id:1,name:"English"},{id:2,name:"Hindi"},{id:3,name:"Punjabi"},{id:4,name:"Bengali"},{id:5,name:"Telugu"},{id:6,name:"Marathi"},{id:7,name:"Urdu"},{id:8,name:"Kannada"},{id:9,name:"Malayalam"},{id:10,name:"Odia"}];r.useEffect(()=>{h||c("/login")},[h,c]);const v=e=>{const{name:t,value:a}=e.target;n(e=>ge(ge({},e),{},{[t]:a}))},y=(e,t)=>{n(a=>ge(ge({},a),{},{[e]:a[e].includes(t)?a[e].filter(e=>e!==t):[...a[e],t]}))};return h?(0,yn.jsx)("div",{className:"login-container",children:(0,yn.jsxs)("div",{className:"login-content",children:[(0,yn.jsx)("div",{className:"header-section",children:(0,yn.jsxs)("div",{className:"brand-container",children:[(0,yn.jsx)("img",{src:"https://akm-dv.github.io/unlimitedhub/logo.jpg",alt:"Unlimited Hub Logo",className:"brand-logo"}),(0,yn.jsx)("h1",{className:"brand-name",children:"Unlimited Hub"})]})}),(0,yn.jsx)("div",{className:"illustration-section",children:(0,yn.jsx)("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/profile-completion-5155859-4309052.png",alt:"Profile Setup Illustration",className:"dating-illustration"})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{className:"tagline-title",children:"Complete Your Profile"}),(0,yn.jsx)("p",{className:"tagline-subtitle",children:"Tell us about your language preferences and interests"})]}),(0,yn.jsxs)("div",{className:"form-section",children:[o&&(0,yn.jsx)("div",{className:"message ".concat(o.type),children:o.text}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a.name.trim())if(a.gender)if(a.preferred_language_id)if(0!==a.looking_for_languages.length)if(0!==a.interests.length)if(a.relationship_goal){i(!0),l("");try{const e=await Dt.post("".concat(mn,"/api/register"),ge(ge({},a),{},{phone:x(h),referrer_code:g||void 0}));u(e.data.user,e.data.access_token);try{localStorage.removeItem(t)}catch(s){console.warn("Unable to clear stored user phone:",s)}(()=>{try{var e;const t=xn();null===t||void 0===t||null===(e=t.localStorage)||void 0===e||e.removeItem(gn)}catch(t){console.warn("Unable to clear referrer code:",t)}})(),c("/profile-edit",{replace:!0,state:{fromRegistration:!0}})}catch(o){var n,r;const e=(null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Registration failed. Please try again.";l({type:"error",text:e})}finally{i(!1)}}else l({type:"error",text:"Please select your relationship goal"});else l({type:"error",text:"Please select at least one interest"});else l({type:"error",text:"Please select at least one language you want to connect with"});else l({type:"error",text:"Please select your preferred language"});else l({type:"error",text:"Please select your gender"});else l({type:"error",text:"Name is required"})},className:"login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Verified Phone Number"}),(0,yn.jsx)("input",{type:"tel",value:x(h),disabled:!0,readOnly:!0,className:"form-input"}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This number was verified via OTP and cannot be changed here."})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Full Name *"}),(0,yn.jsx)("input",{type:"text",name:"name",value:a.name,onChange:v,className:"form-input",placeholder:"Enter your full name",required:!0}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This will be your display name"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Gender *"}),(0,yn.jsxs)("select",{name:"gender",value:a.gender,onChange:v,className:"form-input",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select your gender"}),(0,yn.jsx)("option",{value:"male",children:"Male"}),(0,yn.jsx)("option",{value:"female",children:"Female"})]}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This helps us match you better"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Address"}),(0,yn.jsx)("input",{type:"text",name:"address",value:a.address,onChange:v,className:"form-input",placeholder:"Enter your address (optional)"}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Optional: Your location for better matches"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Pincode"}),(0,yn.jsx)("input",{type:"text",name:"pincode",value:a.pincode,onChange:v,className:"form-input",placeholder:"Enter your pincode (optional)",maxLength:"10"}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Optional: Your area pincode"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"State"}),(0,yn.jsx)("input",{type:"text",name:"state",value:a.state,onChange:v,className:"form-input",placeholder:"Enter your state (optional)"}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Optional: Your state or region"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Your Preferred Language *"}),(0,yn.jsxs)("select",{name:"preferred_language_id",value:a.preferred_language_id,onChange:v,className:"form-input",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select your primary language"}),f.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This is the language you're most comfortable with"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Languages You Want to Connect With *"}),(0,yn.jsx)("div",{className:"checkbox-group",children:f.map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:a.looking_for_languages.includes(e.id),onChange:()=>y("looking_for_languages",e.id)}),(0,yn.jsx)("span",{className:"checkbox-label",children:e.name})]},e.id))}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Select languages you want to practice or connect with"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Bio"}),(0,yn.jsx)("textarea",{name:"bio",value:a.bio,onChange:v,className:"form-input",placeholder:"Tell us about yourself...",rows:"3",style:{resize:"vertical",minHeight:"80px"}}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Optional: Share something about yourself"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Your Interests *"}),(0,yn.jsx)("div",{className:"checkbox-group",children:["technology","gaming","movies","music","sports","fitness","food","travel","fashion","education","learning","culture","art","photography","cooking","reading","dancing","singing"].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:a.interests.includes(e),onChange:()=>y("interests",e)}),(0,yn.jsx)("span",{className:"checkbox-label",children:e})]},e))}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Select your interests to find like-minded people"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Relationship Goal *"}),(0,yn.jsxs)("select",{name:"relationship_goal",value:a.relationship_goal,onChange:v,className:"form-input",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select your relationship goal"}),["friendship","casual","serious","marriage"].map(e=>(0,yn.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"What are you looking for in a relationship?"})]}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:s,children:s?"Creating Profile...":"Complete Profile"})]}),(0,yn.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,yn.jsx)("button",{type:"button",className:"back-btn",onClick:()=>c("/otp"),children:"\u2190 Back to OTP"})})]})]})}):null},Cn=()=>{const[e,t]=(0,r.useState)({name:"",gender:"",address:"",pincode:"",state:"",preferred_language_id:"",looking_for_languages:[],bio:"",interests:[],relationship_goal:""}),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(""),o=Ra(),{user:l,token:c,updateUser:d}=wn(),u=[{id:1,name:"English"},{id:2,name:"Hindi"},{id:3,name:"Punjabi"},{id:4,name:"Bengali"},{id:5,name:"Telugu"},{id:6,name:"Marathi"},{id:7,name:"Urdu"},{id:8,name:"Kannada"},{id:9,name:"Malayalam"},{id:10,name:"Odia"}];(0,r.useEffect)(()=>{l&&t({name:l.name||"",gender:l.gender||"",address:l.address||"",pincode:l.pincode||"",state:l.state||"",preferred_language_id:l.preferred_language_id||"",looking_for_languages:l.looking_for_languages||[],bio:l.bio||"",interests:l.interests||[],relationship_goal:l.relationship_goal||""})},[l]),(0,r.useEffect)(()=>{l||o("/login")},[l,o]);const p=e=>{const{name:a,value:n}=e.target;t(e=>ge(ge({},e),{},{[a]:n}))},h=(e,a)=>{t(t=>ge(ge({},t),{},{[e]:t[e].includes(a)?t[e].filter(e=>e!==a):[...t[e],a]}))};return l?(0,yn.jsx)("div",{className:"login-container",children:(0,yn.jsxs)("div",{className:"login-content",children:[(0,yn.jsx)("div",{className:"header-section",children:(0,yn.jsxs)("div",{className:"brand-container",children:[(0,yn.jsx)("img",{src:"https://akm-dv.github.io/unlimitedhub/logo.jpg",alt:"Unlimited Hub Logo",className:"brand-logo"}),(0,yn.jsx)("h1",{className:"brand-name",children:"Unlimited Hub"})]})}),(0,yn.jsx)("div",{className:"illustration-section",children:(0,yn.jsx)("img",{src:"https://cdni.iconscout.com/illustration/premium/thumb/profile-completion-5155859-4309052.png",alt:"Profile Edit Illustration",className:"dating-illustration"})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{className:"tagline-title",children:"Edit Your Profile"}),(0,yn.jsx)("p",{className:"tagline-subtitle",children:"Update your language preferences and interests"})]}),(0,yn.jsxs)("div",{className:"form-section",children:[s&&(0,yn.jsx)("div",{className:"message ".concat(s.type),children:s.text}),(0,yn.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!e.name.trim())return void i({type:"error",text:"Name is required"});if(!e.gender)return void i({type:"error",text:"Please select your gender"});if(!e.preferred_language_id)return void i({type:"error",text:"Please select your preferred language"});if(0===e.looking_for_languages.length)return void i({type:"error",text:"Please select at least one language you want to connect with"});if(0===e.interests.length)return void i({type:"error",text:"Please select at least one interest"});if(!e.relationship_goal)return void i({type:"error",text:"Please select your relationship goal"});n(!0),i("");const a=c||localStorage.getItem("authToken");console.log("\ud83d\udd0d ProfileEdit Debug - Access Token:",a),console.log("\ud83d\udd0d ProfileEdit Debug - Form Data:",e),console.log("\ud83d\udd0d ProfileEdit Debug - User:",l);try{const t=await fetch("".concat(mn,"/api/users/update-profile"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({name:e.name,gender:e.gender,preferred_language_id:e.preferred_language_id,looking_for_languages:e.looking_for_languages,bio:e.bio,interests:e.interests,relationship_goal:e.relationship_goal})});if(console.log("\ud83d\udd0d ProfileEdit Debug - Response Status:",t.status),console.log("\ud83d\udd0d ProfileEdit Debug - Response Headers:",t.headers),t.ok){const t=ge(ge({},l),e);d(t),i({type:"success",text:"Profile updated successfully!"})}else{const e=await t.json();console.error("\ud83d\udd0d ProfileEdit Debug - Error Response:",e),i({type:"error",text:e.error||"Failed to update profile"})}}catch(r){console.error("\ud83d\udd0d ProfileEdit Debug - Fetch Error:",r),i({type:"error",text:"Failed to update profile. Please try again."})}finally{n(!1)}},className:"login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Full Name *"}),(0,yn.jsx)("input",{type:"text",name:"name",value:e.name,onChange:p,className:"form-input",placeholder:"Enter your full name",required:!0}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This will be your display name"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Gender *"}),(0,yn.jsxs)("select",{name:"gender",value:e.gender,onChange:p,className:"form-input",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select your gender"}),(0,yn.jsx)("option",{value:"male",children:"Male"}),(0,yn.jsx)("option",{value:"female",children:"Female"})]}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This helps us match you better"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Address *"}),(0,yn.jsx)("input",{type:"text",name:"address",value:e.address,onChange:p,className:"form-input",placeholder:"Enter your address",required:!0}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This helps us suggest nearby matches"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Pincode *"}),(0,yn.jsx)("input",{type:"text",name:"pincode",value:e.pincode,onChange:p,className:"form-input",placeholder:"Enter your pincode",maxLength:"10",required:!0}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Needed for location-based experiences"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"State *"}),(0,yn.jsx)("input",{type:"text",name:"state",value:e.state,onChange:p,className:"form-input",placeholder:"Enter your state",required:!0}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"We'll show you people from your region"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Your Preferred Language *"}),(0,yn.jsxs)("select",{name:"preferred_language_id",value:e.preferred_language_id,onChange:p,className:"form-input",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select your primary language"}),u.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"This is the language you're most comfortable with"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Languages You Want to Connect With *"}),(0,yn.jsx)("div",{className:"checkbox-group",children:u.map(t=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:e.looking_for_languages.includes(t.id),onChange:()=>h("looking_for_languages",t.id)}),(0,yn.jsx)("span",{className:"checkbox-label",children:t.name})]},t.id))}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Select languages you want to practice or connect with"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Bio *"}),(0,yn.jsx)("textarea",{name:"bio",value:e.bio,onChange:p,className:"form-input",placeholder:"Tell us about yourself...",rows:"3",style:{resize:"vertical",minHeight:"80px"},required:!0}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Share a short introduction to complete your profile"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Your Interests *"}),(0,yn.jsx)("div",{className:"checkbox-group",children:["technology","gaming","movies","music","sports","fitness","food","travel","fashion","education","learning","culture","art","photography","cooking","reading","dancing","singing"].map(t=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:e.interests.includes(t),onChange:()=>h("interests",t)}),(0,yn.jsx)("span",{className:"checkbox-label",children:t})]},t))}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.5rem"},children:"Select your interests to find like-minded people"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Relationship Goal *"}),(0,yn.jsxs)("select",{name:"relationship_goal",value:e.relationship_goal,onChange:p,className:"form-input",required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select your relationship goal"}),["friendship","casual","serious","marriage"].map(e=>(0,yn.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,yn.jsx)("p",{style:{fontSize:"0.8rem",color:"#000",marginTop:"0.5rem"},children:"What are you looking for in a relationship?"})]}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:a,children:a?"Updating Profile...":"Update Profile"})]}),(0,yn.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,yn.jsx)("button",{type:"button",className:"back-btn",onClick:()=>o("/calls"),children:"\u2190 Back to Calls"})})]})]})}):null},Pn=(0,r.createContext)({showToast:()=>{}}),En=e=>{let{children:t}=e;const[a,n]=(0,r.useState)([]),s=(0,r.useRef)({}),i=(0,r.useCallback)(e=>{n(t=>t.filter(t=>t.id!==e)),s.current[e]&&(clearTimeout(s.current[e]),delete s.current[e])},[]),o=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;const a="".concat(Date.now(),"-").concat(Math.random()),r={id:a,message:e,type:t.type||"info"};n(e=>[...e,r]);const o="number"===typeof t.duration?t.duration:3500;s.current[a]=setTimeout(()=>i(a),o)},[i]),l=(0,r.useMemo)(()=>({showToast:o}),[o]);return(0,yn.jsxs)(Pn.Provider,{value:l,children:[t,(0,yn.jsx)("div",{className:"global-toast-wrapper top-right",children:a.map(e=>(0,yn.jsxs)("div",{className:"global-toast ".concat(e.type),children:[(0,yn.jsx)("span",{children:e.message}),(0,yn.jsx)("button",{onClick:()=>i(e.id),children:"\xd7"})]},e.id))})]})},Tn=()=>(0,r.useContext)(Pn),An=e=>{const[t,a]=(0,r.useState)([]),[n,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=!0;return(async()=>{if(e)try{s(!0);const n=await fetch("".concat(mn,"/api/static-pages?context=").concat(e));if(!n.ok)throw new Error("Failed to fetch static pages");const r=await n.json();t&&a(r.pages||[])}catch(n){console.error("Error loading ".concat(e," static pages:"),n),t&&a([])}finally{t&&s(!1)}})(),()=>{t=!1}},[e]),{pages:t,loading:n}},Rn=()=>{const{user:e,token:t,isAuthenticated:a,logout:n}=wn(),{showToast:s}=Tn(),i=Ra(),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),f=(0,r.useRef)(!1),[v,y]=(0,r.useState)(0),[b,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)({balance:0,credits_remaining:0,credits_in_minutes:0,diamonds:0}),[k,_]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),[T,A]=(0,r.useState)({current:0,required:0}),[R,z]=(0,r.useState)(""),[I,L]=(0,r.useState)(!1),[B,D]=(0,r.useState)("wallet"),[O,F]=(0,r.useState)(null),[M,W]=(0,r.useState)(null),[U,q]=(0,r.useState)(!0),[V,H]=(0,r.useState)(null),[Y,J]=(0,r.useState)(!1),{pages:$}=An("calls"),[G,K]=(0,r.useState)(["https://www.shutterstock.com/image-photo/young-couple-chatting-on-light-600nw-2585051771.jpg","https://screenshots.webflow.com/sites/623d536d8ac93e396850844a/20220328030208_f2d70f4f85e83b29ef652e441297e7b5.png","https://images.prismic.io/ghostery/a657ee79-2050-4f54-a03c-27288fc86c21_blog-ghosterys-take-on-mindful-dating-3-reasons-to-limit-what-you-share-on-dating-apps.png?auto=compress,format","https://www.shutterstock.com/image-photo/couple-falling-love-dating-laughing-600nw-1227242374.jpg"]);r.useEffect(()=>{const e=setInterval(()=>{y(e=>e===G.length-1?0:e+1)},3e3);return()=>clearInterval(e)},[G.length]),(0,r.useEffect)(()=>{if(console.log("CallsPage mounted, token:",t),console.log("User:",e),console.log("Is authenticated:",a),!a||!t)return console.log("User not authenticated, redirecting to login"),void i("/login");t&&Q(),X()},[t,e,a,i]);const Q=async()=>{try{if(!t)return void console.error("No authentication token found");const e=await Dt.get("".concat(mn,"/api/wallet/balance"),{headers:{Authorization:"Bearer ".concat(t)}});N(e.data)}catch(e){console.error("Error loading wallet balance:",e)}},X=async()=>{try{const e=(await Dt.get("".concat(mn,"/api/admin/image-settings"),{skipAuthRedirect:!0})).data,t=[e.calls_hero_image_1,e.calls_hero_image_2,e.calls_hero_image_3,e.calls_hero_image_4].filter(e=>e);t.length>0&&K(t)}catch(e){console.error("Error loading hero images:",e)}},Z=async(e,a)=>{L(!0);try{if(!t)return console.error("No authentication token found"),void L(!1);if(!(e=>!(w.balance<e)||(A({current:w.balance,required:e}),E(!0),!1))(e))return void L(!1);const n=await Dt.post("".concat(mn,"/api/wallet/purchase-from-wallet"),{amount:e,purchase_type:a,recharge_type:B},{headers:{Authorization:"Bearer ".concat(t)}});if(n.data.success){_(!1),C(!1),Q();const t="minutes"===B?"".concat(n.data.credits_added?Math.floor(n.data.credits_added/60):Math.floor(e/1.5)," minutes"):"".concat(n.data.diamonds_added||Math.floor(12*e)," \ud83d\udc8e diamonds");s("Purchase successful! \u20b9".concat(e," deducted from wallet. ").concat(t," added to your account."),{type:"success"})}else s(n.data.error||"Purchase failed. Please try again.",{type:"error"})}catch(i){var n,r;console.error("Error purchasing from wallet:",i),null!==(n=i.response)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.error?i.response.data.error.includes("Insufficient")?(A({current:w.balance,required:e}),E(!0)):s(i.response.data.error,{type:"error"}):s("Error processing purchase. Please try again.",{type:"error"})}finally{L(!1)}},ee=async()=>{L(!0);try{if(!t)return console.error("No authentication token found"),void L(!1);const a=await Dt.post("".concat(mn,"/api/wallet/create-order"),{amount:R,user_type:"user",recharge_type:"wallet"},{headers:{Authorization:"Bearer ".concat(t)}});if(a.data.error)return void s(a.data.error||"Payment gateway error. Please contact support.",{type:"error"});const{order_id:n,key_id:r}=a.data;if(n&&n.startsWith("order_mock_"))return void s("Payment gateway is not properly configured. Please contact support.",{type:"error"});if(!n||!r)return void s("Invalid payment order. Please try again.",{type:"error"});const i={key:r,amount:a.data.amount,currency:a.data.currency||"INR",name:"Unlimited Hub",description:"Wallet Recharge",order_id:n,handler:async function(e){try{await Dt.post("".concat(mn,"/api/wallet/verify-payment"),{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,user_type:"user"},{headers:{Authorization:"Bearer ".concat(t)}}),_(!1),C(!1),Q(),s("Wallet recharged successfully! \u20b9".concat(R," added to your wallet."),{type:"success"})}catch(a){console.error("Payment verification failed:",a),s("Payment verification failed. Please contact support.",{type:"error"})}},prefill:{name:(null===e||void 0===e?void 0:e.name)||"User",email:(null===e||void 0===e?void 0:e.email)||"",contact:(null===e||void 0===e?void 0:e.phone)||""},theme:{color:"#ff6b9d"}};new window.Razorpay(i).open()}catch(a){console.error("Error creating payment order:",a),s("Error creating payment order. Please try again.",{type:"error"})}finally{L(!1)}},te=e=>"female"===e?"https://cdn-icons-png.flaticon.com/512/4140/4140047.png":"https://cdn-icons-png.flaticon.com/512/4140/4140048.png",ae=async a=>{if(e)try{if(!t)return console.error("No authentication token found"),void s("Please login to make calls",{type:"error"});const n=await Dt.post("".concat(mn,"/api/call/start"),{call_type:a},{headers:{Authorization:"Bearer ".concat(t)}});F(n.data),W(a),l(!1),d(!0),p("\ud83d\udd0d Searching for your perfect match..."),f.current=!0;const r=["\ud83d\udd0d Searching for your perfect match...","\ud83c\udf1f Finding someone special...","\ud83d\udcab Looking for a great conversation...","\ud83c\udfaf Matching you with the right person...","\u2728 Almost there, stay patient...","\ud83d\udc8e Great things take time...","\ud83c\udf89 Someone amazing is joining..."];let i=0;const o=setInterval(()=>{f.current&&(p(r[i%r.length]),i++)},3e3);x(o);const c=async()=>{if(f.current)try{const u=await Dt.post("".concat(mn,"/api/find_match"),{user_id:e.id,gender:e.gender,name:e.name||"User".concat(e.id)});if(!f.current)return;if("matched"===u.data.status){f.current=!1,clearInterval(o),x(null),p("\ud83c\udf89 Match found! Connecting...");const c=u.data.matched_user_id,h=u.data.matched_user_name;try{const t=await Dt.post("".concat(mn,"/api/get_zego_token"),{user_id:e.id,target_user_id:c});if(!t.data.token)throw new Error("No Zego token received");setTimeout(()=>{window.location.href="/call?roomID=".concat(t.data.room_id,"&userID=").concat(e.id,"&userName=").concat(encodeURIComponent(e.name||"User"+e.id),"&callType=").concat(a,"&sessionId=").concat(n.data.session_id,"&zegoToken=").concat(encodeURIComponent(t.data.token),"&matchedUserId=").concat(c,"&matchedUserName=").concat(encodeURIComponent(h))},1500)}catch(m){var t,r,i;console.error("Zego token error:",m),clearInterval(o),x(null),d(!1),l(!1);const e=(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||m.message||"Failed to get call token";403===(null===(i=m.response)||void 0===i?void 0:i.status)?e.includes("not matched")?s("Users are not matched. Please try again.",{type:"error"}):e.includes("opposite genders")?s("Calls are only allowed between opposite genders.",{type:"error"}):s(e,{type:"error"}):s("Error connecting call: ".concat(e,". Please try again."),{type:"error"})}}else"waiting"===u.data.status&&f.current&&setTimeout(c,2e3)}catch(g){var u,h;if(!f.current)return;console.error("Find match error:",g),clearInterval(o),x(null),d(!1),l(!1),f.current=!1;const e=(null===(u=g.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.error)||g.message||"Failed to find match";s("Error finding match: ".concat(e,". Please try again."),{type:"error"})}};c()}catch(y){var n,r,i;if(g&&(clearInterval(g),x(null)),400===(null===(n=y.response)||void 0===n?void 0:n.status)&&"Insufficient credits"===(null===(r=y.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)){var o,c,u,h;d(!1),l(!1);const e=(null===(o=y.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.current_credits)||0,t=(null===(u=y.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.minimum_required)||60;s("Insufficient credits. You have ".concat(e," credits, but need ").concat(t," to start calling. Please recharge your account."),{type:"error"}),_(!0)}else{var m,v;const e=(null===(m=y.response)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.error)||y.message||"Failed to start call";p("\u274c Error: ".concat(e)),d(!1),s("Error starting call: ".concat(e,". Please try again."),{type:"error"})}}};r.useEffect(()=>()=>{h&&clearInterval(h),g&&clearInterval(g)},[h,g]);return(0,yn.jsxs)("div",{className:"calls-page page-with-bottom-nav",style:{background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 50%, #ffa8c5 100%)",minHeight:"100vh",position:"relative"},children:[(0,yn.jsxs)("div",{className:"top-bar",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,yn.jsxs)("div",{className:"top-logo",children:[(0,yn.jsx)("img",{src:"https://akm-dv.github.io/unlimitedhub/logo.jpg",alt:"Unlimited Hub"}),(0,yn.jsx)("span",{className:"app-name",children:"Unlimited Hub"})]}),(0,yn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,yn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:w.balance<50?"rgba(255, 193, 7, 0.2)":"rgba(255, 255, 255, 0.2)",borderRadius:"20px",border:w.balance<50?"1px solid rgba(255, 193, 7, 0.5)":"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onClick:()=>_(!0),onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.background=w.balance<50?"rgba(255, 193, 7, 0.2)":"rgba(255, 255, 255, 0.2)",e.currentTarget.style.transform="scale(1)"},children:[(0,yn.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:(0,yn.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",style:{color:"white"},children:[(0,yn.jsx)("path",{d:"M4 7h16a2 2 0 012 2v8a3 3 0 01-3 3H5a3 3 0 01-3-3V9a2 2 0 012-2z"}),(0,yn.jsx)("path",{d:"M7 7V5a2 2 0 012-2h6a2 2 0 012 2v2"}),(0,yn.jsx)("path",{d:"M17 12h4"}),(0,yn.jsx)("circle",{cx:"18.5",cy:"12",r:"1"})]})}),(0,yn.jsxs)("span",{style:{color:"white",fontWeight:"600",fontSize:"13px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:["\u20b9",w.balance||0]}),w.balance<50&&(0,yn.jsx)("span",{style:{fontSize:"9px",color:"#ffc107",fontWeight:"bold",animation:"pulse 2s infinite"},children:"Low"})]}),(0,yn.jsxs)("div",{className:"accept-calls-toggle",onClick:()=>q(!U),style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",padding:"6px 10px",borderRadius:"15px",background:U?"rgba(76, 175, 80, 0.9)":"rgba(255, 255, 255, 0.9)",border:U?"2px solid #4CAF50":"2px solid #ccc",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},onMouseEnter:e=>{e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.3)"},onMouseLeave:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"},children:[(0,yn.jsx)("div",{className:"toggle-indicator",style:{width:"8px",height:"8px",borderRadius:"50%",background:U?"#4CAF50":"#ccc",transition:"all 0.3s ease",boxShadow:U?"0 0 6px rgba(76, 175, 80, 0.8)":"none"}}),(0,yn.jsx)("span",{style:{fontSize:"10px",fontWeight:"600",color:U?"white":"#333",textShadow:U?"0 1px 2px rgba(0, 0, 0, 0.3)":"none"},children:U?"Active":"Inactive"})]})]}),(0,yn.jsxs)("div",{className:"account-section",onClick:()=>j(!b),style:{cursor:"pointer",padding:"5px",borderRadius:"50%",transition:"all 0.3s ease",border:"2px solid transparent"},onMouseEnter:e=>{e.target.style.border="2px solid #ff6b9d",e.target.style.boxShadow="0 4px 12px rgba(255, 107, 157, 0.4)"},onMouseLeave:e=>{e.target.style.border="2px solid transparent",e.target.style.boxShadow="none"},children:[(0,yn.jsx)("img",{src:te(null===e||void 0===e?void 0:e.gender),alt:"Profile",className:"account-dp",style:{width:"40px",height:"40px",borderRadius:"50%",border:"2px solid #ff6b9d",boxShadow:"0 2px 8px rgba(255, 107, 157, 0.3)"}}),b&&(0,yn.jsxs)("div",{className:"account-dropdown",children:[(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>{i("/profile-edit"),j(!1)},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 15c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zM19.428 15.341A8 8 0 104.572 15.34m14.856 0A8.003 8.003 0 0112 19a8.003 8.003 0 01-7.428-4.659"})}),"Profile Settings"]}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>{C(!0),j(!1)},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Recharge"]}),$.length>0&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"dropdown-divider"}),$.map(e=>(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>{i("/pages/".concat(e.slug)),j(!1)},children:[(0,yn.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 2h7l5 5v13a2 2 0 01-2 2H7a2 2 0 01-2-2V4a2 2 0 012-2z"}),(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2v6h6"})]}),e.title]},e.slug))]}),(0,yn.jsx)("div",{className:"dropdown-divider"}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>{n(),i("/login")},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]}),(0,yn.jsxs)("div",{className:"stats-section mini",style:{margin:"5px 0",padding:"5px 12px"},children:[(0,yn.jsxs)("div",{className:"stat-card mini",onClick:()=>{C(!0),_(!1)},style:{cursor:"pointer",background:w.balance<50?"#fff3cd":"white",padding:"6px 8px"},title:"Wallet Balance: \u20b9".concat(w.balance||0),children:[(0,yn.jsxs)("svg",{className:"stat-icon mini",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[(0,yn.jsx)("path",{d:"M4 7h16a2 2 0 012 2v8a3 3 0 01-3 3H5a3 3 0 01-3-3V9a2 2 0 012-2z"}),(0,yn.jsx)("path",{d:"M7 7V5a2 2 0 012-2h6a2 2 0 012 2v2"}),(0,yn.jsx)("path",{d:"M17 12h4"}),(0,yn.jsx)("circle",{cx:"18.5",cy:"12",r:"1"})]}),(0,yn.jsxs)("span",{className:"stat-value mini",style:{fontSize:"11px"},children:["\u20b9",w.balance||0]})]}),(0,yn.jsxs)("div",{className:"stat-card mini",onClick:()=>{D("diamonds"),_(!0),C(!1)},style:{cursor:"pointer",padding:"6px 8px"},children:[(0,yn.jsx)("svg",{className:"stat-icon mini",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M6 3h12l4 6-10 12L2 9l4-6z"})}),(0,yn.jsx)("span",{className:"stat-value mini",style:{fontSize:"11px"},children:w.diamonds||0})]}),(0,yn.jsxs)("div",{className:"stat-card mini",onClick:()=>{D("minutes"),_(!0),C(!1)},style:{cursor:"pointer",padding:"6px 8px"},children:[(0,yn.jsx)("svg",{className:"stat-icon mini",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,yn.jsx)("span",{className:"stat-value mini",style:{fontSize:"11px"},children:w.credits_in_minutes||0})]})]}),(0,yn.jsx)("div",{className:"hero-slider-section",style:{margin:"5px 0"},children:(0,yn.jsxs)("div",{className:"hero-slider",children:[(0,yn.jsx)("img",{src:G[v],alt:"Hero",className:"hero-slider-image"}),(0,yn.jsx)("div",{className:"hero-slider-dots",children:G.map((e,t)=>(0,yn.jsx)("button",{className:"slider-dot ".concat(t===v?"active":""),onClick:()=>y(t)},t))})]})}),(0,yn.jsxs)("div",{className:"calls-content",style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px 20px 0 0",marginTop:"10px",padding:"10px 8px",paddingBottom:"80px"},children:[(0,yn.jsxs)("div",{className:"calls-header",style:{padding:"0",marginBottom:"10px"},children:[(0,yn.jsx)("h1",{className:"calls-title",style:{fontSize:"20px",marginBottom:"4px"},children:"Start a Call"}),(0,yn.jsx)("p",{className:"calls-subtitle",style:{fontSize:"14px",margin:"0"},children:"Connect with people around the world"})]}),(0,yn.jsxs)("div",{className:"call-options",style:{padding:"0",marginBottom:"15px",display:"flex",gap:"10px"},children:[(0,yn.jsxs)("div",{className:"call-option-card video-call",onClick:()=>ae("video"),style:{flex:"1",display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",borderRadius:"12px",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 3px 10px rgba(255, 107, 157, 0.3)"},children:[(0,yn.jsx)("div",{className:"call-icon",style:{marginBottom:"6px"},children:(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,yn.jsxs)("div",{className:"call-info",style:{textAlign:"center"},children:[(0,yn.jsx)("h3",{style:{margin:"0 0 3px 0",fontSize:"14px",fontWeight:"bold"},children:"Video Call"}),(0,yn.jsx)("p",{style:{margin:"0 0 2px 0",fontSize:"10px",opacity:"0.9"},children:"Face-to-face"}),(0,yn.jsxs)("p",{style:{margin:"0",fontSize:"11px",fontWeight:"600",opacity:"0.95"},children:[w.credits_in_minutes||0," min left"]})]})]}),(0,yn.jsxs)("div",{className:"call-option-card voice-call",onClick:()=>ae("audio"),style:{flex:"1",display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",background:"linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%)",borderRadius:"12px",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 3px 10px rgba(76, 175, 80, 0.3)"},children:[(0,yn.jsx)("div",{className:"call-icon",style:{marginBottom:"6px"},children:(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,yn.jsxs)("div",{className:"call-info",style:{textAlign:"center"},children:[(0,yn.jsx)("h3",{style:{margin:"0 0 3px 0",fontSize:"14px",fontWeight:"bold"},children:"Voice Call"}),(0,yn.jsx)("p",{style:{margin:"0 0 2px 0",fontSize:"10px",opacity:"0.9"},children:"Audio-only"}),(0,yn.jsxs)("p",{style:{margin:"0",fontSize:"11px",fontWeight:"600",opacity:"0.95"},children:[w.credits_in_minutes||0," min left"]})]})]})]}),(0,yn.jsxs)("div",{className:"recent-calls-section",style:{padding:"0",marginBottom:"10px"},children:[(0,yn.jsx)("h2",{className:"section-title",style:{fontSize:"16px",marginBottom:"8px"},children:"Recent Calls"}),(0,yn.jsxs)("div",{className:"recent-calls-list",children:[(0,yn.jsxs)("div",{className:"recent-call-item",children:[(0,yn.jsx)("div",{className:"call-avatar",children:(0,yn.jsx)("img",{src:te("female"),alt:"User"})}),(0,yn.jsxs)("div",{className:"call-details",children:[(0,yn.jsx)("h4",{children:"Priya Sharma"}),(0,yn.jsx)("p",{children:"Video Call \u2022 2 hours ago"})]}),(0,yn.jsx)("div",{className:"call-status",children:(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),(0,yn.jsxs)("div",{className:"recent-call-item",children:[(0,yn.jsx)("div",{className:"call-avatar",children:(0,yn.jsx)("img",{src:te("male"),alt:"User"})}),(0,yn.jsxs)("div",{className:"call-details",children:[(0,yn.jsx)("h4",{children:"Rahul Kumar"}),(0,yn.jsx)("p",{children:"Voice Call \u2022 1 day ago"})]}),(0,yn.jsx)("div",{className:"call-status",children:(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]})]})]}),(0,yn.jsxs)("div",{className:"leaderboard-section",style:{background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",borderRadius:"15px",padding:"10px",marginTop:"0",marginBottom:"15px",color:"white"},children:[(0,yn.jsxs)("div",{className:"hero-header",style:{marginBottom:"8px"},children:[(0,yn.jsx)("h1",{className:"hero-title",style:{fontSize:"18px",marginBottom:"4px"},children:"Leaderboard"}),(0,yn.jsx)("p",{className:"hero-subtitle",style:{fontSize:"12px",margin:"0"},children:"Top performers this week"})]}),(0,yn.jsx)("div",{className:"leaderboard-container",children:[{id:1,name:"Priya Sharma",gender:"female",dp:"https://cdn-icons-png.flaticon.com/512/4140/4140047.png",minutes:245,type:"call_history"},{id:2,name:"Rahul Kumar",gender:"male",dp:"https://cdn-icons-png.flaticon.com/512/4140/4140048.png",minutes:189,type:"recharge_history"},{id:3,name:"Anjali Patel",gender:"female",dp:"https://cdn-icons-png.flaticon.com/512/4140/4140047.png",minutes:156,type:"refer_earn"},{id:4,name:"Vikram Singh",gender:"male",dp:"https://cdn-icons-png.flaticon.com/512/4140/4140048.png",minutes:134,type:"contact"},{id:5,name:"Meera Reddy",gender:"female",dp:"https://cdn-icons-png.flaticon.com/512/4140/4140047.png",minutes:98,type:"call_history"}].map((e,t)=>(0,yn.jsxs)("div",{className:"leaderboard-item ".concat(t<3?"top-three":""),style:{padding:"8px",marginBottom:"6px",fontSize:"14px"},children:[(0,yn.jsxs)("div",{className:"rank-badge",style:{width:"30px",height:"30px",fontSize:"12px"},children:[0===t&&"\ud83e\udd47",1===t&&"\ud83e\udd48",2===t&&"\ud83e\udd49",t>2&&"#".concat(t+1)]}),(0,yn.jsxs)("div",{className:"user-info",children:[(0,yn.jsx)("img",{src:e.dp,alt:e.name,className:"user-dp",style:{width:"30px",height:"30px"}}),(0,yn.jsx)("div",{className:"user-details",children:(0,yn.jsx)("h3",{className:"user-name",style:{fontSize:"14px",margin:"0"},children:e.name})})]}),(0,yn.jsxs)("div",{className:"user-stats",style:{fontSize:"12px"},children:[(0,yn.jsx)("span",{className:"minutes",children:e.minutes}),(0,yn.jsx)("span",{className:"minutes-label",children:"min"})]})]},e.id))})]})]}),o&&(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:99999},children:(0,yn.jsxs)("div",{className:"modal-content",children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Choose Call Type"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,yn.jsxs)("div",{className:"modal-body",children:[(0,yn.jsxs)("div",{className:"call-option video-call",onClick:()=>ae("video"),style:{cursor:"pointer"},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h4",{children:"Video Call"}),(0,yn.jsx)("p",{children:"Face-to-face conversation"})]})]}),(0,yn.jsxs)("div",{className:"call-option voice-call",onClick:()=>ae("audio"),style:{cursor:"pointer"},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h4",{children:"Audio Call"}),(0,yn.jsx)("p",{children:"Audio-only conversation"})]})]})]})]})}),c&&(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:99999},children:(0,yn.jsxs)("div",{className:"modal-content call-connecting-modal ".concat("video"===M?"video-call":"voice-call"),children:[(0,yn.jsx)("div",{className:"modal-header",children:(0,yn.jsx)("h3",{children:"video"===M?"\ud83d\udcf9 Connecting Video Call...":"\ud83d\udcde Connecting Voice Call..."})}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsxs)("div",{className:"call-connecting-animation",children:[(0,yn.jsxs)("div",{className:"phone-icon-container",children:["video"===M?(0,yn.jsx)("svg",{className:"phone-icon camera-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}):(0,yn.jsx)("svg",{className:"phone-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,yn.jsx)("div",{className:"phone-pulse-ring"}),(0,yn.jsx)("div",{className:"phone-pulse-ring"}),(0,yn.jsx)("div",{className:"phone-pulse-ring"})]}),(0,yn.jsxs)("div",{className:"loading-dots",children:[(0,yn.jsx)("div",{className:"dot"}),(0,yn.jsx)("div",{className:"dot"}),(0,yn.jsx)("div",{className:"dot"})]}),(0,yn.jsxs)("div",{className:"connection-status",children:[(0,yn.jsx)("p",{className:"status-text",children:u}),(0,yn.jsx)("div",{className:"status-indicator",children:(0,yn.jsx)("div",{className:"status-bar"})})]}),(0,yn.jsx)("button",{className:"cancel-call-btn",onClick:()=>{f.current=!1,d(!1),l(!1),h&&(clearInterval(h),m(null)),g&&(clearInterval(g),x(null)),F(null),W(null),p("")},children:"\u274c Cancel Call"})]})})]})}),k&&(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:99999},children:(0,yn.jsxs)("div",{className:"modal-content",children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"\ud83d\udcb3 Buy Call Credits"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>_(!1),children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsxs)("p",{style:{color:"#666",marginBottom:"15px"},children:["Current Balance: ",(0,yn.jsxs)("strong",{children:[w.credits_in_minutes||0," minutes"]})]}),(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Select Amount (\u20b9)"}),(0,yn.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:"minutes"===B?[29,49,99,199,299,499].map(e=>{const t={29:19,49:35,99:76,199:124,299:373,499:600}[e]||0,a=499===e?"+ 600\ud83d\udc8e":"";return(0,yn.jsxs)("button",{onClick:()=>z(e),style:{padding:"12px",border:R===e?"2px solid #ff6b9d":"1px solid #ddd",borderRadius:"8px",background:R===e?"#fff5f8":"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:["\u20b9",e,(0,yn.jsx)("br",{}),(0,yn.jsxs)("span",{style:{fontSize:"11px",color:"#666"},children:[t,"min ",a]})]},e)}):[100,200,500,1e3].map(e=>{const t=12*e;return(0,yn.jsxs)("button",{onClick:()=>z(e),style:{padding:"12px",border:R===e?"2px solid #ff6b9d":"1px solid #ddd",borderRadius:"8px",background:R===e?"#fff5f8":"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:["\u20b9",e,(0,yn.jsx)("br",{}),(0,yn.jsxs)("span",{style:{fontSize:"11px",color:"#666"},children:[t,"\ud83d\udc8e"]})]},e)})})]}),(0,yn.jsxs)("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[(0,yn.jsxs)("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:[(0,yn.jsxs)("strong",{children:["\u20b9",R]})," = ",(0,yn.jsx)("strong",{children:"minutes"===B?(()=>{const e={29:19,49:35,99:76,199:124,299:373,499:600}[R]||Math.floor(R/1.5),t=499===R?" + 600\ud83d\udc8e bonus":"";return"".concat(e," minutes").concat(t)})():"".concat(12*R," \ud83d\udc8e diamonds")})]}),(0,yn.jsx)("p",{style:{margin:"5px 0 0 0",fontSize:"12px",color:"#999"},children:"minutes"===B?"Voice call recharge plans":"\u20b91 = 12 Diamonds for video calls"})]}),(0,yn.jsxs)("div",{style:{background:w.balance<R?"#fff3cd":"#e8f5e9",padding:"12px",borderRadius:"8px",marginBottom:"15px",border:w.balance<R?"1px solid #ffc107":"1px solid #4caf50"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,yn.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#333"},children:"Wallet Balance:"}),(0,yn.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold",color:w.balance<R?"#f57c00":"#2e7d32"},children:["\u20b9",w.balance||0]})]}),w.balance<R&&(0,yn.jsxs)("p",{style:{fontSize:"12px",color:"#856404",margin:0},children:["Insufficient balance. You need \u20b9",R-w.balance," more."]})]}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[w.balance>=R?(0,yn.jsx)("button",{onClick:()=>Z(R,B),disabled:I,style:{flex:1,padding:"15px",background:"linear-gradient(135deg, #4caf50 0%, #66bb6a 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:I?"not-allowed":"pointer",opacity:I?.7:1},children:I?"Processing...":"Buy from Wallet \u20b9".concat(R)}):null,(0,yn.jsx)("button",{onClick:ee,disabled:I,style:{flex:(w.balance,1),padding:"15px",background:(w.balance,"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)"),color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:I?"not-allowed":"pointer",opacity:I?.7:1},children:I?"Processing...":"Recharge Wallet \u20b9".concat(R)})]})]})})]})}),S&&(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:99999},children:(0,yn.jsxs)("div",{className:"modal-content",children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"\ud83d\udcb0 Recharge Your Account"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>C(!1),children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsxs)("p",{style:{color:"#666",marginBottom:"15px",fontSize:"14px"},children:["Current Wallet Balance: ",(0,yn.jsxs)("strong",{style:{fontSize:"16px",color:"#333"},children:["\u20b9",w.balance||0]})]}),(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"15px"},children:"Enter Amount to Recharge (\u20b9)"}),(0,yn.jsx)("input",{type:"number",value:R||"",onChange:e=>{const t=parseInt(e.target.value)||0;z(t)},min:"10",max:"100000",style:{width:"100%",padding:"15px",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"18px",fontWeight:"600",textAlign:"center"},placeholder:"Enter amount",autoFocus:!0}),(0,yn.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"8px",textAlign:"center"},children:"Minimum \u20b910, Maximum \u20b91,00,000"})]}),(0,yn.jsx)("button",{onClick:ee,disabled:I||!R||R<10||R>1e5,style:{width:"100%",padding:"18px",background:R>=10&&R<=1e5&&!I?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#ccc",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:R>=10&&R<=1e5&&!I?"pointer":"not-allowed",opacity:I?.7:1,boxShadow:R>=10&&R<=1e5&&!I?"0 4px 15px rgba(102, 126, 234, 0.4)":"none",transition:"all 0.3s ease"},children:I?"Processing...":"Recharge \u20b9".concat(R||0," via Razorpay")})]})})]})}),P&&(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:99999},children:(0,yn.jsxs)("div",{className:"modal-content",children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"\u26a0\ufe0f Insufficient Wallet Balance"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>E(!1),children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsxs)("div",{style:{textAlign:"center",padding:"20px 0"},children:[(0,yn.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px",animation:"pulse 2s infinite"},children:"\ud83d\udcb0"}),(0,yn.jsx)("h3",{style:{color:"#f57c00",marginBottom:"15px"},children:"Low Balance Alert"}),(0,yn.jsxs)("div",{style:{background:"#fff3cd",padding:"20px",borderRadius:"12px",marginBottom:"20px",border:"2px solid #ffc107"},children:[(0,yn.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,yn.jsx)("p",{style:{fontSize:"14px",color:"#856404",margin:"5px 0"},children:"Current Balance:"}),(0,yn.jsxs)("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#f57c00",margin:"5px 0"},children:["\u20b9",T.current||0]})]}),(0,yn.jsxs)("div",{style:{borderTop:"1px solid #ffc107",paddingTop:"15px",marginTop:"15px"},children:[(0,yn.jsx)("p",{style:{fontSize:"14px",color:"#856404",margin:"5px 0"},children:"Required Balance:"}),(0,yn.jsxs)("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#d32f2f",margin:"5px 0"},children:["\u20b9",T.required||0]})]}),(0,yn.jsxs)("div",{style:{borderTop:"1px solid #ffc107",paddingTop:"15px",marginTop:"15px"},children:[(0,yn.jsx)("p",{style:{fontSize:"14px",color:"#856404",margin:"5px 0"},children:"You need:"}),(0,yn.jsxs)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"#d32f2f",margin:"5px 0"},children:["\u20b9",Math.max(0,(T.required||0)-(T.current||0))," more"]})]})]}),(0,yn.jsx)("p",{style:{color:"#666",marginBottom:"20px",fontSize:"14px"},children:"Please recharge your wallet to continue with this purchase."}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,yn.jsx)("button",{onClick:()=>{E(!1),_(!0)},style:{flex:1,padding:"15px",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Recharge Wallet"}),(0,yn.jsx)("button",{onClick:()=>E(!1),style:{flex:1,padding:"15px",background:"#f5f5f5",color:"#333",border:"1px solid #ddd",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Cancel"})]})]})})]})}),Y&&V&&(0,yn.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999},children:(0,yn.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"30px",textAlign:"center",maxWidth:"350px",width:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.3)",animation:"slideIn 0.3s ease-out"},children:[(0,yn.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",margin:"0 auto 20px",overflow:"hidden",border:"4px solid #ff6b9d",boxShadow:"0 8px 20px rgba(255, 107, 157, 0.3)"},children:(0,yn.jsx)("img",{src:V.caller_avatar,alt:V.caller_name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,yn.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#333",marginBottom:"8px"},children:V.caller_name}),(0,yn.jsx)("p",{style:{fontSize:"16px",color:"#666",marginBottom:"8px"},children:"video"===V.call_type?"\ud83d\udcf9 Video Call":"\ud83d\udcde Voice Call"}),(0,yn.jsx)("p",{style:{fontSize:"14px",color:"#999",marginBottom:"30px"},children:"Incoming call..."}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"20px",justifyContent:"center"},children:[(0,yn.jsx)("button",{onClick:async()=>{try{if(!t)return;await Dt.post("".concat(mn,"/api/call/decline"),{call_id:V.id},{headers:{Authorization:"Bearer ".concat(t)}}),J(!1),H(null)}catch(e){console.error("Error declining call:",e)}},style:{width:"60px",height:"60px",borderRadius:"50%",background:"#ff4757",border:"none",color:"white",fontSize:"24px",cursor:"pointer",boxShadow:"0 4px 15px rgba(255, 71, 87, 0.4)",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.transform="scale(1.1)",e.target.style.boxShadow="0 6px 20px rgba(255, 71, 87, 0.6)"},onMouseOut:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 4px 15px rgba(255, 71, 87, 0.4)"},children:"\ud83d\udcde"}),(0,yn.jsx)("button",{onClick:async()=>{try{if(!t)return;const e=await Dt.post("".concat(mn,"/api/call/accept"),{call_id:V.id,call_type:V.call_type},{headers:{Authorization:"Bearer ".concat(t)}});J(!1),H(null),F(e.data),d(!1),s("Call accepted! Connecting...",{type:"success"})}catch(e){console.error("Error accepting call:",e),s("Failed to accept call. Please try again.",{type:"error"})}},style:{width:"60px",height:"60px",borderRadius:"50%",background:"#2ed573",border:"none",color:"white",fontSize:"24px",cursor:"pointer",boxShadow:"0 4px 15px rgba(46, 213, 115, 0.4)",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.transform="scale(1.1)",e.target.style.boxShadow="0 6px 20px rgba(46, 213, 115, 0.6)"},onMouseOut:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 4px 15px rgba(46, 213, 115, 0.4)"},children:"\ud83d\udcde"})]})]})})]})},zn=()=>{const e=Ta(),t=Ra(),{token:a}=wn(),n=(0,r.useRef)(null),s=(0,r.useRef)(null),i=(0,r.useRef)(null),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)("Preparing call..."),[u,p]=(0,r.useState)("Preparing your call\u2026"),[h,m]=(0,r.useState)(null),g=(0,r.useMemo)(()=>{const t=new URLSearchParams(e.search),a=e=>{const a=t.get(e);return a?decodeURIComponent(a):""};return{roomID:a("roomID"),userID:t.get("userID"),userName:a("userName")||"User",zegoToken:a("zegoToken"),callType:(t.get("callType")||"video").toLowerCase(),matchedUserId:t.get("matchedUserId")||"-",matchedUserName:a("matchedUserName")||"Partner",sessionId:a("sessionId")||"-"}},[e.search]),x=(0,r.useCallback)(async()=>{const e=g.sessionId;if(e&&"-"!==e&&a)try{await fetch("".concat(mn,"/api/call/end"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({session_id:e})})}catch(h){console.error("Error ending call session:",h)}t("/calls",{replace:!0})},[t,g.sessionId,a]);(0,r.useEffect)(()=>{const{roomID:e,userID:t,zegoToken:a}=g;if(!e||!t||!a)return m("Missing call information. Please start a new call."),void l(!1);const r=()=>{if(!window.ZegoUIKitPrebuilt)return m("Call engine failed to load. Check your connection and try again."),void l(!1);try{d("Connecting to call engine\u2026");const e=window.ZegoUIKitPrebuilt.create(a);s.current=e,e.joinRoom({container:n.current,scenario:{mode:window.ZegoUIKitPrebuilt.VideoConference},sharedLinks:[{name:"Invite link",url:"".concat(window.location.origin).concat(window.location.pathname,"?roomID=").concat(encodeURIComponent(g.roomID))}],maxUsers:2,layout:"Auto",showLayoutButton:!1,showTextChat:!0,showUserList:!1,showRoomDetailsButton:!1,showScreenSharingButton:!1,turnOnMicrophoneWhenJoining:!0,turnOnCameraWhenJoining:"video"===g.callType,showMyCameraToggleButton:!0,showMyMicrophoneToggleButton:!0,topMenuBarConfig:{buttons:["toggleMicrophoneButton","toggleCameraButton","switchCameraButton","flipCameraButton","hangUpButton"]},onJoinRoom:()=>{p("Connected!"),d("Enjoy your call."),setTimeout(()=>l(!1),400)},onLeaveRoom:()=>{x()},onUserJoin:e=>{console.log("[CallRoom] Participant joined",e)},onUserLeave:e=>{console.log("[CallRoom] Participant left",e)}}),setTimeout(()=>l(!1),5e3)}catch(e){console.error("[CallRoom] Failed to join room",e),m("Unable to join the room. Please try again."),l(!1)}};if(window.ZegoUIKitPrebuilt)r();else{d("Loading call engine\u2026");const e=document.createElement("script");e.src="https://unpkg.com/@zegocloud/zego-uikit-prebuilt/zego-uikit-prebuilt.js",e.async=!0,e.onload=r,e.onerror=()=>{m("Unable to load the call engine. Please check your network and try again."),l(!1)},document.body.appendChild(e),i.current=e}return()=>{if(s.current)try{s.current.destroy()}catch(e){console.warn("[CallRoom] Error cleaning up Zego instance",e)}i.current&&i.current.remove()}},[g,x]);const f=(0,r.useMemo)(()=>g.matchedUserName.split(/\s+/).filter(Boolean).slice(0,2).map(e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||""}).join("")||"UH",[g.matchedUserName]);return(0,yn.jsxs)("div",{className:"call-room",children:[h&&(0,yn.jsx)("div",{className:"call-room__error",role:"alert",children:(0,yn.jsxs)("div",{className:"call-room__error-card",children:[(0,yn.jsx)("h2",{children:"Unable to start the call"}),(0,yn.jsx)("p",{children:h}),(0,yn.jsx)("button",{onClick:x,children:"Return to Calls"})]})}),(0,yn.jsxs)("header",{className:"call-room__header",children:[(0,yn.jsxs)("div",{className:"call-room__partner",children:[(0,yn.jsx)("div",{className:"call-room__avatar","aria-hidden":!0,children:f}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h1",{children:g.matchedUserName}),(0,yn.jsxs)("span",{children:["Room ",g.roomID," \u2022 Session ",g.sessionId]})]})]}),(0,yn.jsx)("div",{className:"call-room__status",children:"audio"===g.callType?"Voice call \xb7 encrypted":"Video call \xb7 encrypted"}),(0,yn.jsx)("button",{type:"button",className:"call-room__leave",onClick:x,children:"Leave"})]}),(0,yn.jsxs)("main",{className:"call-room__main",children:[o&&!h&&(0,yn.jsxs)("div",{className:"call-room__loading",role:"status","aria-live":"polite",children:[(0,yn.jsx)("div",{className:"call-room__spinner"}),(0,yn.jsx)("h2",{children:u}),(0,yn.jsx)("p",{children:c})]}),(0,yn.jsx)("div",{ref:n,className:"call-room__zego"})]})]})},In=()=>{const e="advertiserVerifiedPhone",t="advertiserPendingPhone",a=Ra(),[n,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(Array(6).fill("")),[l,c]=(0,r.useState)("phone"),[d,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[x,f]=(0,r.useState)(null),v=(0,r.useRef)([]);(0,r.useEffect)(()=>{try{const a=localStorage.getItem(t)||localStorage.getItem(e);if(a){const e=a.replace(/[^\d]/g,"").slice(-10);e&&s(e)}}catch(a){console.warn("Unable to access stored advertiser phone:",a)}},[]),(0,r.useEffect)(()=>{"otp"===l&&(o(Array(6).fill("")),requestAnimationFrame(()=>{var e;null===(e=v.current[0])||void 0===e||e.focus()}))},[l]);const y=e=>{var t;e.preventDefault();const a=e.clipboardData.getData("text").replace(/\D/g,"");if(!a)return;const n=a.slice(0,i.length).split("");o(e=>{const t=[...e];return n.forEach((e,a)=>{t[a]=e}),t});const r=Math.min(n.length,i.length-1);null===(t=v.current[r])||void 0===t||t.focus()};return(0,yn.jsx)("div",{className:"advertiser-login",children:(0,yn.jsxs)("div",{className:"advertiser-login-container",children:[(0,yn.jsxs)("div",{className:"advertiser-login-header",children:[(0,yn.jsx)("h1",{children:"\ud83c\udfaf Advertiser Login"}),(0,yn.jsx)("p",{children:"Access your advertising dashboard and manage your campaigns"})]}),"phone"===l?(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!n||n.length<10)return void h("Please enter a valid phone number");const a=n.startsWith("+91")?n:"+91".concat(n);u(!0),h("");try{const e=await fetch("".concat(mn,"/api/advertiser/send-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:a})}),n=await e.json();if(e.ok){n.otp&&(console.log("\ud83d\udd14 DEVELOPMENT MODE: Your Advertiser OTP is:",n.otp),console.log("\ud83d\udcf1 Phone:",a),console.log("\u23f0 Use this OTP to verify your advertiser account"));try{localStorage.setItem(t,a)}catch(r){console.warn("Unable to store pending advertiser phone:",r)}c("otp"),h("")}else h(n.error||"Failed to send OTP")}catch(s){h("Network error. Please try again.")}finally{u(!1)}},className:"advertiser-login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,yn.jsxs)("div",{className:"mobile-input-container",children:[(0,yn.jsx)("span",{className:"country-code",children:"+91"}),(0,yn.jsx)("input",{type:"tel",id:"phone",value:n,onChange:e=>s(e.target.value),placeholder:"Enter your mobile number",maxLength:"10",required:!0})]}),(0,yn.jsx)("p",{className:"helper-text",children:"We'll send you a verification code"})]}),p&&(0,yn.jsx)("div",{className:"error-message",children:p}),(0,yn.jsx)("button",{type:"submit",className:"advertiser-login-btn",disabled:d,children:d?"Sending OTP...":"Send OTP"}),(0,yn.jsxs)("div",{className:"advertiser-login-footer",children:[(0,yn.jsxs)("p",{children:["Don't have an advertiser account?"," ",(0,yn.jsx)("span",{className:"link",onClick:()=>a("/advertiser/register"),children:"Register here"})]}),(0,yn.jsx)("p",{children:(0,yn.jsx)("span",{className:"link",onClick:()=>a("/login"),children:"\u2190 Back to User Login"})})]})]}):(0,yn.jsxs)("form",{onSubmit:async r=>{r.preventDefault();const s=i.join("");if(6!==s.length)return void h("Please enter a valid 6-digit OTP");u(!0),h("");const o=n.startsWith("+91")?n:"+91".concat(n);try{const n=await fetch("".concat(mn,"/api/advertiser/verify-otp"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:o,otp_code:s})}),r=await n.json();if(n.ok){try{localStorage.setItem(e,o),localStorage.removeItem(t)}catch(l){console.warn("Unable to store verified advertiser phone:",l)}if(r.advertiser_exists){const e=r.advertiser;f(e),g(!0),a("/advertiser/dashboard",{state:{advertiserId:e.id}})}else a("/advertiser/register",{state:{phone:o}})}else h(r.error||"Invalid OTP")}catch(c){h("Network error. Please try again.")}finally{u(!1)}},className:"advertiser-login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"otp",children:"Enter OTP"}),(0,yn.jsx)("div",{className:"otp-input-group",children:i.map((e,t)=>(0,yn.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,className:"otp-input-box",value:e,onChange:e=>((e,t)=>{const a=t.replace(/\D/g,"");o(t=>{const n=[...t];if(!a)return n[e]="",n;const r=a[a.length-1];var s;return n[e]=r,e<n.length-1&&(null===(s=v.current[e+1])||void 0===s||s.focus()),n})})(t,e.target.value),onKeyDown:e=>((e,t)=>{if("Backspace"===t.key)if(i[e])o(t=>{const a=[...t];return a[e]="",a});else if(e>0){var a;null===(a=v.current[e-1])||void 0===a||a.focus()}var n,r;"ArrowLeft"===t.key&&e>0&&(t.preventDefault(),null===(n=v.current[e-1])||void 0===n||n.focus()),"ArrowRight"===t.key&&e<i.length-1&&(t.preventDefault(),null===(r=v.current[e+1])||void 0===r||r.focus())})(t,e),onPaste:y,ref:e=>v.current[t]=e,"aria-label":"OTP digit ".concat(t+1),required:!0},t))}),(0,yn.jsxs)("p",{className:"otp-info",children:["OTP sent to ",n.startsWith("+91")?n:"+91".concat(n)]})]}),p&&(0,yn.jsx)("div",{className:"error-message",children:p}),(0,yn.jsx)("button",{type:"submit",className:"advertiser-login-btn",disabled:d,children:d?"Verifying...":"Verify OTP"}),(0,yn.jsxs)("div",{className:"advertiser-login-footer",children:[(0,yn.jsx)("p",{children:(0,yn.jsx)("span",{className:"link",onClick:()=>{c("phone"),o(Array(6).fill("")),h("");try{localStorage.removeItem(t),localStorage.removeItem(e)}catch(a){console.warn("Unable to clear advertiser phone cache:",a)}},children:"\u2190 Change Phone Number"})}),(0,yn.jsx)("p",{children:(0,yn.jsx)("span",{className:"link",onClick:()=>c("phone"),children:"Resend OTP"})})]})]})]})})},Ln=()=>{const e="advertiserVerifiedPhone",t=Ra(),a=Ta(),[n,s]=(0,r.useState)({brand_name:"",phone_number:"",brand_logo:"",brand_description:"",email:"",address:""}),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)("");(0,r.useEffect)(()=>{var t;const n=(()=>{try{return localStorage.getItem(e)}catch(t){return console.warn("Unable to read stored advertiser phone:",t),null}})(),r=(null===(t=a.state)||void 0===t?void 0:t.phone)||n;if(r){const e=(e=>{if(!e)return"";const t=e.replace(/[^\d]/g,"").slice(-10);return t?"+91".concat(t):""})(r);s(t=>ge(ge({},t),{},{phone_number:e}))}},[a.state,e]);const d=e=>{const{name:t,value:a}=e.target;s(e=>ge(ge({},e),{},{[t]:a}))};return(0,yn.jsx)("div",{className:"advertiser-register",children:(0,yn.jsxs)("div",{className:"advertiser-register-container",children:[(0,yn.jsxs)("div",{className:"advertiser-register-header",children:[(0,yn.jsx)("h1",{children:"\ud83c\udfaf Advertiser Registration"}),(0,yn.jsx)("p",{children:"Create your advertising account and start promoting your brand"})]}),(0,yn.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!n.brand_name||!n.phone_number)return void c("Brand name and phone number are required");const r=n.phone_number.startsWith("+91")?n.phone_number:"+91".concat(n.phone_number.replace(/[^\d]/g,"").slice(-10));o(!0),c("");try{const a=await fetch("".concat(mn,"/api/advertiser/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge(ge({},n),{},{phone_number:r}))}),i=await a.json();if(a.ok){const a=ge(ge({},i.advertiser),{},{phone_number:r});try{localStorage.removeItem(e)}catch(s){console.warn("Unable to clear stored advertiser phone:",s)}t("/advertiser/dashboard",{state:{advertiserId:a.id}})}else c(i.error||"Registration failed")}catch(i){c("Network error. Please try again.")}finally{o(!1)}},className:"advertiser-register-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"brand_name",children:"Brand Name *"}),(0,yn.jsx)("input",{type:"text",id:"brand_name",name:"brand_name",value:n.brand_name,onChange:d,placeholder:"Enter your brand name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"phone_number",children:"Phone Number *"}),(0,yn.jsx)("input",{type:"tel",id:"phone_number",name:"phone_number",value:n.phone_number,onChange:d,placeholder:"Enter your phone number",disabled:!0,readOnly:!0}),(0,yn.jsx)("p",{className:"helper-text",children:"Verified during OTP login and locked for security."})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"brand_logo",children:"Brand Logo URL"}),(0,yn.jsx)("input",{type:"url",id:"brand_logo",name:"brand_logo",value:n.brand_logo,onChange:d,placeholder:"https://example.com/logo.png"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"brand_description",children:"Brand Description"}),(0,yn.jsx)("textarea",{id:"brand_description",name:"brand_description",value:n.brand_description,onChange:d,placeholder:"Tell us about your brand...",rows:"3"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"email",children:"Email"}),(0,yn.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:d,placeholder:"Enter your email"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"address",children:"Address"}),(0,yn.jsx)("textarea",{id:"address",name:"address",value:n.address,onChange:d,placeholder:"Enter your business address",rows:"2"})]}),l&&(0,yn.jsx)("div",{className:"error-message",children:l}),(0,yn.jsx)("button",{type:"submit",className:"advertiser-register-btn",disabled:i,children:i?"Creating Account...":"Create Account"}),(0,yn.jsxs)("div",{className:"advertiser-login-footer",children:[(0,yn.jsxs)("p",{children:["Already have an account?"," ",(0,yn.jsx)("span",{className:"link",onClick:()=>t("/advertiser/login"),children:"Login here"})]}),(0,yn.jsx)("p",{children:(0,yn.jsx)("span",{className:"link",onClick:()=>t("/login"),children:"\u2190 Back to User Login"})})]})]})]})})},Bn=e=>{let{advertiserId:t,onClose:a,onSuccess:n}=e;const[s,i]=(0,r.useState)({name:"",media_url:"",media_type:"image",loop_frequency:1,is_continuous:!1,duration_days:1,action_button:"web",action_link:"",target_languages:[],target_interests:[],target_relationship_goals:[],target_gender:"all",target_age_min:"",target_age_max:""}),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),[f,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(0),[j,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)("wallet"),[_,S]=(0,r.useState)(!1),[C,P]=(0,r.useState)(100),[E,T]=(0,r.useState)(!1),A=e=>{const{name:t,value:a,type:n,checked:r}=e.target;i(e=>ge(ge({},e),{},{[t]:"checkbox"===n?r:a}))},R=async()=>{if(t){w(!0);try{const e=await Dt.get("".concat(mn,"/api/advertiser/wallet/balance"),{params:{advertiser_id:t}});e.data&&void 0!==e.data.balance&&b(e.data.balance)}catch(e){console.error("Error fetching wallet balance:",e),b(0)}finally{w(!1)}}};(0,r.useEffect)(()=>{u&&R()},[u]);return(0,yn.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Create New Campaign"}),(0,yn.jsx)("button",{className:"modal-close",onClick:a,children:"\xd7"})]}),u?(0,yn.jsxs)("div",{className:"payment-section modal-body",style:{overflowY:"auto",flex:1},children:[(0,yn.jsxs)("div",{className:"payment-header",children:[(0,yn.jsx)("h3",{children:"Payment Details"}),(0,yn.jsx)("p",{children:"Complete your payment to publish the campaign"})]}),(0,yn.jsxs)("div",{className:"payment-summary",children:[(0,yn.jsxs)("div",{className:"summary-item",children:[(0,yn.jsx)("span",{children:"Campaign Duration:"}),(0,yn.jsxs)("span",{children:[s.duration_days," days"]})]}),(0,yn.jsxs)("div",{className:"summary-item",children:[(0,yn.jsx)("span",{children:"Daily Rate:"}),(0,yn.jsx)("span",{children:"\u20b930/day"})]}),(0,yn.jsxs)("div",{className:"summary-item total",children:[(0,yn.jsx)("span",{children:"Total Amount:"}),(0,yn.jsxs)("span",{children:["\u20b9",30*s.duration_days]})]})]}),(0,yn.jsxs)("div",{style:{margin:"20px 0",padding:"15px",backgroundColor:y>=30*s.duration_days?"#e8f5e9":"#fff3cd",borderRadius:"8px",border:y>=30*s.duration_days?"1px solid #4caf50":"1px solid #ffc107"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{style:{fontSize:"14px",color:"#666"},children:"Wallet Balance:"}),(0,yn.jsxs)("span",{style:{fontSize:"18px",fontWeight:"bold",color:y>=30*s.duration_days?"#2e7d32":"#f57c00",marginLeft:"10px"},children:["\u20b9",j?"Loading...":y.toFixed(2)]})]}),y<30*s.duration_days&&(0,yn.jsx)("button",{type:"button",onClick:()=>S(!0),style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Recharge Wallet"})]}),y<30*s.duration_days&&(0,yn.jsxs)("p",{style:{fontSize:"12px",color:"#f57c00",marginTop:"8px",marginBottom:0},children:["Insufficient balance. You need \u20b9",(30*s.duration_days-y).toFixed(2)," more."]})]}),(0,yn.jsxs)("div",{className:"payment-methods",children:[(0,yn.jsx)("h4",{children:"Select Payment Method"}),(0,yn.jsxs)("div",{className:"payment-options",children:[(0,yn.jsxs)("label",{className:"payment-option",children:[(0,yn.jsx)("input",{type:"radio",name:"payment",value:"wallet",checked:"wallet"===N,onChange:e=>k(e.target.value)}),(0,yn.jsxs)("span",{className:"option-content",children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),(0,yn.jsx)("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),"Pay from Wallet ",y>=30*s.duration_days?"(Recommended)":"(Insufficient Balance)"]})]}),(0,yn.jsxs)("label",{className:"payment-option",style:{opacity:.5,cursor:"not-allowed"},children:[(0,yn.jsx)("input",{type:"radio",name:"payment",value:"card",disabled:!0,checked:"card"===N,onChange:e=>k(e.target.value)}),(0,yn.jsxs)("span",{className:"option-content",children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),(0,yn.jsx)("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),"Credit/Debit Card (Coming Soon)"]})]}),(0,yn.jsxs)("label",{className:"payment-option",style:{opacity:.5,cursor:"not-allowed"},children:[(0,yn.jsx)("input",{type:"radio",name:"payment",value:"upi",disabled:!0,checked:"upi"===N,onChange:e=>k(e.target.value)}),(0,yn.jsxs)("span",{className:"option-content",children:[(0,yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),"UPI (Coming Soon)"]})]})]})]}),c&&(0,yn.jsx)("div",{className:"error-message",children:c}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Back"}),(0,yn.jsx)("button",{type:"button",className:"btn-primary",onClick:async()=>{const e=30*s.duration_days;if("wallet"===N){if(y<e)return d("Insufficient wallet balance. You need \u20b9".concat(e," but have \u20b9").concat(y.toFixed(2),". Please recharge your wallet.")),void S(!0);l(!0),d("");try{const e=new FormData;e.append("advertiser_id",t),e.append("name",s.name),e.append("media_type",s.media_type),e.append("media_url",s.media_url),e.append("loop_frequency",s.loop_frequency),e.append("is_continuous",s.is_continuous),e.append("duration_days",s.duration_days),e.append("action_button",s.action_button),e.append("action_link",s.action_link||""),e.append("target_languages",JSON.stringify(s.target_languages)),e.append("target_interests",JSON.stringify(s.target_interests)),e.append("target_relationship_goals",JSON.stringify(s.target_relationship_goals)),e.append("target_gender",s.target_gender),s.target_age_min&&e.append("target_age_min",s.target_age_min),s.target_age_max&&e.append("target_age_max",s.target_age_max);const a=await fetch("".concat(mn,"/api/advertiser/create-ad"),{method:"POST",body:e}),r=await a.json();a.ok?(n(),p(!1)):r.error&&r.error.includes("Insufficient")?(d(r.message||r.error),S(!0)):d(r.error||"Failed to create ad")}catch(a){d("Network error. Please try again.")}finally{l(!1)}}else d("Please use wallet payment. Razorpay integration coming soon.")},disabled:o||"wallet"===N&&y<30*s.duration_days,children:o?"Processing Payment...":"wallet"===N?"Pay \u20b9".concat(30*s.duration_days," from Wallet"):"Pay \u20b9".concat(30*s.duration_days)})]})]}):(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),e.stopPropagation(),f?d("Please wait for media upload to complete"):s.name&&(s.media_url||h)&&s.duration_days?p(!0):d("Please fill in all required fields and upload media")},onKeyDown:e=>{"Enter"===e.key&&"file"===e.target.type&&e.preventDefault()},className:"modal-body",style:{overflowY:"auto",flex:1},children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Campaign Name *"}),(0,yn.jsx)("input",{type:"text",name:"name",value:s.name,onChange:A,placeholder:"Enter campaign name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",onClick:e=>e.stopPropagation(),children:[(0,yn.jsx)("label",{children:"Media File (Image or Video) *"}),(0,yn.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:async e=>{e.preventDefault(),e.stopPropagation();const t=e.target.files[0];if(!t)return;const a=t.type.startsWith("image/"),n=t.type.startsWith("video/");if(!a&&!n)return void d("Please select an image or video file");const r=n?"video":"image";i(e=>ge(ge({},e),{},{media_type:r})),m(t);const s=URL.createObjectURL(t);x(s),v(!0),d("");try{const a=new FormData;a.append("file",t),a.append("media_type",r);const n=await fetch("".concat(mn,"/api/advertiser/upload-media"),{method:"POST",body:a}),s=await n.json();n.ok?i(e=>ge(ge({},e),{},{media_url:s.url})):(d(s.error||"Failed to upload media"),m(null),x(null),e.target.value="")}catch(o){d("Network error. Please try again."),m(null),x(null),e.target.value=""}finally{v(!1)}},onClick:e=>{e.stopPropagation()},onFocus:e=>e.stopPropagation(),disabled:f}),f&&(0,yn.jsx)("p",{style:{color:"#007bff",marginTop:"8px"},children:"Uploading media..."}),g&&(0,yn.jsx)("div",{style:{marginTop:"12px"},onClick:e=>e.stopPropagation(),children:"video"===s.media_type?(0,yn.jsx)("video",{src:g,controls:!0,style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px"},onClick:e=>e.stopPropagation()}):(0,yn.jsx)("img",{src:g,alt:"Preview",style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px",objectFit:"contain"},onClick:e=>e.stopPropagation()})}),s.media_url&&(0,yn.jsx)("p",{style:{fontSize:"12px",color:"#28a745",marginTop:"8px"},children:"\u2713 Media uploaded successfully"})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Media Type"}),(0,yn.jsxs)("select",{name:"media_type",value:s.media_type,onChange:A,disabled:!0,children:[(0,yn.jsx)("option",{value:"image",children:"Image"}),(0,yn.jsx)("option",{value:"video",children:"Video"})]}),(0,yn.jsx)("small",{style:{fontSize:"11px",color:"#666"},children:"Auto-detected from file"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Duration (Days) *"}),(0,yn.jsx)("input",{type:"number",name:"duration_days",value:s.duration_days,onChange:A,min:"1",max:"365",required:!0})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Action Button"}),(0,yn.jsxs)("select",{name:"action_button",value:s.action_button,onChange:A,children:[(0,yn.jsx)("option",{value:"call",children:"Call"}),(0,yn.jsx)("option",{value:"web",children:"Website"}),(0,yn.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,yn.jsx)("option",{value:"app",children:"App"}),(0,yn.jsx)("option",{value:"enquiry",children:"Enquiry"})]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Action Link"}),(0,yn.jsx)("input",{type:"text",name:"action_link",value:s.action_link,onChange:A,placeholder:"Phone number, URL, etc."})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Languages *"}),(0,yn.jsx)("div",{className:"checkbox-group",children:[{id:1,name:"English",code:"en"},{id:2,name:"Hindi",code:"hi"},{id:3,name:"Punjabi",code:"pa"},{id:4,name:"Bengali",code:"bn"},{id:5,name:"Telugu",code:"te"},{id:6,name:"Marathi",code:"mr"},{id:7,name:"Urdu",code:"ur"},{id:8,name:"Kannada",code:"kn"},{id:9,name:"Malayalam",code:"ml"},{id:10,name:"Odia",code:"or"}].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:s.target_languages.includes(e.id),onChange:t=>{t.target.checked?i(t=>ge(ge({},t),{},{target_languages:[...t.target_languages,e.id]})):i(t=>ge(ge({},t),{},{target_languages:t.target_languages.filter(t=>t!==e.id)}))}}),(0,yn.jsx)("span",{children:e.name})]},e.id))})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Gender"}),(0,yn.jsxs)("select",{name:"target_gender",value:s.target_gender,onChange:A,children:[(0,yn.jsx)("option",{value:"all",children:"All"}),(0,yn.jsx)("option",{value:"male",children:"Male"}),(0,yn.jsx)("option",{value:"female",children:"Female"})]})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Interests"}),(0,yn.jsx)("div",{className:"checkbox-group",children:["technology","gaming","movies","music","sports","reading","travel","food","fashion","fitness","art","photography","cooking","dancing","yoga","education","business","lifestyle"].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:s.target_interests.includes(e),onChange:t=>{t.target.checked?i(t=>ge(ge({},t),{},{target_interests:[...t.target_interests,e]})):i(t=>ge(ge({},t),{},{target_interests:t.target_interests.filter(t=>t!==e)}))}}),(0,yn.jsx)("span",{children:e})]},e))})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Relationship Goals"}),(0,yn.jsx)("div",{className:"checkbox-group",children:["friendship","casual","serious","marriage","language-exchange"].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:s.target_relationship_goals.includes(e),onChange:t=>{t.target.checked?i(t=>ge(ge({},t),{},{target_relationship_goals:[...t.target_relationship_goals,e]})):i(t=>ge(ge({},t),{},{target_relationship_goals:t.target_relationship_goals.filter(t=>t!==e)}))}}),(0,yn.jsx)("span",{children:e})]},e))})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Min Age"}),(0,yn.jsx)("input",{type:"number",name:"target_age_min",value:s.target_age_min,onChange:A,min:"18",max:"100",placeholder:"18"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Max Age"}),(0,yn.jsx)("input",{type:"number",name:"target_age_max",value:s.target_age_max,onChange:A,min:"18",max:"100",placeholder:"65"})]})]}),c&&(0,yn.jsx)("div",{className:"error-message",children:c}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:a,children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"btn-primary",children:"Continue to Payment"})]})]}),_&&(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:1e5},onClick:()=>S(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"500px"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"\ud83d\udcb0 Recharge Wallet"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>S(!1),children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsxs)("p",{style:{color:"#666",marginBottom:"15px"},children:["Current Wallet Balance: ",(0,yn.jsxs)("strong",{children:["\u20b9",y.toFixed(2)]})]}),(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Select Amount (\u20b9)"}),(0,yn.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[100,200,500,1e3,2e3,5e3].map(e=>(0,yn.jsxs)("button",{type:"button",onClick:()=>P(e),style:{padding:"12px",border:C===e?"2px solid #007bff":"1px solid #ddd",borderRadius:"8px",background:C===e?"#e7f3ff":"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:["\u20b9",e]},e))})]}),(0,yn.jsx)("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:(0,yn.jsxs)("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:["You will recharge ",(0,yn.jsxs)("strong",{children:["\u20b9",C]})," to your wallet"]})}),c&&(0,yn.jsx)("div",{className:"error-message",style:{marginBottom:"15px"},children:c}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,yn.jsx)("button",{type:"button",onClick:()=>S(!1),style:{flex:1,padding:"12px",background:"#f0f0f0",color:"#333",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"Cancel"}),(0,yn.jsx)("button",{type:"button",onClick:async()=>{T(!0),d("");try{const e=await Dt.post("".concat(mn,"/api/wallet/create-order"),{amount:C,user_type:"advertiser",user_id:t});if(e.data.error)return d(e.data.error||"Payment gateway error. Please contact support."),void T(!1);const{order_id:a,key_id:n}=e.data;if(!a||!n)return d("Invalid payment order. Please try again."),void T(!1);const r={key:n,amount:e.data.amount,currency:e.data.currency||"INR",name:"Unlimited Hub",description:"Advertiser Wallet Recharge",order_id:a,handler:async function(e){try{await Dt.post("".concat(mn,"/api/wallet/verify-payment"),{razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,user_type:"advertiser",user_id:t}),await R(),S(!1),d(""),alert("Wallet recharged successfully! \u20b9".concat(C," added to your wallet."))}catch(c){console.error("Payment verification failed:",c),d("Payment verification failed. Please contact support.")}finally{T(!1)}},theme:{color:"#007bff"}};new window.Razorpay(r).open()}catch(n){var e,a;console.error("Error creating payment order:",n),d((null===(e=n.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.error)||"Error creating payment order. Please try again."),T(!1)}},disabled:E||C<10,style:{flex:1,padding:"12px",background:E?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:E?"not-allowed":"pointer",opacity:E?.7:1},children:E?"Processing...":"Recharge \u20b9".concat(C)})]})]})})]})})]})})},Dn=e=>{let{campaign:t,onClose:a}=e;return(0,yn.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,yn.jsxs)("div",{className:"modal-content campaign-details-modal",onClick:e=>e.stopPropagation(),style:{maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Campaign Details"}),(0,yn.jsx)("button",{className:"modal-close",onClick:a,children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",style:{overflowY:"auto",flex:1},children:(0,yn.jsxs)("div",{className:"campaign-details-content",children:[(0,yn.jsx)("div",{className:"campaign-details-media",children:t.media_url?(0,yn.jsx)("img",{src:t.media_url,alt:t.name,className:"campaign-details-image"}):(0,yn.jsxs)("div",{className:"campaign-details-placeholder",children:[(0,yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,yn.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,yn.jsx)("polyline",{points:"21,15 16,10 5,21"})]}),(0,yn.jsx)("span",{children:"No Image Available"})]})}),(0,yn.jsxs)("div",{className:"campaign-details-info",children:[(0,yn.jsxs)("div",{className:"campaign-details-header",children:[(0,yn.jsx)("h2",{children:t.name}),(0,yn.jsx)("span",{className:"status-badge",style:{backgroundColor:(e=>{switch(e){case"approved":return"#10b981";case"pending":return"#f59e0b";case"rejected":return"#ef4444";case"under_review":return"#3b82f6";default:return"#6b7280"}})(t.status)},children:(e=>{switch(e){case"approved":return"Approved";case"pending":return"Pending";case"rejected":return"Rejected";case"under_review":return"Under Review";default:return e}})(t.status)})]}),(0,yn.jsxs)("div",{className:"campaign-details-stats",children:[(0,yn.jsxs)("div",{className:"stat-row",children:[(0,yn.jsxs)("div",{className:"stat-item",children:[(0,yn.jsx)("span",{className:"stat-label",children:"Total Views"}),(0,yn.jsx)("span",{className:"stat-value",children:t.total_views})]}),(0,yn.jsxs)("div",{className:"stat-item",children:[(0,yn.jsx)("span",{className:"stat-label",children:"Total Shares"}),(0,yn.jsx)("span",{className:"stat-value",children:t.total_shares})]})]}),(0,yn.jsxs)("div",{className:"stat-row",children:[(0,yn.jsxs)("div",{className:"stat-item",children:[(0,yn.jsx)("span",{className:"stat-label",children:"Created Date"}),(0,yn.jsx)("span",{className:"stat-value",children:new Date(t.created_at).toLocaleDateString("en-IN")})]}),(0,yn.jsxs)("div",{className:"stat-item",children:[(0,yn.jsx)("span",{className:"stat-label",children:"Campaign ID"}),(0,yn.jsxs)("span",{className:"stat-value",children:["#",t.id]})]})]})]}),(0,yn.jsxs)("div",{className:"campaign-performance",children:[(0,yn.jsx)("h4",{children:"Performance Overview"}),(0,yn.jsxs)("div",{className:"performance-metrics",children:[(0,yn.jsxs)("div",{className:"metric",children:[(0,yn.jsx)("div",{className:"metric-icon",children:(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,yn.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}),(0,yn.jsxs)("div",{className:"metric-content",children:[(0,yn.jsx)("span",{className:"metric-value",children:t.total_views}),(0,yn.jsx)("span",{className:"metric-label",children:"Total Views"})]})]}),(0,yn.jsxs)("div",{className:"metric",children:[(0,yn.jsx)("div",{className:"metric-icon",children:(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),(0,yn.jsx)("polyline",{points:"16,6 12,2 8,6"}),(0,yn.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})}),(0,yn.jsxs)("div",{className:"metric-content",children:[(0,yn.jsx)("span",{className:"metric-value",children:t.total_shares}),(0,yn.jsx)("span",{className:"metric-label",children:"Total Shares"})]})]}),(0,yn.jsxs)("div",{className:"metric",children:[(0,yn.jsx)("div",{className:"metric-icon",children:(0,yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,yn.jsxs)("div",{className:"metric-content",children:[(0,yn.jsx)("span",{className:"metric-value",children:t.total_earnings?"\u20b9".concat(t.total_earnings):"\u20b90"}),(0,yn.jsx)("span",{className:"metric-label",children:"Total Earnings"})]})]})]})]}),(0,yn.jsxs)("div",{className:"campaign-targeting",children:[(0,yn.jsx)("h4",{children:"Targeting Information"}),(0,yn.jsxs)("div",{className:"targeting-grid",children:[(0,yn.jsxs)("div",{className:"targeting-section",children:[(0,yn.jsx)("h5",{children:"\ud83c\udf0d Target Languages"}),(0,yn.jsx)("div",{className:"targeting-tags",children:t.target_languages?JSON.parse(t.target_languages).map(e=>(0,yn.jsx)("span",{className:"targeting-tag language",children:{1:"English",2:"Hindi",3:"Punjabi",4:"Bengali",5:"Telugu",6:"Marathi",7:"Urdu",8:"Kannada",9:"Malayalam",10:"Odia"}[e]||"Language ".concat(e)},e)):(0,yn.jsx)("span",{className:"targeting-tag all",children:"All Languages"})})]}),(0,yn.jsxs)("div",{className:"targeting-section",children:[(0,yn.jsx)("h5",{children:"\ud83c\udfaf Target Interests"}),(0,yn.jsx)("div",{className:"targeting-tags",children:t.target_interests?JSON.parse(t.target_interests).map(e=>(0,yn.jsx)("span",{className:"targeting-tag interest",children:e},e)):(0,yn.jsx)("span",{className:"targeting-tag all",children:"All Interests"})})]}),(0,yn.jsxs)("div",{className:"targeting-section",children:[(0,yn.jsx)("h5",{children:"\ud83d\udc95 Target Relationship Goals"}),(0,yn.jsx)("div",{className:"targeting-tags",children:t.target_relationship_goals?JSON.parse(t.target_relationship_goals).map(e=>(0,yn.jsx)("span",{className:"targeting-tag goal",children:e},e)):(0,yn.jsx)("span",{className:"targeting-tag all",children:"All Goals"})})]}),(0,yn.jsxs)("div",{className:"targeting-section",children:[(0,yn.jsx)("h5",{children:"\ud83d\udc65 Target Gender"}),(0,yn.jsx)("div",{className:"targeting-tags",children:(0,yn.jsx)("span",{className:"targeting-tag gender ".concat(t.target_gender),children:"all"===t.target_gender?"All Genders":"male"===t.target_gender?"Male":"Female"})})]}),(0,yn.jsxs)("div",{className:"targeting-section",children:[(0,yn.jsx)("h5",{children:"\ud83d\udcc5 Age Range"}),(0,yn.jsx)("div",{className:"targeting-tags",children:(0,yn.jsxs)("span",{className:"targeting-tag age",children:[t.target_age_min||"18"," - ",t.target_age_max||"65"," years"]})})]})]})]}),(0,yn.jsx)("div",{className:"campaign-details-actions",children:(0,yn.jsx)("button",{className:"btn-secondary",onClick:a,children:"Close"})})]})]})})]})})},On=e=>{let{campaign:t,onClose:a,onSuccess:n}=e;const[s,i]=(0,r.useState)({name:t.name||"",media_url:t.media_url||"",media_type:t.media_type||"image",loop_frequency:t.loop_frequency||1,is_continuous:t.is_continuous||!1,duration_days:t.duration_days||1,action_button:t.action_button||"web",action_link:t.action_link||"",target_languages:t.target_languages?JSON.parse(t.target_languages):[],target_interests:t.target_interests?JSON.parse(t.target_interests):[],target_relationship_goals:t.target_relationship_goals?JSON.parse(t.target_relationship_goals):[],target_gender:t.target_gender||"all",target_age_min:t.target_age_min||"",target_age_max:t.target_age_max||""}),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),u=e=>{const{name:t,value:a,type:n,checked:r}=e.target;i(e=>ge(ge({},e),{},{[t]:"checkbox"===n?r:a}))};return(0,yn.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Edit Campaign"}),(0,yn.jsx)("button",{className:"modal-close",onClick:a,children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s.name&&s.media_url&&s.duration_days){l(!0),d("");try{const e=await fetch("".concat(mn,"/api/advertiser/update-ad"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge({ad_id:t.id},s))}),a=await e.json();e.ok?n():d(a.error||"Failed to update campaign")}catch(a){d("Network error. Please try again.")}finally{l(!1)}}else d("Please fill in all required fields")},className:"modal-body",style:{overflowY:"auto",flex:1},children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Campaign Name *"}),(0,yn.jsx)("input",{type:"text",name:"name",value:s.name,onChange:u,placeholder:"Enter campaign name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Media URL *"}),(0,yn.jsx)("input",{type:"url",name:"media_url",value:s.media_url,onChange:u,placeholder:"https://example.com/image.jpg",required:!0})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Media Type"}),(0,yn.jsxs)("select",{name:"media_type",value:s.media_type,onChange:u,children:[(0,yn.jsx)("option",{value:"image",children:"Image"}),(0,yn.jsx)("option",{value:"video",children:"Video"})]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Duration (Days) *"}),(0,yn.jsx)("input",{type:"number",name:"duration_days",value:s.duration_days,onChange:u,min:"1",max:"365",required:!0})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Action Button"}),(0,yn.jsxs)("select",{name:"action_button",value:s.action_button,onChange:u,children:[(0,yn.jsx)("option",{value:"call",children:"Call"}),(0,yn.jsx)("option",{value:"web",children:"Website"}),(0,yn.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,yn.jsx)("option",{value:"app",children:"App"}),(0,yn.jsx)("option",{value:"enquiry",children:"Enquiry"})]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Action Link"}),(0,yn.jsx)("input",{type:"text",name:"action_link",value:s.action_link,onChange:u,placeholder:"Phone number, URL, etc."})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Languages *"}),(0,yn.jsx)("div",{className:"checkbox-group",children:[{id:1,name:"English",code:"en"},{id:2,name:"Hindi",code:"hi"},{id:3,name:"Punjabi",code:"pa"},{id:4,name:"Bengali",code:"bn"},{id:5,name:"Telugu",code:"te"},{id:6,name:"Marathi",code:"mr"},{id:7,name:"Urdu",code:"ur"},{id:8,name:"Kannada",code:"kn"},{id:9,name:"Malayalam",code:"ml"},{id:10,name:"Odia",code:"or"}].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:s.target_languages.includes(e.id),onChange:t=>{t.target.checked?i(t=>ge(ge({},t),{},{target_languages:[...t.target_languages,e.id]})):i(t=>ge(ge({},t),{},{target_languages:t.target_languages.filter(t=>t!==e.id)}))}}),(0,yn.jsx)("span",{children:e.name})]},e.id))})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Gender"}),(0,yn.jsxs)("select",{name:"target_gender",value:s.target_gender,onChange:u,children:[(0,yn.jsx)("option",{value:"all",children:"All"}),(0,yn.jsx)("option",{value:"male",children:"Male"}),(0,yn.jsx)("option",{value:"female",children:"Female"})]})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Interests"}),(0,yn.jsx)("div",{className:"checkbox-group",children:["technology","gaming","movies","music","sports","reading","travel","food","fashion","fitness","art","photography","cooking","dancing","yoga","education","business","lifestyle"].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:s.target_interests.includes(e),onChange:t=>{t.target.checked?i(t=>ge(ge({},t),{},{target_interests:[...t.target_interests,e]})):i(t=>ge(ge({},t),{},{target_interests:t.target_interests.filter(t=>t!==e)}))}}),(0,yn.jsx)("span",{children:e})]},e))})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Target Relationship Goals"}),(0,yn.jsx)("div",{className:"checkbox-group",children:["friendship","casual","serious","marriage","language-exchange"].map(e=>(0,yn.jsxs)("label",{className:"checkbox-option",children:[(0,yn.jsx)("input",{type:"checkbox",checked:s.target_relationship_goals.includes(e),onChange:t=>{t.target.checked?i(t=>ge(ge({},t),{},{target_relationship_goals:[...t.target_relationship_goals,e]})):i(t=>ge(ge({},t),{},{target_relationship_goals:t.target_relationship_goals.filter(t=>t!==e)}))}}),(0,yn.jsx)("span",{children:e})]},e))})]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Min Age"}),(0,yn.jsx)("input",{type:"number",name:"target_age_min",value:s.target_age_min,onChange:u,min:"18",max:"100",placeholder:"18"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Max Age"}),(0,yn.jsx)("input",{type:"number",name:"target_age_max",value:s.target_age_max,onChange:u,min:"18",max:"100",placeholder:"65"})]})]}),c&&(0,yn.jsx)("div",{className:"error-message",children:c}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:a,children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"btn-primary",disabled:o,children:o?"Updating...":"Update Campaign"})]})]})]})})},Fn=()=>{var e,t,a,n,s;const i=Ra(),o=Ta(),l=(null===(e=o.state)||void 0===e?void 0:e.advertiserId)||(null===(t=o.state)||void 0===t||null===(a=t.advertiser)||void 0===a?void 0:a.id)||new URLSearchParams(o.search).get("advertiserId"),[c,d]=(0,r.useState)(l),[u,p]=(0,r.useState)((null===(n=o.state)||void 0===n?void 0:n.advertiser)||null),[h,m]=(0,r.useState)({previous_ads:[],current_ads:[]}),[g,x]=(0,r.useState)(!0),[f,v]=(0,r.useState)(""),[y,b]=(0,r.useState)("current"),[j,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[C,P]=(0,r.useState)(null),[E,T]=(0,r.useState)("dashboard");(0,r.useEffect)(()=>{if(!c)return void i("/advertiser/login");(async()=>{try{x(!0);const e=await fetch("".concat(mn,"/api/advertiser/dashboard?advertiser_id=").concat(c));if(!e.ok)throw new Error("Failed to fetch dashboard data");const t=await e.json();p({id:t.advertiser.id,brand_name:t.advertiser.brand_name,phone_number:t.advertiser.phone_number}),m({previous_ads:t.previous_ads||[],current_ads:t.current_ads||[]})}catch(e){console.error("Error fetching dashboard data:",e),v(e.message)}finally{x(!1)}})()},[c,i]);const A=async()=>{try{x(!0);const e=await fetch("".concat(mn,"/api/advertiser/dashboard?advertiser_id=").concat(u.id),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch dashboard data");const t=await e.json();m(t)}catch(e){console.error("Error fetching dashboard data:",e),v(e.message)}finally{x(!1)}},R=e=>{const t={pending:{text:"Pending",class:"status-pending"},approved:{text:"Approved",class:"status-approved"},rejected:{text:"Rejected",class:"status-rejected"},under_review:{text:"Under Review",class:"status-review"}}[e]||{text:e,class:"status-default"};return(0,yn.jsx)("span",{className:"status-badge ".concat(t.class),children:t.text})},z=e=>e?new Date(e).toLocaleDateString("en-IN"):"N/A",I=()=>{i("/advertiser/login")},L=e=>{T(e)},B=e=>{P(e),k(!0)};return g?(0,yn.jsx)("div",{className:"advertiser-dashboard",children:(0,yn.jsx)("div",{className:"loading-spinner",children:"Loading dashboard..."})}):(0,yn.jsxs)("div",{className:"advertiser-dashboard",children:[(0,yn.jsxs)("div",{className:"advertiser-sidebar",children:[(0,yn.jsx)("div",{className:"sidebar-header",children:(0,yn.jsxs)("div",{className:"brand-logo",children:[(0,yn.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),(0,yn.jsx)("span",{children:"AdPlatform"})]})}),(0,yn.jsxs)("nav",{className:"sidebar-nav",children:[(0,yn.jsxs)("button",{className:"nav-item ".concat("dashboard"===E?"active":""),onClick:()=>L("dashboard"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),(0,yn.jsx)("span",{children:"Dashboard"})]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("campaigns"===E?"active":""),onClick:()=>L("campaigns"),children:[(0,yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),(0,yn.jsx)("span",{children:"Campaigns"})]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("settings"===E?"active":""),onClick:()=>L("settings"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,yn.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-1.82-.33l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),(0,yn.jsx)("span",{children:"Settings"})]})]}),(0,yn.jsx)("div",{className:"sidebar-footer",children:(0,yn.jsxs)("button",{className:"nav-item logout-btn",onClick:I,children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,yn.jsx)("polyline",{points:"16,17 21,12 16,7"}),(0,yn.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),(0,yn.jsx)("span",{children:"Logout"})]})})]}),(0,yn.jsxs)("div",{className:"advertiser-main",children:[(0,yn.jsxs)("div",{className:"advertiser-header",children:[(0,yn.jsxs)("div",{className:"header-brand-section",children:[(0,yn.jsx)("div",{className:"brand-logo-section",children:null!==u&&void 0!==u&&u.brand_logo?(0,yn.jsx)("img",{src:u.brand_logo,alt:u.brand_name,className:"header-brand-logo"}):(0,yn.jsx)("div",{className:"header-logo-placeholder",children:null===u||void 0===u||null===(s=u.brand_name)||void 0===s?void 0:s.charAt(0).toUpperCase()})}),(0,yn.jsxs)("div",{className:"brand-info-section",children:[(0,yn.jsx)("h3",{className:"brand-name",children:null===u||void 0===u?void 0:u.brand_name}),(0,yn.jsx)("p",{className:"brand-email",children:(null===u||void 0===u?void 0:u.email)||"No email provided"})]})]}),(0,yn.jsxs)("div",{className:"header-actions-section",children:[(0,yn.jsxs)("button",{className:"create-ad-btn",onClick:()=>w(!0),children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,yn.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),(0,yn.jsx)("span",{className:"btn-text",children:"Create New Ad"})]}),(0,yn.jsxs)("button",{className:"logout-btn",onClick:I,children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,yn.jsx)("polyline",{points:"16,17 21,12 16,7"}),(0,yn.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),(0,yn.jsx)("span",{children:"Logout"})]})]})]}),(0,yn.jsxs)("div",{className:"dashboard-content",children:[(0,yn.jsxs)("div",{className:"mobile-nav-tabs",children:[(0,yn.jsxs)("button",{className:"mobile-nav-tab ".concat("dashboard"===E?"active":""),onClick:()=>L("dashboard"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),(0,yn.jsx)("span",{children:"Dashboard"})]}),(0,yn.jsxs)("button",{className:"mobile-nav-tab ".concat("campaigns"===E?"active":""),onClick:()=>L("campaigns"),children:[(0,yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),(0,yn.jsx)("span",{children:"Campaigns"})]})]}),"dashboard"===E&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("div",{className:"stats-grid",children:[(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:h.current_ads.length}),(0,yn.jsx)("p",{children:"Active Campaigns"})]})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",children:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,yn.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:h.current_ads.reduce((e,t)=>e+t.total_views,0)+h.previous_ads.reduce((e,t)=>e+t.total_views,0)}),(0,yn.jsx)("p",{children:"Total Views"})]})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",children:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),(0,yn.jsx)("polyline",{points:"16,6 12,2 8,6"}),(0,yn.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:h.current_ads.reduce((e,t)=>e+t.total_shares,0)+h.previous_ads.reduce((e,t)=>e+t.total_shares,0)}),(0,yn.jsx)("p",{children:"Total Shares"})]})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:h.previous_ads.length}),(0,yn.jsx)("p",{children:"Completed Campaigns"})]})]})]}),(0,yn.jsxs)("div",{className:"quick-actions",children:[(0,yn.jsx)("h3",{children:"Quick Actions"}),(0,yn.jsxs)("div",{className:"quick-actions-grid",children:[(0,yn.jsxs)("button",{className:"quick-action-btn",onClick:()=>w(!0),children:[(0,yn.jsx)("div",{className:"quick-action-icon",children:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,yn.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),(0,yn.jsx)("span",{children:"Create Campaign"})]}),(0,yn.jsxs)("button",{className:"quick-action-btn",children:[(0,yn.jsx)("div",{className:"quick-action-icon",children:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,yn.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-1.82-.33l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),(0,yn.jsx)("span",{children:"Settings"})]})]})]})]}),"campaigns"===E&&(0,yn.jsxs)("div",{className:"campaigns-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h2",{children:"Your Campaigns"}),(0,yn.jsxs)("div",{className:"tab-buttons",children:[(0,yn.jsxs)("button",{className:"tab-btn ".concat("current"===y?"active":""),onClick:()=>b("current"),children:["Active (",h.current_ads.length,")"]}),(0,yn.jsxs)("button",{className:"tab-btn ".concat("previous"===y?"active":""),onClick:()=>b("previous"),children:["Completed (",h.previous_ads.length,")"]})]})]}),(0,yn.jsx)("div",{className:"campaigns-grid",children:"current"===y?0===h.current_ads.length?(0,yn.jsxs)("div",{className:"empty-state",children:[(0,yn.jsx)("div",{className:"empty-icon",children:(0,yn.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,yn.jsx)("h3",{children:"No Active Campaigns"}),(0,yn.jsx)("p",{children:"Create your first advertising campaign to get started"}),(0,yn.jsx)("button",{className:"create-first-btn",onClick:()=>w(!0),children:"Create Your First Campaign"})]}):h.current_ads.map(e=>(0,yn.jsxs)("div",{className:"campaign-card",children:[(0,yn.jsxs)("div",{className:"campaign-media",children:[e.media_url?(0,yn.jsx)("img",{src:e.media_url,alt:e.name}):(0,yn.jsx)("div",{className:"media-placeholder",children:(0,yn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,yn.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,yn.jsx)("polyline",{points:"21,15 16,10 5,21"})]})}),(0,yn.jsx)("div",{className:"campaign-status",children:R(e.status)})]}),(0,yn.jsxs)("div",{className:"campaign-info",children:[(0,yn.jsx)("h3",{children:e.name}),(0,yn.jsxs)("div",{className:"campaign-meta",children:[(0,yn.jsxs)("span",{children:["Created: ",z(e.created_at)]}),(0,yn.jsxs)("span",{children:["Views: ",e.total_views]}),(0,yn.jsxs)("span",{children:["Shares: ",e.total_shares]})]}),(0,yn.jsx)("div",{className:"campaign-actions",children:(0,yn.jsx)("button",{className:"action-btn",onClick:()=>B(e),children:"View Details"})})]})]},e.id)):0===h.previous_ads.length?(0,yn.jsxs)("div",{className:"empty-state",children:[(0,yn.jsx)("div",{className:"empty-icon",children:(0,yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M9 12l2 2 4-4"}),(0,yn.jsx)("path",{d:"M21 12c-1 0-2-1-2-2s1-2 2-2 2 1 2 2-1 2-2 2z"}),(0,yn.jsx)("path",{d:"M3 12c1 0 2-1 2-2s-1-2-2-2-2 1-2 2 1 2 2 2z"})]})}),(0,yn.jsx)("h3",{children:"No Completed Campaigns"}),(0,yn.jsx)("p",{children:"Your completed campaigns will appear here"})]}):h.previous_ads.map(e=>(0,yn.jsxs)("div",{className:"campaign-card completed",children:[(0,yn.jsxs)("div",{className:"campaign-media",children:[e.media_url?(0,yn.jsx)("img",{src:e.media_url,alt:e.name}):(0,yn.jsx)("div",{className:"media-placeholder",children:(0,yn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,yn.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,yn.jsx)("polyline",{points:"21,15 16,10 5,21"})]})}),(0,yn.jsx)("div",{className:"campaign-status",children:R(e.status)})]}),(0,yn.jsxs)("div",{className:"campaign-info",children:[(0,yn.jsx)("h3",{children:e.name}),(0,yn.jsxs)("div",{className:"campaign-meta",children:[(0,yn.jsxs)("span",{children:["Created: ",z(e.created_at)]}),(0,yn.jsxs)("span",{children:["Views: ",e.total_views]}),(0,yn.jsxs)("span",{children:["Shares: ",e.total_shares]})]}),(0,yn.jsx)("div",{className:"campaign-actions",children:(0,yn.jsx)("button",{className:"action-btn",onClick:()=>B(e),children:"View Report"})})]})]},e.id))})]})]})]}),j&&(0,yn.jsx)(Bn,{advertiserId:u.id,onClose:()=>w(!1),onSuccess:()=>{w(!1),A()}}),N&&C&&(0,yn.jsx)(Dn,{campaign:C,onClose:()=>{k(!1),P(null)}}),_&&C&&(0,yn.jsx)(On,{campaign:C,onClose:()=>{S(!1),P(null)},onSuccess:()=>{S(!1),P(null),A()}})]})},Mn=()=>{const e=Ra(),[t,a]=(0,r.useState)({username:"",password:""}),[n,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),l=e=>{a(ge(ge({},t),{},{[e.target.name]:e.target.value})),s("")};return(0,yn.jsx)("div",{className:"admin-login",children:(0,yn.jsxs)("div",{className:"admin-login-container",children:[(0,yn.jsxs)("div",{className:"admin-login-header",children:[(0,yn.jsx)("h1",{children:"Admin Panel"}),(0,yn.jsx)("p",{children:"Enter your credentials to access the admin dashboard"})]}),(0,yn.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),o(!0),s("");try{const a=await fetch("".concat(mn,"/api/admin/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await a.json();if(a.ok){localStorage.setItem("adminToken",n.access_token),localStorage.setItem("adminLoggedIn","true");const t={id:n.admin_id,username:n.username,role:n.role,email:n.email};localStorage.setItem("adminInfo",JSON.stringify(t)),console.log("Admin token stored:",n.access_token?"Yes":"No"),console.log("Admin info stored:",t),e("/admin/dashboard")}else s(n.error||"Login failed. Please check your credentials.")}catch(n){s("Network error. Please try again.")}finally{o(!1)}},className:"admin-login-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"username",children:"Username"}),(0,yn.jsx)("input",{type:"text",id:"username",name:"username",value:t.username,onChange:l,placeholder:"Enter username",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"password",children:"Password"}),(0,yn.jsx)("input",{type:"password",id:"password",name:"password",value:t.password,onChange:l,placeholder:"Enter password",required:!0})]}),n&&(0,yn.jsx)("div",{className:"error-message",children:n}),(0,yn.jsx)("button",{type:"submit",className:"admin-login-btn",disabled:i,children:i?"Logging in...":"Login"})]}),(0,yn.jsx)("div",{className:"admin-login-footer",children:(0,yn.jsx)("p",{children:"Default credentials: admin / admin123"})})]})})},Wn=()=>{const[e,t]=(0,r.useState)("admins"),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[g,x]=(0,r.useState)(null),[f,v]=(0,r.useState)({}),[y,b]=(0,r.useState)(null),[j,w]=(0,r.useState)({username:"",password:"",email:"",role:"admin"}),[N,k]=(0,r.useState)({}),[_,S]=(0,r.useState)([]),[C,P]=(0,r.useState)([]),E={startDate:"",endDate:"",categoryId:"",search:"",adminId:""},[T,A]=(0,r.useState)(!1),[R,z]=(0,r.useState)(ge({},E)),[I,L]=(0,r.useState)({totals:{totalProducts:0,videoProducts:0},byAdmin:[]}),[B,D]=(0,r.useState)([]);(0,r.useEffect)(()=>{O(),"admins"!==e&&"product-analytics"!==e||F(),"advertisers"===e&&M(),"product-analytics"===e&&(W(),U())},[e]),(0,r.useEffect)(()=>{"product-analytics"===e&&a.length>0&&U()},[a,e]);const O=async()=>{try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/super-admin/modules"),{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){var e;const t=await a.json();S(t.module_categories||[]);const n=[];null===(e=t.module_categories)||void 0===e||e.forEach(e=>{var t;null===(t=e.modules)||void 0===t||t.forEach(e=>{n.push(e)})}),P(n)}else console.error("Failed to fetch modules")}catch(t){console.error("Error fetching modules:",t)}},F=async()=>{l(!0);try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/super-admin/admin-permissions"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();n(e.admins)}else console.error("Failed to fetch admins")}catch(e){console.error("Error fetching admins:",e)}finally{l(!1)}},M=async()=>{d(!0);try{const e=localStorage.getItem("adminToken"),t=e?{Authorization:"Bearer ".concat(e)}:{},a=await fetch("".concat(mn,"/api/admin/advertisers"),{headers:t});if(a.ok){const e=await a.json();i(e.advertisers||[])}else console.error("Failed to fetch advertisers")}catch(e){console.error("Error fetching advertisers:",e)}finally{d(!1)}},W=async()=>{try{const e=await fetch("".concat(mn,"/api/categories"));if(e.ok){const t=await e.json();D(t.categories||[])}}catch(e){console.error("Error fetching product categories:",e)}},U=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var t,n;A(!0);const r=localStorage.getItem("adminToken"),s=e||R,i=new URLSearchParams;s.search&&i.append("search",s.search.trim()),s.categoryId&&i.append("category_id",s.categoryId),s.startDate&&i.append("start_date",s.startDate),s.endDate&&i.append("end_date",s.endDate),s.adminId&&i.append("admin_id",s.adminId);const o=i.toString()?"?".concat(i.toString()):"",l=await fetch("".concat(mn,"/api/admin/products").concat(o),{headers:{Authorization:"Bearer ".concat(r)}});if(!l.ok)throw new Error("Failed to fetch product analytics (".concat(l.status,")"));const c=await l.json(),d=c.products||[],u=c.summary||{},p={};d.forEach(e=>{const t=null!==e.added_by_admin&&void 0!==e.added_by_admin?String(e.added_by_admin):"unknown";p[t]||(p[t]={adminId:e.added_by_admin,adminUsername:e.added_by_admin_username||"Unknown",adminRole:e.added_by_admin_role||"",totalProducts:0,videoProducts:0}),p[t].totalProducts+=1,e.has_video&&(p[t].videoProducts+=1)});const h=new Set,m=a.map(e=>{const t=String(e.id);h.add(t);const a=p[t]||{adminId:e.id,adminUsername:e.username,adminRole:e.role,totalProducts:0,videoProducts:0};return{adminId:e.id,adminUsername:a.adminUsername||e.username,adminRole:a.adminRole||e.role,totalProducts:a.totalProducts||0,videoProducts:a.videoProducts||0}});Object.entries(p).forEach(e=>{let[t,a]=e;"unknown"!==t&&(h.has(t)||m.push({adminId:a.adminId,adminUsername:a.adminUsername||"Unknown",adminRole:a.adminRole||"",totalProducts:a.totalProducts||0,videoProducts:a.videoProducts||0}))}),p.unknown&&m.push({adminId:null,adminUsername:p.unknown.adminUsername||"Unassigned",adminRole:p.unknown.adminRole||"N/A",totalProducts:p.unknown.totalProducts||0,videoProducts:p.unknown.videoProducts||0}),m.sort((e,t)=>t.totalProducts-e.totalProducts),L({totals:{totalProducts:null!==(t=u.total_products)&&void 0!==t?t:d.length,videoProducts:null!==(n=u.video_products)&&void 0!==n?n:d.filter(e=>e.has_video).length},byAdmin:m})}catch(r){console.error("Error fetching product analytics:",r),L({totals:{totalProducts:0,videoProducts:0},byAdmin:[]})}finally{A(!1)}},q=(e,t)=>{z(a=>ge(ge({},a),{},{[e]:t}))},V=()=>{U()},H=async e=>{x(e);const t=await(async e=>{try{const t=a.find(t=>t.id===e);return t&&t.permissions?(v(t.permissions),t.permissions):{}}catch(t){return console.error("Error fetching permissions:",t),{}}})(e.id),n={};C.forEach(e=>{const a=t[e.key];n[e.key]={can_view:(null===a||void 0===a?void 0:a.can_view)||!1,can_create:(null===a||void 0===a?void 0:a.can_create)||!1,can_edit:(null===a||void 0===a?void 0:a.can_edit)||!1,can_delete:(null===a||void 0===a?void 0:a.can_delete)||!1}}),k(n),m(!0)},Y=e=>e?new Date(e).toLocaleString():"N/A";return(0,yn.jsxs)("div",{className:"super-admin-panel",children:[y&&(0,yn.jsx)("div",{className:"notification ".concat(y.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===y.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:y.message}),(0,yn.jsxs)("div",{className:"admin-header",children:[(0,yn.jsx)("h1",{children:"Super Admin Panel"}),(0,yn.jsxs)("div",{className:"admin-tabs",children:[(0,yn.jsx)("button",{className:"admins"===e?"active":"",onClick:()=>t("admins"),children:"Manage Admins"}),(0,yn.jsx)("button",{className:"advertisers"===e?"active":"",onClick:()=>t("advertisers"),children:"Advertisers"}),(0,yn.jsx)("button",{className:"product-analytics"===e?"active":"",onClick:()=>t("product-analytics"),children:"Product Analytics"})]})]}),"admins"===e&&(0,yn.jsxs)("div",{className:"admins-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h2",{children:"Admin Management"}),(0,yn.jsx)("button",{className:"btn btn-primary",onClick:()=>p(!0),children:"Create New Admin"})]}),o?(0,yn.jsx)("div",{className:"loading",children:"Loading admins..."}):(0,yn.jsx)("div",{className:"admins-table",children:(0,yn.jsxs)("table",{children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"ID"}),(0,yn.jsx)("th",{children:"Username"}),(0,yn.jsx)("th",{children:"Role"}),(0,yn.jsx)("th",{children:"Actions"})]})}),(0,yn.jsx)("tbody",{children:a.map(e=>(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:e.id}),(0,yn.jsx)("td",{children:e.username}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role})}),(0,yn.jsx)("td",{children:(0,yn.jsxs)("div",{className:"action-buttons",children:[(0,yn.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>H(e),children:"Permissions"}),"super_admin"!==e.role&&(0,yn.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this admin?")){l(!0);try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/super-admin/admins/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)b({type:"success",message:"Admin deleted successfully!"}),setTimeout(()=>b(null),3e3),F();else{const e=await a.json();b({type:"error",message:e.error||"Error deleting admin"}),setTimeout(()=>b(null),3e3)}}catch(t){console.error("Error deleting admin:",t),b({type:"error",message:"Error deleting admin"}),setTimeout(()=>b(null),3e3)}finally{l(!1)}}})(e.id),children:"Delete"})]})})]},e.id))})]})})]}),"advertisers"===e&&(0,yn.jsxs)("div",{className:"advertisers-section",style:{marginTop:"20px"},children:[(0,yn.jsxs)("div",{className:"section-header",style:{marginBottom:"15px"},children:[(0,yn.jsx)("h2",{style:{marginBottom:"6px"},children:"Advertiser Approvals"}),(0,yn.jsx)("p",{style:{margin:0,color:"#6b7280"},children:"Review onboarded advertisers and their approval timestamps."})]}),c?(0,yn.jsx)("div",{className:"loading",children:"Loading advertisers..."}):0===s.length?(0,yn.jsx)("div",{className:"no-data",children:"No advertisers found."}):(0,yn.jsx)("div",{className:"admins-table",children:(0,yn.jsxs)("table",{children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Business Name"}),(0,yn.jsx)("th",{children:"Phone"}),(0,yn.jsx)("th",{children:"Email"}),(0,yn.jsx)("th",{children:"Status"}),(0,yn.jsx)("th",{children:"Approved At"}),(0,yn.jsx)("th",{children:"Created At"}),(0,yn.jsx)("th",{children:"Total Ads"}),(0,yn.jsx)("th",{children:"Total Spent"})]})}),(0,yn.jsx)("tbody",{children:s.map(e=>(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:e.business_name||e.brand_name}),(0,yn.jsx)("td",{children:e.phone_number||"N/A"}),(0,yn.jsx)("td",{children:e.email||"N/A"}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge ".concat(e.status),children:"active"===e.status?"Active":"Inactive"})}),(0,yn.jsx)("td",{children:Y(e.approved_at)}),(0,yn.jsx)("td",{children:Y(e.created_at)}),(0,yn.jsx)("td",{children:e.total_ads}),(0,yn.jsx)("td",{children:e.total_spent})]},e.id))})]})})]}),"product-analytics"===e&&(0,yn.jsxs)("div",{className:"product-analytics-section",style:{marginTop:"20px"},children:[(0,yn.jsxs)("div",{className:"section-header",style:{marginBottom:"15px"},children:[(0,yn.jsx)("h2",{style:{marginBottom:"6px"},children:"Product Upload Analytics"}),(0,yn.jsx)("p",{style:{margin:0,color:"#6b7280"},children:"Track how many products each admin has published and how many include video media."})]}),(0,yn.jsxs)("div",{className:"analytics-filters-card",style:{background:"#fff",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.06)",marginBottom:"20px"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"},children:[(0,yn.jsx)("h3",{style:{margin:0,fontSize:"18px",color:"#1f2937"},children:"Filter Analytics"}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,yn.jsx)("button",{type:"button",onClick:()=>{const e=ge({},E);z(e),U(e)},style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"#fff",color:"#374151",cursor:"pointer",fontWeight:500},children:"Reset"}),(0,yn.jsx)("button",{type:"button",onClick:V,style:{padding:"8px 18px",borderRadius:"6px",border:"none",background:"linear-gradient(135deg, #059669 0%, #34d399 100%)",color:"#fff",cursor:"pointer",fontWeight:600,boxShadow:"0 2px 8px rgba(5, 150, 105, 0.25)"},children:"Apply Filters"})]})]}),(0,yn.jsxs)("div",{className:"analytics-filter-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Search by product name / SKU"}),(0,yn.jsx)("input",{type:"text",value:R.search,onChange:e=>q("search",e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),V())},placeholder:"Search products",style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Start Date"}),(0,yn.jsx)("input",{type:"date",value:R.startDate,onChange:e=>q("startDate",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"End Date"}),(0,yn.jsx)("input",{type:"date",value:R.endDate,onChange:e=>q("endDate",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Category"}),(0,yn.jsxs)("select",{value:R.categoryId,onChange:e=>q("categoryId",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"#fff"},children:[(0,yn.jsx)("option",{value:"",children:"All Categories"}),B.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Admin"}),(0,yn.jsxs)("select",{value:R.adminId,onChange:e=>q("adminId",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"#fff"},children:[(0,yn.jsx)("option",{value:"",children:"All Admins"}),a.map(e=>(0,yn.jsxs)("option",{value:e.id,children:[e.username," (",e.role,")"]},e.id))]})]})]})]}),T?(0,yn.jsx)("div",{className:"loading",children:"Loading analytics..."}):(0,yn.jsxs)("div",{className:"analytics-results",children:[(0,yn.jsx)("div",{className:"analytics-summary",style:{display:"flex",gap:"16px",flexWrap:"wrap",marginBottom:"20px"},children:(0,yn.jsxs)("div",{style:{flex:"1 1 200px",padding:"14px 18px",borderRadius:"12px",background:"#ffffff",color:"#111827",border:"1px solid #e5e7eb",boxShadow:"0 4px 12px rgba(17, 24, 39, 0.08)"},children:[(0,yn.jsx)("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",color:"#6b7280"},children:"Total Products"}),(0,yn.jsx)("div",{style:{fontSize:"28px",fontWeight:700,marginTop:"8px",color:"#0f172a"},children:I.totals.totalProducts})]})}),(0,yn.jsx)("div",{className:"analytics-table",style:{overflowX:"auto"},children:(0,yn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,yn.jsx)("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"13px",color:"#111827",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Admin"}),(0,yn.jsx)("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"13px",color:"#111827",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Role"}),(0,yn.jsx)("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"13px",color:"#111827",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Total Products"})]})}),(0,yn.jsx)("tbody",{children:0===I.byAdmin.length?(0,yn.jsx)("tr",{children:(0,yn.jsx)("td",{colSpan:"3",style:{padding:"16px",textAlign:"center",color:"#6b7280"},children:"No products found for the selected filters."})}):I.byAdmin.map(e=>{var t;return(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",fontWeight:600,color:"#111827"},children:e.adminUsername}),(0,yn.jsx)("td",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",color:"#111827"},children:(0,yn.jsx)("span",{className:"role-badge ".concat(e.adminRole||"unknown"),children:e.adminRole||"N/A"})}),(0,yn.jsx)("td",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",textAlign:"right",fontWeight:600,color:"#111827"},children:e.totalProducts})]},null!==(t=e.adminId)&&void 0!==t?t:"unknown-".concat(e.adminUsername))})})]})})]})]}),u&&(0,yn.jsx)("div",{className:"modal-overlay",children:(0,yn.jsxs)("div",{className:"modal",children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Create New Admin"}),(0,yn.jsx)("button",{className:"close-btn",onClick:()=>p(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/super-admin/admins"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(j)});if(t.ok)p(!1),w({username:"",password:"",email:"",role:"admin"}),b({type:"success",message:"Admin created successfully!"}),setTimeout(()=>b(null),3e3),F();else{const e=await t.json();b({type:"error",message:e.error||"Error creating admin"}),setTimeout(()=>b(null),3e3)}}catch(t){console.error("Error creating admin:",t),b({type:"error",message:"Error creating admin"}),setTimeout(()=>b(null),3e3)}finally{l(!1)}},children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Username:"}),(0,yn.jsx)("input",{type:"text",value:j.username,onChange:e=>w(ge(ge({},j),{},{username:e.target.value})),required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Password:"}),(0,yn.jsx)("input",{type:"password",value:j.password,onChange:e=>w(ge(ge({},j),{},{password:e.target.value})),required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Email:"}),(0,yn.jsx)("input",{type:"email",value:j.email,onChange:e=>w(ge(ge({},j),{},{email:e.target.value}))})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Role:"}),(0,yn.jsx)("select",{value:j.role,onChange:e=>w(ge(ge({},j),{},{role:e.target.value})),children:(0,yn.jsx)("option",{value:"admin",children:"Admin"})}),(0,yn.jsx)("small",{style:{color:"#6c757d",fontSize:"0.8rem"},children:"Only one Super Admin is allowed (admin/admin123)"})]}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",onClick:()=>p(!1),children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",disabled:o,children:o?"Creating...":"Create Admin"})]})]})]})}),h&&g&&(0,yn.jsx)("div",{className:"modal-overlay",children:(0,yn.jsxs)("div",{className:"modal permissions-modal",children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsxs)("h3",{children:["Manage Permissions - ",g.username]}),(0,yn.jsx)("button",{className:"close-btn",onClick:()=>m(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/super-admin/admin-permissions/").concat(g.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({permissions:N})});if(t.ok)m(!1),x(null),k({}),b({type:"success",message:"Permissions updated successfully!"}),setTimeout(()=>b(null),3e3),F();else{const e=await t.json();b({type:"error",message:e.error||"Error updating permissions"}),setTimeout(()=>b(null),3e3)}}catch(t){console.error("Error updating permissions:",t),b({type:"error",message:"Error updating permissions"}),setTimeout(()=>b(null),3e3)}finally{l(!1)}},children:[(0,yn.jsx)("div",{className:"permissions-container",style:{maxHeight:"60vh",overflowY:"auto"},children:_.map((e,t)=>{var a,n;return(0,yn.jsxs)("div",{className:"permission-category",style:{marginBottom:"25px",backgroundColor:"#f9fafb",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[(0,yn.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,yn.jsx)("h3",{style:{margin:"0 0 5px 0",color:"#111827",fontSize:"18px",fontWeight:"600"},children:e.category}),(0,yn.jsx)("p",{style:{margin:0,fontSize:"13px",color:"#6b7280"},children:e.description})]}),(0,yn.jsx)("div",{className:"permissions-grid",style:{display:"grid",gap:"12px"},children:null===(a=e.modules)||void 0===a||null===(n=a.filter(e=>!["advertisers","problems"].includes(e.key)))||void 0===n?void 0:n.map(e=>{const t=N[e.key]||{},a=t.can_view&&t.can_create&&t.can_edit&&t.can_delete,n="ad_sections"===e.key?"Manage Advertisers":e.name;return(0,yn.jsx)("div",{className:"permission-module",style:{padding:"15px",border:a?"2px solid #10b981":"2px solid #e5e7eb",borderRadius:"8px",backgroundColor:a?"#f0fdf4":"#ffffff",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,yn.jsxs)("div",{style:{flex:1},children:[(0,yn.jsx)("h4",{style:{margin:"0 0 5px 0",fontSize:"15px",fontWeight:"500"},children:n}),e.description&&(0,yn.jsx)("p",{className:"module-description",style:{fontSize:"12px",color:"#6b7280",margin:"0",fontWeight:"400"},children:e.description})]}),(0,yn.jsxs)("label",{className:"permission-checkbox",style:{fontWeight:"600",color:a?"#10b981":"#6b7280",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",marginLeft:"15px",whiteSpace:"nowrap"},children:[(0,yn.jsx)("input",{type:"checkbox",checked:a,onChange:t=>{const a=t.target.checked;k(ge(ge({},N),{},{[e.key]:{can_view:a,can_create:a,can_edit:a,can_delete:a}}))},style:{width:"20px",height:"20px",cursor:"pointer"}}),a?"\u2713 Enabled":"Enable"]})]})},e.key)})})]},t)})}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",onClick:()=>m(!1),children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",disabled:o,children:o?"Updating...":"Update Permissions"})]})]})]})})]})},Un=e=>{let{isOpen:t,onClose:a,itemType:n,itemId:s,itemName:i,onApprovalSuccess:o}=e;const[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),m=async e=>{if(l.trim()){u(!0),h("");try{const t=localStorage.getItem("adminToken"),r="".concat(mn,"/api/admin/").concat(n,"s/").concat(s,"/").concat(e),i=await Dt.post(r,{admin_note:l.trim()},{headers:{Authorization:"Bearer ".concat(t)}});200===i.status&&(o(i.data),a(),c(""))}catch(p){var t,r;console.error("Error ".concat(e,"ing ").concat(n,":"),p),h((null===(t=p.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to ".concat(e," ").concat(n))}finally{u(!1)}}else h("Admin note is required")},g=()=>{c(""),h(""),a()};return t?(0,yn.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:(0,yn.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"12px",borderBottom:"1px solid #e0e0e0"},children:[(0,yn.jsxs)("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"#333",margin:0},children:["ad"===n?"Advertisement":"Product"," Approval"]}),(0,yn.jsx)("button",{onClick:g,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,yn.jsxs)("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"8px",marginBottom:"20px"},children:[(0,yn.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#666"},children:[(0,yn.jsx)("strong",{children:"Item:"})," ",i]}),(0,yn.jsxs)("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#666"},children:[(0,yn.jsx)("strong",{children:"ID:"})," ",s]})]}),(0,yn.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yn.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#333",fontSize:"14px"},children:["Admin Note ",(0,yn.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,yn.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"Enter your note for this ".concat(n,"..."),style:{width:"100%",minHeight:"120px",padding:"12px",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",boxSizing:"border-box"},disabled:d}),(0,yn.jsxs)("p",{style:{fontSize:"12px",color:"#666",margin:"4px 0 0 0"},children:["This note will be visible to the ","ad"===n?"advertiser":"shop owner","."]})]}),p&&(0,yn.jsx)("div",{style:{background:"#fee",color:"#c33",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px"},children:p}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,yn.jsx)("button",{onClick:g,disabled:d,style:{padding:"12px 24px",background:"#6c757d",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},children:"Cancel"}),(0,yn.jsx)("button",{onClick:()=>m("reject"),disabled:d,style:{padding:"12px 24px",background:"#dc3545",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},children:d?"Processing...":"Reject"}),(0,yn.jsx)("button",{onClick:()=>m("approve"),disabled:d,style:{padding:"12px 24px",background:"#28a745",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:d?"not-allowed":"pointer",opacity:d?.6:1},children:d?"Processing...":"Approve"})]})]})}):null},qn=e=>{let{images:t=[],onImagesChange:a,maxImages:n=5,disabled:s=!1}=e;const[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),{showToast:d}=Tn(),u=async e=>{if(s)return;const r=Array.from(e);if(t.length+r.length>n)d("Maximum ".concat(n," images allowed"),{type:"error"});else{o(!0);try{const e=r.map(async e=>{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))throw new Error("Invalid file type: ".concat(e.type));if(e.size>5242880)throw new Error("File size must be less than 5MB");const t=new FormData;t.append("file",e);const a=localStorage.getItem("adminToken"),n=await fetch("".concat(mn,"/api/admin/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:t});if(!n.ok){const e=await n.json();throw new Error(e.error||"Upload failed")}const r=await n.json();return{filename:r.filename,url:r.url,size:r.size}}),n=await Promise.all(e),s=[...t,...n];a(s)}catch(i){console.error("Upload error:",i),d("Upload failed: ".concat(i.message),{type:"error"})}finally{o(!1)}}};return(0,yn.jsxs)("div",{className:"image-upload-container",children:[(0,yn.jsx)("label",{className:"form-label",children:"Product Images"}),(0,yn.jsx)("div",{className:"upload-area ".concat(l?"drag-over":""," ").concat(s?"disabled":""),onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},onDrop:e=>{if(e.preventDefault(),c(!1),s)return;const t=e.dataTransfer.files;u(t)},children:i?(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{style:{color:"#333",margin:"0"},children:"Uploading images..."})]}):(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"\ud83d\udcf7"}),(0,yn.jsxs)("p",{style:{color:"#333",margin:"0 0 5px 0"},children:[(0,yn.jsx)("strong",{children:"Click to upload"})," or drag and drop images here"]}),(0,yn.jsxs)("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:["PNG, JPG, JPEG, GIF, WebP (Max 5MB each, up to ",n," images)"]}),(0,yn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=e.target.files;u(t)},style:{display:"none"},disabled:s,id:"image-upload-input"}),(0,yn.jsx)("label",{htmlFor:"image-upload-input",style:{display:"inline-block",marginTop:"10px",padding:"8px 16px",backgroundColor:"#007bff",color:"white",borderRadius:"4px",cursor:s?"not-allowed":"pointer",opacity:s?.5:1},children:"Choose Images"})]})}),t.length>0&&(0,yn.jsx)("div",{className:"image-preview-grid",children:t.map((e,n)=>(0,yn.jsxs)("div",{className:"image-preview-item",children:[(0,yn.jsx)("img",{src:"".concat(mn).concat(e.url),alt:"Product ".concat(n+1),onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,yn.jsx)("div",{className:"image-error",style:{display:"none",width:"100%",height:"100%",backgroundColor:"#f8f9fa",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#666"},children:"Failed to load"}),!s&&(0,yn.jsx)("button",{type:"button",onClick:()=>(async e=>{if(!s&&window.confirm("Are you sure you want to delete this image?"))try{const n=localStorage.getItem("adminToken"),r=await fetch("".concat(mn,"/api/admin/delete-image"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({filename:e.filename})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Delete failed")}const s=t.filter(t=>t.filename!==e.filename);a(s)}catch(n){console.error("Delete error:",n),d("Delete failed: ".concat(n.message),{type:"error"})}})(e),style:{position:"absolute",top:"5px",right:"5px",background:"rgba(255, 0, 0, 0.8)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete image",children:"\xd7"}),(0,yn.jsx)("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"4px",fontSize:"10px",textAlign:"center",fontWeight:"500"},children:e.filename})]},n))}),(0,yn.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})},Vn=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[g,x]=(0,r.useState)([]),[f,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[j,w]=(0,r.useState)([]),[N,k]=(0,r.useState)({}),[_,S]=(0,r.useState)({}),[C,P]=(0,r.useState)(null),[E,T]=(0,r.useState)(!1),[A,R]=(0,r.useState)({}),[z,I]=(0,r.useState)(window.innerWidth),[L,B]=(0,r.useState)(null),[D,O]=(0,r.useState)({}),[F,M]=(0,r.useState)(!1),[W,U]=(0,r.useState)(!1),q={search:"",categoryId:"",subcategoryId:"",startDate:"",endDate:"",adminId:""},[V,H]=(0,r.useState)(q),[Y,J]=(0,r.useState)({totalProducts:0,videoProducts:0}),[$,G]=(0,r.useState)([]),[K,Q]=(0,r.useState)(!1),[X,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)({title:"",sku:"",description:"",category_id:"",subcategory_id:"",provider_id:"1",stock_quantity:"",original_price:"",discounted_price:"",images:[]});(0,r.useEffect)(()=>{se(),ae(),ne(),re();const e=()=>{I(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{K?ie():G([])},[K]);const ae=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var a,n;l(!0);const r=localStorage.getItem("adminToken"),s=e||V,i=new URLSearchParams;s.search&&i.append("search",s.search.trim()),s.categoryId&&i.append("category_id",s.categoryId),s.subcategoryId&&i.append("subcategory_id",s.subcategoryId),s.startDate&&i.append("start_date",s.startDate),s.endDate&&i.append("end_date",s.endDate),K&&s.adminId&&i.append("admin_id",s.adminId);const o=i.toString()?"?".concat(i.toString()):"",c=await fetch("".concat(mn,"/api/admin/products").concat(o),{headers:{Authorization:"Bearer ".concat(r)}});if(!c.ok)throw new Error("Failed to fetch products (".concat(c.status,")"));const d=await c.json(),u=d.products||[];t(u);const p=d.summary||{},h=null!==(a=p.total_products)&&void 0!==a?a:u.length,m=null!==(n=p.video_products)&&void 0!==n?n:u.filter(e=>e.has_video).length;J({totalProducts:h,videoProducts:m})}catch(r){console.error("Error fetching products:",r),t([]),J({totalProducts:0,videoProducts:0})}finally{l(!1)}},ne=async()=>{try{const e=await fetch("".concat(mn,"/api/categories")),t=await e.json();n(t.categories||[])}catch(e){console.error("Error fetching categories:",e)}},re=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/subcategories"),{headers:{Authorization:"Bearer ".concat(e)}}),a=await t.json();i(a.subcategories||[])}catch(e){console.error("Error fetching subcategories:",e)}},se=async()=>{try{const t=localStorage.getItem("adminToken");if(!t)return;const a=await fetch("".concat(mn,"/api/admin/me"),{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){var e;const t=await a.json();Q("super_admin"===(null===(e=t.admin)||void 0===e?void 0:e.role))}}catch(t){console.error("Error fetching admin info:",t)}},ie=async()=>{if(K)try{Z(!0);const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/super-admin/admin-permissions"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();G(e.admins||[])}}catch(e){console.error("Error fetching admin list:",e)}finally{Z(!1)}},oe=e=>s.filter(t=>t.category_id===parseInt(e)),le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e?e.length<=t?e:e.substring(0,t)+"...":""},ce=async e=>{try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/products/").concat(e,"/variants"),{headers:{Authorization:"Bearer ".concat(t)}}),n=await a.json();x(n.variants||[])}catch(t){console.error("Error fetching variants:",t)}},de=(e,t)=>{H(a=>ge(ge({},a),{},{[e]:t}))},ue=()=>{ae()},pe=V.categoryId?oe(V.categoryId):s,he=e.filter(e=>Number(e.stock_quantity)<=0).length,me=e.filter(e=>!1===e.is_active).length;let xe=e;return F&&(xe=xe.filter(e=>Number(e.stock_quantity)<=0)),W&&(xe=xe.filter(e=>!1===e.is_active)),(0,yn.jsxs)("div",{className:"admin-products-panel",children:[L&&(0,yn.jsx)("div",{className:"notification ".concat(L.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===L.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:L.message}),(0,yn.jsxs)("div",{className:"panel-header",children:[(0,yn.jsx)("h2",{children:"Admin Products"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>d(!0),children:"Add Product"})]}),(0,yn.jsxs)("div",{className:"products-filter-card",style:{margin:"0 20px 20px",padding:"20px",background:"white",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.06)"},children:[(0,yn.jsxs)("div",{className:"filter-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"15px",flexWrap:"wrap"},children:[(0,yn.jsx)("h3",{style:{margin:0,fontSize:"18px",color:"#333"},children:"Filter Products"}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,yn.jsx)("button",{type:"button",onClick:()=>{M(e=>!e),U(!1)},style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:F?"#dc2626":"#f97316",color:"#fff",cursor:"pointer",fontWeight:600,boxShadow:F?"0 2px 8px rgba(220,38,38,0.3)":"0 2px 8px rgba(249,115,22,0.3)"},children:F?"Show All Products":"Show Out of Stock Only"}),(0,yn.jsx)("button",{type:"button",onClick:()=>{U(e=>!e),M(!1)},style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:W?"#6b7280":"#9ca3af",color:"#fff",cursor:"pointer",fontWeight:600,boxShadow:W?"0 2px 8px rgba(107,114,128,0.3)":"0 2px 8px rgba(156,163,175,0.3)"},children:W?"Show All Products":"Show Hidden Products"}),(0,yn.jsx)("button",{type:"button",onClick:()=>{const e=ge({},q);H(e),ae(e)},style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"#fff",color:"#374151",cursor:"pointer",fontWeight:500},children:"Reset"}),(0,yn.jsx)("button",{type:"button",onClick:ue,style:{padding:"8px 18px",borderRadius:"6px",border:"none",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"#fff",cursor:"pointer",fontWeight:600,boxShadow:"0 2px 8px rgba(255,107,157,0.3)"},children:"Apply Filters"})]})]}),(0,yn.jsxs)("div",{className:"filter-grid",style:{display:"grid",gap:"16px",marginTop:"16px",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))"},children:[(0,yn.jsxs)("div",{className:"filter-item",children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Search by name / SKU"}),(0,yn.jsx)("input",{type:"text",value:V.search,onChange:e=>de("search",e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ue())},placeholder:"Search products",style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{className:"filter-item",children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Start Date"}),(0,yn.jsx)("input",{type:"date",value:V.startDate,onChange:e=>de("startDate",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{className:"filter-item",children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"End Date"}),(0,yn.jsx)("input",{type:"date",value:V.endDate,onChange:e=>de("endDate",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{className:"filter-item",children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Category"}),(0,yn.jsxs)("select",{value:V.categoryId,onChange:e=>{const t=e.target.value;H(e=>ge(ge({},e),{},{categoryId:t,subcategoryId:""}))},style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"#fff"},children:[(0,yn.jsx)("option",{value:"",children:"All Categories"}),a.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"filter-item",children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Subcategory"}),(0,yn.jsxs)("select",{value:V.subcategoryId,onChange:e=>de("subcategoryId",e.target.value),disabled:!V.categoryId,style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:V.categoryId?"#fff":"#f3f4f6",cursor:V.categoryId?"pointer":"not-allowed"},children:[(0,yn.jsx)("option",{value:"",children:"All Subcategories"}),pe.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),K&&(0,yn.jsxs)("div",{className:"filter-item",children:[(0,yn.jsx)("label",{style:{display:"block",fontWeight:600,fontSize:"13px",marginBottom:"6px",color:"#374151"},children:"Uploaded By"}),(0,yn.jsxs)("select",{value:V.adminId,onChange:e=>de("adminId",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",backgroundColor:"#fff"},children:[(0,yn.jsx)("option",{value:"",children:X?"Loading admins...":"All Admins"}),$.map(e=>(0,yn.jsxs)("option",{value:e.id,children:[e.username," (",e.role,")"]},e.id))]})]})]}),(0,yn.jsxs)("div",{className:"filter-stats",style:{marginTop:"18px",display:"flex",flexWrap:"wrap",gap:"16px"},children:[(0,yn.jsxs)("div",{style:{flex:"1 1 180px",padding:"12px 16px",borderRadius:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.35)"},children:[(0,yn.jsx)("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",opacity:.85},children:"Total Products"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:700,marginTop:"6px"},children:Y.totalProducts})]}),(0,yn.jsxs)("div",{style:{flex:"1 1 180px",padding:"12px 16px",borderRadius:"10px",background:he>0?"linear-gradient(135deg, #f97316 0%, #f43f5e 100%)":"linear-gradient(135deg, #34d399 0%, #10b981 100%)",color:"#fff",boxShadow:"0 4px 12px rgba(244,63,94,0.35)"},children:[(0,yn.jsx)("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",opacity:.85},children:"Out of Stock"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:700,marginTop:"6px"},children:he})]}),(0,yn.jsxs)("div",{style:{flex:"1 1 180px",padding:"12px 16px",borderRadius:"10px",background:me>0?"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)":"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)",color:"#fff",boxShadow:"0 4px 12px rgba(107,114,128,0.35)"},children:[(0,yn.jsx)("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.05em",opacity:.85},children:"Hidden Products"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:700,marginTop:"6px"},children:me})]})]})]}),o?(0,yn.jsx)("div",{children:"Loading..."}):(0,yn.jsxs)("div",{className:"products-grid",style:{display:"grid",gridTemplateColumns:z>=1200?"repeat(4, 1fr)":z>=900?"repeat(3, 1fr)":z>=600?"repeat(2, 1fr)":"1fr",gap:"20px",marginBottom:"20px",padding:"0 20px"},children:[xe.map(e=>(0,yn.jsxs)("div",{className:"product-card",style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",transition:"transform 0.2s ease, box-shadow 0.2s ease",minHeight:"350px",display:"flex",flexDirection:"column",cursor:"default"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 10px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{className:"product-image",style:{width:"100%",height:"200px",marginBottom:"15px",borderRadius:"8px",overflow:"hidden",backgroundColor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:e.images&&e.images.length>0?(0,yn.jsx)("img",{src:e.images[0].startsWith("/uploads/")?"".concat(mn).concat(e.images[0]):e.images[0],alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,yn.jsx)("div",{className:"no-image",style:{color:"#999",fontSize:"14px",textAlign:"center"},children:"No Image"})}),(0,yn.jsxs)("div",{className:"product-info",style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,yn.jsx)("h3",{style:{color:"#333",marginBottom:"8px",fontSize:"16px",fontWeight:"600",lineHeight:"1.3",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),e.sku&&(0,yn.jsxs)("p",{style:{color:"#666",fontSize:"11px",marginBottom:"8px",fontStyle:"italic",backgroundColor:"#f0f0f0",padding:"4px 8px",borderRadius:"4px",display:"inline-block",width:"fit-content"},children:["SKU: ",e.sku]}),(0,yn.jsx)("div",{style:{marginBottom:"12px",flex:1,minHeight:"40px"},children:(0,yn.jsx)("p",{style:{color:"#555",fontSize:"13px",lineHeight:"1.5",marginBottom:"0",wordWrap:"break-word",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:le(e.description||"No description available",100)})}),(0,yn.jsxs)("div",{style:{marginTop:"auto",paddingTop:"12px",borderTop:"1px solid #e0e0e0"},children:[(0,yn.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px",marginBottom:"12px"},children:[(0,yn.jsxs)("p",{style:{color:"#666",fontSize:"12px",marginBottom:"0",display:"flex",alignItems:"center",gap:"4px"},children:[(0,yn.jsx)("span",{style:{fontWeight:"600",color:"#333"},children:"Category:"}),(0,yn.jsx)("span",{children:e.category_name}),e.subcategory_name&&(0,yn.jsxs)("span",{style:{color:"#999"},children:[" \u2192 ",e.subcategory_name]})]}),(0,yn.jsxs)("p",{style:{color:"#666",fontSize:"12px",marginBottom:"0",display:"flex",alignItems:"center",gap:"4px"},children:[(0,yn.jsx)("span",{style:{fontWeight:"600",color:"#333"},children:"Stock:"}),(0,yn.jsx)("span",{style:{color:e.stock_quantity>0?"#28a745":"#dc3545",fontWeight:"500"},children:e.stock_quantity})]}),(0,yn.jsxs)("p",{style:{color:"#666",fontSize:"12px",marginBottom:"0",display:"flex",alignItems:"center",gap:"4px"},children:[(0,yn.jsx)("span",{style:{fontWeight:"600",color:"#333"},children:"Uploaded by:"}),(0,yn.jsx)("span",{children:e.added_by_admin_username||"Unknown"})]}),(0,yn.jsxs)("p",{style:{color:"#666",fontSize:"12px",marginBottom:"0",display:"flex",alignItems:"center",gap:"4px"},children:[(0,yn.jsx)("span",{style:{fontWeight:"600",color:"#333"},children:"Uploaded on:"}),(0,yn.jsx)("span",{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),(0,yn.jsxs)("p",{style:{color:"#333",fontSize:"14px",marginBottom:"0",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[(0,yn.jsx)("span",{children:"Price:"}),e.discounted_price&&e.discounted_price<e.original_price?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("span",{style:{textDecoration:"line-through",color:"#999",fontSize:"12px",marginRight:"4px"},children:["\u20b9",e.original_price]}),(0,yn.jsxs)("span",{style:{color:"#28a745",fontWeight:"700"},children:["\u20b9",e.discounted_price]})]}):(0,yn.jsxs)("span",{style:{color:"#333",fontWeight:"700"},children:["\u20b9",e.original_price]})]})]}),(0,yn.jsxs)("div",{style:{marginTop:"10px",padding:"10px 12px",background:"#f9fafb",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[(0,yn.jsxs)("div",{style:{fontSize:"12px",color:"#374151",fontWeight:600,display:"flex",flexDirection:"column"},children:[(0,yn.jsx)("span",{children:"Status"}),(0,yn.jsx)("span",{style:{marginTop:"2px",fontWeight:"600",color:e.is_active?"#10b981":"#ef4444"},children:e.is_active?"Active":"Inactive"})]}),(0,yn.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:"8px",fontSize:"12px",cursor:Boolean(D[e.id])?"not-allowed":"pointer"},children:[(0,yn.jsx)("input",{type:"checkbox",checked:e.is_active,onChange:t=>(async(e,t)=>{O(t=>ge(ge({},t),{},{[e]:!0}));try{const a=localStorage.getItem("adminToken"),n=await fetch("".concat(mn,"/api/admin/products/").concat(e,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({is_active:t})});if(n.ok)B({type:"success",message:t?"Product activated successfully":"Product deactivated successfully"}),setTimeout(()=>B(null),3e3),ae();else{const e=await n.json();B({type:"error",message:e.error||"Failed to update product status"}),setTimeout(()=>B(null),3e3)}}catch(a){console.error("Error updating product status:",a),B({type:"error",message:"Failed to update product status"}),setTimeout(()=>B(null),3e3)}finally{O(t=>{const a=ge({},t);return delete a[e],a})}})(e.id,t.target.checked),disabled:Boolean(D[e.id]),style:{width:"16px",height:"16px",cursor:Boolean(D[e.id])?"not-allowed":"pointer"}}),(0,yn.jsx)("span",{style:{color:"#111827",fontWeight:500},children:Boolean(D[e.id])?"Updating...":"Toggle"})]})]}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,yn.jsx)("button",{onClick:()=>(async e=>{m(e),p(!0),await ce(e.id)})(e),style:{padding:"8px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Manage Variants"}),(0,yn.jsx)("button",{onClick:()=>(e=>{P(e);const t=(e.images||[]).map(e=>({url:e,filename:e.split("/").pop(),size:0}));R({id:e.id,title:e.title,sku:e.sku||"",description:e.description,category_id:e.category_id||"",subcategory_id:e.subcategory_id||"",provider_id:e.provider_id||"1",stock_quantity:e.stock_quantity,original_price:e.original_price,discounted_price:e.discounted_price||"",images:t}),T(!0)})(e),style:{padding:"8px 12px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Edit"}),(0,yn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product? This will permanently delete:\n\n\u2022 The product and all its details\n\u2022 All product variants and variant values\n\u2022 All variant images\n\u2022 All related data\n\nThis action cannot be undone."))try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/products/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)B({type:"success",message:"Product deleted successfully"}),setTimeout(()=>B(null),3e3),ae();else{const e=await a.json();B({type:"error",message:e.error||"Failed to delete product"}),setTimeout(()=>B(null),3e3)}}catch(t){console.error("Error deleting product:",t),B({type:"error",message:"Failed to delete product"}),setTimeout(()=>B(null),3e3)}})(e.id),style:{padding:"8px 12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Delete"})]})]})]})]},e.id)),0===xe.length&&(0,yn.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#6b7280",padding:"30px",background:"#fff",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:F?"No products are currently out of stock.":W?"No products are currently hidden.":"No products match the selected filters."})]}),c&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>d(!1),children:(0,yn.jsxs)("div",{className:"modal-content add-product-modal",onClick:e=>e.stopPropagation(),style:{maxHeight:"90vh",display:"flex",flexDirection:"column",maxWidth:"600px"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Add New Product"}),(0,yn.jsx)("button",{className:"close-btn",onClick:()=>d(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!ee.sku||!ee.sku.trim())return B({type:"error",message:"SKU is required. Please enter a product SKU."}),void setTimeout(()=>B(null),3e3);const e=parseFloat(ee.original_price),t=ee.discounted_price?parseFloat(ee.discounted_price):null;if(t&&e&&t>e)return B({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),void setTimeout(()=>B(null),5e3);const a=localStorage.getItem("adminToken"),n=ge(ge({},ee),{},{sku:ee.sku.trim(),images:ee.images.map(e=>e.url)}),r=await fetch("".concat(mn,"/api/admin/products"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});if(r.ok){const e=(await r.json()).product_id;if(j.length>0)for(const t of j)await fetch("".concat(mn,"/api/admin/products/").concat(e,"/variants"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({variant_name:t.name,values:t.values})});d(!1),te({title:"",sku:"",description:"",category_id:"",subcategory_id:"",provider_id:"1",stock_quantity:"",original_price:"",discounted_price:"",images:[]}),w([]),B({type:"success",message:"Product and variants added successfully!"}),setTimeout(()=>B(null),3e3),ae()}else{const e=await r.json();B({type:"error",message:e.error||"Failed to add product"}),setTimeout(()=>B(null),3e3)}}catch(t){console.error("Error adding product:",t),B({type:"error",message:"Failed to add product"}),setTimeout(()=>B(null),3e3)}},className:"product-form",style:{overflowY:"auto",flex:1,padding:"20px"},children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"title",children:"Product Title *"}),(0,yn.jsx)("input",{id:"title",type:"text",placeholder:"Enter product title",value:ee.title,onChange:e=>te(ge(ge({},ee),{},{title:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"sku",children:"SKU (Stock Keeping Unit) *"}),(0,yn.jsx)("input",{id:"sku",type:"text",placeholder:"Enter product SKU",value:ee.sku,onChange:e=>te(ge(ge({},ee),{},{sku:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"description",children:"Description *"}),(0,yn.jsx)("textarea",{id:"description",placeholder:"Enter product description",value:ee.description,onChange:e=>te(ge(ge({},ee),{},{description:e.target.value})),required:!0,rows:"4",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",resize:"vertical"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"category",children:"Category *"}),(0,yn.jsxs)("select",{id:"category",value:ee.category_id,onChange:e=>{return t=e.target.value,void te(e=>ge(ge({},e),{},{category_id:t,subcategory_id:""}));var t},required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,yn.jsx)("option",{value:"",children:"Select Category"}),a.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"subcategory",children:"Subcategory"}),(0,yn.jsxs)("select",{id:"subcategory",value:ee.subcategory_id,onChange:e=>te(ge(ge({},ee),{},{subcategory_id:e.target.value})),disabled:!ee.category_id,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,yn.jsx)("option",{value:"",children:"Select Subcategory (Optional)"}),oe(ee.category_id).map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[(0,yn.jsx)("h4",{style:{marginTop:0,marginBottom:"15px",color:"#333",fontSize:"16px"},children:"Product Variants (Optional)"}),(0,yn.jsxs)("div",{style:{marginBottom:"15px",padding:"12px",background:"white",borderRadius:"6px"},children:[(0,yn.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600",fontSize:"14px"},children:"Variant Type (e.g., Color, Size, Material)"}),(0,yn.jsx)("input",{type:"text",placeholder:"Enter variant type",value:f,onChange:e=>v(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),(0,yn.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600",fontSize:"14px"},children:"Values (comma-separated)"}),(0,yn.jsx)("input",{type:"text",placeholder:"e.g., Red, Blue, Green or S, M, L, XL",value:y,onChange:e=>b(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),(0,yn.jsx)("button",{type:"button",onClick:()=>{if(!f.trim())return B({type:"error",message:"Please enter a variant type name"}),void setTimeout(()=>B(null),3e3);if(!y.trim())return B({type:"error",message:"Please enter at least one variant value"}),void setTimeout(()=>B(null),3e3);const e=y.split(",").map(e=>e.trim()).filter(e=>e);w([...j,{name:f,values:e}]),v(""),b("")},style:{padding:"8px 16px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Add Variant"})]}),j.length>0&&(0,yn.jsxs)("div",{style:{marginTop:"15px"},children:[(0,yn.jsx)("p",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"10px",color:"#555"},children:"Added Variants:"}),j.map((e,t)=>(0,yn.jsxs)("div",{style:{marginBottom:"12px",padding:"10px",background:"white",borderRadius:"6px",border:"1px solid #e0e0e0"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,yn.jsx)("strong",{style:{fontSize:"14px",color:"#333"},children:e.name}),(0,yn.jsx)("button",{type:"button",onClick:()=>{return e=t,void w(j.filter((t,a)=>a!==e));var e},style:{padding:"4px 10px",background:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"12px"},children:"Remove Type"})]}),(0,yn.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:e.values.map((e,a)=>(0,yn.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"#e9ecef",borderRadius:"15px",fontSize:"13px",color:"#495057"},children:[e,(0,yn.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const a=[...j];a[e].values=a[e].values.filter((e,a)=>a!==t),0===a[e].values.length&&a.splice(e,1),w(a)})(t,a),style:{background:"transparent",border:"none",color:"#dc3545",cursor:"pointer",padding:"0",fontSize:"16px",fontWeight:"bold",lineHeight:"1"},children:"\xd7"})]},a))})]},t))]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"stock",children:"Stock Quantity *"}),(0,yn.jsx)("input",{id:"stock",type:"number",placeholder:"Enter stock quantity",value:ee.stock_quantity,onChange:e=>te(ge(ge({},ee),{},{stock_quantity:e.target.value})),required:!0,min:"0",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"original_price",children:"Original Price (\u20b9) *"}),(0,yn.jsx)("input",{id:"original_price",type:"number",placeholder:"Enter original price",value:ee.original_price,onChange:e=>{const t=e.target.value?parseFloat(e.target.value):null,a=ee.discounted_price?parseFloat(ee.discounted_price):null;a&&t&&a>t&&(B({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),setTimeout(()=>B(null),5e3)),te(ge(ge({},ee),{},{original_price:e.target.value}))},required:!0,min:"0",step:"0.01",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsxs)("label",{htmlFor:"discounted_price",children:["Discounted Price (\u20b9) ",(0,yn.jsx)("span",{style:{color:"#888",fontSize:"12px"},children:"(Optional)"})]}),(0,yn.jsx)("input",{id:"discounted_price",type:"number",placeholder:"Enter discounted price (if applicable)",value:ee.discounted_price,onChange:e=>{const t=e.target.value?parseFloat(e.target.value):null,a=ee.original_price?parseFloat(ee.original_price):null;t&&a&&t>a&&(B({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),setTimeout(()=>B(null),5e3)),te(ge(ge({},ee),{},{discounted_price:e.target.value}))},min:"0",step:"0.01",style:{width:"100%",padding:"10px",marginBottom:"15px",border:ee.discounted_price&&ee.original_price&&parseFloat(ee.discounted_price)>parseFloat(ee.original_price)?"2px solid #ef4444":"1px solid #ddd",borderRadius:"4px"}}),ee.discounted_price&&ee.original_price&&parseFloat(ee.discounted_price)>parseFloat(ee.original_price)&&(0,yn.jsx)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"-10px",marginBottom:"15px"},children:"\u26a0\ufe0f Discounted price cannot be greater than MRP"})]}),(0,yn.jsx)("div",{className:"form-group",children:(0,yn.jsx)(qn,{images:ee.images,onImagesChange:e=>te(ge(ge({},ee),{},{images:e})),maxImages:5})}),(0,yn.jsxs)("div",{className:"modal-actions",style:{display:"flex",gap:"10px",justifyContent:"flex-end",paddingTop:"20px",borderTop:"1px solid #ddd"},children:[(0,yn.jsx)("button",{type:"button",onClick:()=>d(!1),style:{padding:"10px 20px",border:"1px solid #ddd",borderRadius:"4px",background:"white",cursor:"pointer"},children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",style:{padding:"10px 20px",border:"none",borderRadius:"4px",background:"#007bff",color:"black",cursor:"pointer"},children:"Add Product"})]})]})]})}),E&&C&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>T(!1),children:(0,yn.jsxs)("div",{className:"modal-content add-product-modal",onClick:e=>e.stopPropagation(),style:{maxHeight:"90vh",display:"flex",flexDirection:"column",maxWidth:"600px"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Edit Product"}),(0,yn.jsx)("button",{className:"close-btn",onClick:()=>T(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!A.sku||!A.sku.trim())return B({type:"error",message:"SKU is required. Please enter a product SKU."}),void setTimeout(()=>B(null),3e3);const e=parseFloat(A.original_price),t=A.discounted_price?parseFloat(A.discounted_price):null;if(t&&e&&t>e)return B({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),void setTimeout(()=>B(null),5e3);const a=localStorage.getItem("adminToken"),n=ge(ge({},A),{},{sku:A.sku.trim(),images:A.images.map(e=>e.url)}),r=await fetch("".concat(mn,"/api/admin/products/").concat(C.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});if(r.ok)T(!1),P(null),R({}),B({type:"success",message:"Product updated successfully"}),setTimeout(()=>B(null),3e3),ae();else{const e=await r.json();B({type:"error",message:e.error||"Failed to update product"}),setTimeout(()=>B(null),3e3)}}catch(t){console.error("Error updating product:",t),B({type:"error",message:"Failed to update product"}),setTimeout(()=>B(null),3e3)}},className:"product-form",style:{overflowY:"auto",flex:1,padding:"20px"},children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-title",children:"Product Title *"}),(0,yn.jsx)("input",{id:"edit-title",type:"text",placeholder:"Enter product title",value:A.title,onChange:e=>R(ge(ge({},A),{},{title:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-sku",children:"SKU (Stock Keeping Unit) *"}),(0,yn.jsx)("input",{id:"edit-sku",type:"text",placeholder:"Enter product SKU",value:A.sku,onChange:e=>R(ge(ge({},A),{},{sku:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-description",children:"Description *"}),(0,yn.jsx)("textarea",{id:"edit-description",placeholder:"Enter product description",value:A.description,onChange:e=>R(ge(ge({},A),{},{description:e.target.value})),required:!0,rows:"4",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px",resize:"vertical"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-category",children:"Category *"}),(0,yn.jsxs)("select",{id:"edit-category",value:A.category_id,onChange:e=>R(ge(ge({},A),{},{category_id:e.target.value,subcategory_id:""})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,yn.jsx)("option",{value:"",children:"Select Category"}),a.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-subcategory",children:"Subcategory"}),(0,yn.jsxs)("select",{id:"edit-subcategory",value:A.subcategory_id||"",onChange:e=>R(ge(ge({},A),{},{subcategory_id:e.target.value})),disabled:!A.category_id,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,yn.jsx)("option",{value:"",children:"Select Subcategory (Optional)"}),oe(A.category_id).map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-stock",children:"Stock Quantity *"}),(0,yn.jsx)("input",{id:"edit-stock",type:"number",placeholder:"Enter stock quantity",value:A.stock_quantity,onChange:e=>R(ge(ge({},A),{},{stock_quantity:e.target.value})),required:!0,min:"0",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"edit-original-price",children:"Original Price (\u20b9) *"}),(0,yn.jsx)("input",{id:"edit-original-price",type:"number",placeholder:"Enter original price",value:A.original_price,onChange:e=>{const t=e.target.value?parseFloat(e.target.value):null,a=A.discounted_price?parseFloat(A.discounted_price):null;a&&t&&a>t&&(B({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),setTimeout(()=>B(null),5e3)),R(ge(ge({},A),{},{original_price:e.target.value}))},required:!0,min:"0",step:"0.01",style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsxs)("label",{htmlFor:"edit-discounted-price",children:["Discounted Price (\u20b9) ",(0,yn.jsx)("span",{style:{color:"#888",fontSize:"12px"},children:"(Optional)"})]}),(0,yn.jsx)("input",{id:"edit-discounted-price",type:"number",placeholder:"Enter discounted price (if applicable)",value:A.discounted_price,onChange:e=>{const t=e.target.value?parseFloat(e.target.value):null,a=A.original_price?parseFloat(A.original_price):null;t&&a&&t>a&&(B({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),setTimeout(()=>B(null),5e3)),R(ge(ge({},A),{},{discounted_price:e.target.value}))},min:"0",step:"0.01",style:{width:"100%",padding:"10px",marginBottom:"15px",border:A.discounted_price&&A.original_price&&parseFloat(A.discounted_price)>parseFloat(A.original_price)?"2px solid #ef4444":"1px solid #ddd",borderRadius:"4px"}}),A.discounted_price&&A.original_price&&parseFloat(A.discounted_price)>parseFloat(A.original_price)&&(0,yn.jsx)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"-10px",marginBottom:"15px"},children:"\u26a0\ufe0f Discounted price cannot be greater than MRP"})]}),(0,yn.jsx)("div",{className:"form-group",children:(0,yn.jsx)(qn,{images:A.images||[],onImagesChange:e=>R(ge(ge({},A),{},{images:e})),maxImages:5})}),(0,yn.jsxs)("div",{className:"modal-actions",style:{display:"flex",gap:"10px",justifyContent:"flex-end",paddingTop:"20px",borderTop:"1px solid #ddd"},children:[(0,yn.jsx)("button",{type:"button",onClick:()=>T(!1),style:{padding:"10px 20px",border:"1px solid #ddd",borderRadius:"4px",background:"white",cursor:"pointer"},children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",style:{padding:"10px 20px",border:"none",borderRadius:"4px",background:"#007bff",color:"white",cursor:"pointer"},children:"Update Product"})]})]})]})}),u&&h&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>p(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"700px",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsxs)("h3",{children:["Manage Variants - ",h.title]}),(0,yn.jsx)("button",{className:"close-btn",onClick:()=>p(!1),children:"\xd7"})]}),(0,yn.jsxs)("div",{style:{overflowY:"auto",flex:1,padding:"20px"},children:[(0,yn.jsxs)("div",{style:{marginBottom:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px"},children:[(0,yn.jsx)("h4",{style:{marginTop:0,marginBottom:"15px",color:"#333"},children:"Add New Variant Type"}),(0,yn.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Variant Type (e.g., Color, Size, Material)"}),(0,yn.jsx)("input",{type:"text",placeholder:"Enter variant type name",value:f,onChange:e=>v(e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"Values (comma-separated)"}),(0,yn.jsx)("input",{type:"text",placeholder:"e.g., Red, Blue, Green or S, M, L, XL",value:y,onChange:e=>b(e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px"}})]}),(0,yn.jsx)("button",{onClick:async()=>{if(!f.trim())return B({type:"error",message:"Please enter a variant type name"}),void setTimeout(()=>B(null),3e3);try{const e=localStorage.getItem("adminToken"),t=y.split(",").map(e=>e.trim()).filter(e=>e),a=await fetch("".concat(mn,"/api/admin/products/").concat(h.id,"/variants"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({variant_name:f,values:t})});if(a.ok)v(""),b(""),B({type:"success",message:"Variant type added successfully"}),setTimeout(()=>B(null),3e3),await ce(h.id);else{const e=await a.json();B({type:"error",message:e.error||"Failed to add variant type"}),setTimeout(()=>B(null),3e3)}}catch(e){console.error("Error adding variant type:",e),B({type:"error",message:"Failed to add variant type"}),setTimeout(()=>B(null),3e3)}},style:{padding:"10px 20px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Add Variant Type"})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h4",{style:{marginBottom:"15px",color:"#333"},children:"Existing Variants"}),0===g.length?(0,yn.jsx)("p",{style:{color:"#888",fontStyle:"italic"},children:"No variants added yet. Add your first variant type above."}):g.map(e=>(0,yn.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"8px",background:"white"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,yn.jsx)("h5",{style:{margin:0,color:"#333"},children:e.name}),(0,yn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this variant type and all its values?"))try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/products/variants/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)B({type:"success",message:"Variant type deleted successfully"}),setTimeout(()=>B(null),3e3),await ce(h.id);else{const e=await a.json();B({type:"error",message:e.error||"Failed to delete variant type"}),setTimeout(()=>B(null),3e3)}}catch(t){console.error("Error deleting variant type:",t),B({type:"error",message:"Failed to delete variant type"}),setTimeout(()=>B(null),3e3)}})(e.id),style:{padding:"5px 12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete Type"})]}),(0,yn.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:0===e.values.length?(0,yn.jsx)("span",{style:{color:"#888",fontStyle:"italic",fontSize:"14px"},children:"No values added"}):e.values.map(e=>(0,yn.jsxs)("div",{style:{padding:"15px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,yn.jsx)("span",{style:{color:"#333",fontWeight:"600",fontSize:"16px"},children:e.value}),(0,yn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this value and all its images?"))try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/products/variants/values/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)B({type:"success",message:"Variant value deleted successfully"}),setTimeout(()=>B(null),3e3),await ce(h.id);else{const e=await a.json();B({type:"error",message:e.error||"Failed to delete variant value"}),setTimeout(()=>B(null),3e3)}}catch(t){console.error("Error deleting variant value:",t),B({type:"error",message:"Failed to delete variant value"}),setTimeout(()=>B(null),3e3)}})(e.id),style:{padding:"4px 8px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"Delete this value and all its images",children:"Delete Value"})]}),(0,yn.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,yn.jsx)("h6",{style:{margin:"0 0 8px 0",color:"#555",fontSize:"14px"},children:"Images:"}),(0,yn.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,yn.jsx)("input",{type:"file",accept:"image/*",onChange:t=>{const a=t.target.files[0];a&&(!async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{S(t=>ge(ge({},t),{},{[e]:!0}));const r=localStorage.getItem("adminToken"),s=new FormData;s.append("file",t),s.append("is_primary",a),s.append("display_order",n);const i=await fetch("".concat(mn,"/api/admin/variant-values/").concat(e,"/images"),{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:s});if(i.ok){const e=await i.json();return B({type:"success",message:"Variant image uploaded successfully"}),setTimeout(()=>B(null),3e3),await ce(h.id),e}{const e=await i.json();return B({type:"error",message:e.error||"Failed to upload variant image"}),setTimeout(()=>B(null),3e3),null}}catch(r){return console.error("Error uploading variant image:",r),B({type:"error",message:"Failed to upload variant image"}),setTimeout(()=>B(null),3e3),null}finally{S(t=>ge(ge({},t),{},{[e]:!1}))}}(e.id,a,!1,0),t.target.value="")},style:{fontSize:"12px"},disabled:_[e.id]}),_[e.id]&&(0,yn.jsx)("span",{style:{marginLeft:"10px",color:"#007bff",fontSize:"12px"},children:"Uploading..."})]}),(0,yn.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:e.images&&e.images.length>0?e.images.map((t,a)=>(0,yn.jsxs)("div",{style:{position:"relative",display:"inline-block",border:t.is_primary?"3px solid #28a745":"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:[(0,yn.jsx)("img",{src:"".concat(mn).concat(t.image_url),alt:"".concat(e.value," variant"),style:{width:"80px",height:"80px",objectFit:"cover",display:"block"}}),t.is_primary&&(0,yn.jsx)("div",{style:{position:"absolute",top:"2px",right:"2px",background:"#28a745",color:"white",fontSize:"10px",padding:"2px 4px",borderRadius:"2px"},children:"Primary"}),(0,yn.jsxs)("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0,0,0,0.7)",color:"white",fontSize:"10px",padding:"2px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yn.jsxs)("span",{children:["#",t.display_order]}),(0,yn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this image?"))try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/variant-images/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)B({type:"success",message:"Variant image deleted successfully"}),setTimeout(()=>B(null),3e3),await ce(h.id);else{const e=await a.json();B({type:"error",message:e.error||"Failed to delete variant image"}),setTimeout(()=>B(null),3e3)}}catch(t){console.error("Error deleting variant image:",t),B({type:"error",message:"Failed to delete variant image"}),setTimeout(()=>B(null),3e3)}})(t.id),style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"12px",padding:"0 2px"},title:"Delete image",children:"\xd7"})]}),(0,yn.jsx)("div",{style:{padding:"4px",background:"#f8f9fa",fontSize:"10px"},children:(0,yn.jsx)("button",{onClick:()=>(async(e,t,a)=>{try{const n=localStorage.getItem("adminToken"),r=await fetch("".concat(mn,"/api/admin/variant-images/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({is_primary:t,display_order:a})});if(r.ok)B({type:"success",message:"Variant image updated successfully"}),setTimeout(()=>B(null),3e3),await ce(h.id);else{const e=await r.json();B({type:"error",message:e.error||"Failed to update variant image"}),setTimeout(()=>B(null),3e3)}}catch(n){console.error("Error updating variant image:",n),B({type:"error",message:"Failed to update variant image"}),setTimeout(()=>B(null),3e3)}})(t.id,!t.is_primary,t.display_order),style:{background:t.is_primary?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"2px",padding:"2px 4px",fontSize:"10px",cursor:"pointer",marginRight:"4px"},children:t.is_primary?"Unset Primary":"Set Primary"})})]},t.id)):(0,yn.jsx)("span",{style:{color:"#888",fontStyle:"italic",fontSize:"12px"},children:"No images uploaded"})})]})]},e.id))})]},e.id))]})]}),(0,yn.jsx)("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",padding:"15px",borderTop:"1px solid #ddd"},children:(0,yn.jsx)("button",{onClick:()=>p(!1),style:{padding:"10px 20px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Close"})})]})})]})},Hn=[{id:"all",label:"All Orders"},{id:"pending",label:"Pending"},{id:"confirmed",label:"Confirmed"},{id:"packed",label:"Packed"},{id:"shipped",label:"Shipped"},{id:"delivered",label:"Delivered"},{id:"cancelled",label:"Cancelled"},{id:"refunded",label:"Refunded"}],Yn={pending:"Pending Confirmation",confirmed:"Confirmed",packed:"Packed",shipped:"In Transit",delivered:"Delivered",cancelled:"Cancelled",refunded:"Refunded"},Jn={pending:"packed",confirmed:"packed",packed:"shipped",shipped:"delivered"},$n=()=>{var e,t;const[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),g=(0,r.useMemo)(()=>{const e=new Date;return e.setDate(e.getDate()+10),e},[]);(0,r.useEffect)(()=>{x(o)},[o]);const x=async e=>{try{i(!0);const t=localStorage.getItem("adminToken"),a=e&&"all"!==e?"?status=".concat(e):"",r=await fetch("".concat(mn,"/api/admin/shop-orders").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to fetch orders");n(s.orders||[])}catch(t){console.error("Error fetching orders:",t),m({type:"error",message:t.message||"Failed to fetch orders"}),setTimeout(()=>m(null),4e3)}finally{i(!1)}},f=async(e,t)=>{try{const a=localStorage.getItem("adminToken"),n=await fetch("".concat(mn,"/api/admin/shop-orders/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({status:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to update order status");m({type:"success",message:"Order status updated successfully"}),setTimeout(()=>m(null),3e3),p(!1),d(null),x(o)}catch(a){console.error("Error updating order status:",a),m({type:"error",message:a.message||"Failed to update order status"}),setTimeout(()=>m(null),4e3)}},v=e=>Yn[e]||e,y=e=>Jn[e]||null,b=e=>{if(null==e)return"\u2014";try{return"\u20b9".concat(Number(e).toLocaleString())}catch(t){return"\u20b9".concat(e)}},j=e=>{if(!e)return"\u2014";try{const t=new Date(e);return isNaN(t.getTime())?"\u2014":t.toLocaleDateString()}catch(t){return"\u2014"}};return(0,yn.jsxs)("div",{className:"admin-orders-panel",children:[h&&(0,yn.jsx)("div",{className:"notification ".concat(h.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===h.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:h.message}),(0,yn.jsx)("div",{className:"panel-header",children:(0,yn.jsx)("h2",{children:"User Shop Orders"})}),(0,yn.jsx)("div",{className:"orders-tabs",children:Hn.map(e=>(0,yn.jsxs)("button",{className:"tab-btn ".concat(o===e.id?"active":""),onClick:()=>l(e.id),children:[e.label," (","all"===e.id?a.length:a.filter(t=>t.status===e.id).length,")"]},e.id))}),s?(0,yn.jsx)("div",{children:"Loading..."}):(0,yn.jsx)("div",{className:"orders-list",children:0===a.length?(0,yn.jsx)("div",{className:"empty-state",children:"No orders found for this filter."}):(0,yn.jsxs)("table",{className:"orders-table",children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Order #"}),(0,yn.jsx)("th",{children:"Customer"}),(0,yn.jsx)("th",{children:"Status"}),(0,yn.jsx)("th",{children:"Payment"}),(0,yn.jsx)("th",{children:"Total"}),(0,yn.jsx)("th",{children:"Placed On"}),(0,yn.jsx)("th",{children:"Items"}),(0,yn.jsx)("th",{children:"Actions"})]})}),(0,yn.jsx)("tbody",{children:a.map(e=>{var t,a;return(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:e.order_number}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:e.customer_name||"\u2014"}),(0,yn.jsx)("div",{className:"small-text",children:e.customer_phone||"\u2014"})]}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge status-".concat(e.status),children:v(e.status)})}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge payment-".concat(e.payment_status),children:(null===(t=e.payment_status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(a=e.payment_status)||void 0===a?void 0:a.slice(1))})}),(0,yn.jsx)("td",{children:b(e.total_amount)}),(0,yn.jsx)("td",{children:j(e.created_at)}),(0,yn.jsx)("td",{children:e.items?e.items.length:0}),(0,yn.jsx)("td",{children:(0,yn.jsx)("button",{className:"btn-sm",onClick:()=>{d(e),p(!0)},children:"View Details"})})]},e.id)})})]})}),u&&c&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>p(!1),children:(0,yn.jsxs)("div",{className:"modal-content order-details-modal",onClick:e=>e.stopPropagation(),children:[(0,yn.jsx)("h3",{children:"Order Details"}),(0,yn.jsxs)("div",{className:"order-details",children:[(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Order Number:"}),(0,yn.jsx)("div",{children:c.order_number})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Status:"}),(0,yn.jsx)("div",{children:v(c.status)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Payment Status:"}),(0,yn.jsx)("div",{children:(null===(e=c.payment_status)||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===(t=c.payment_status)||void 0===t?void 0:t.slice(1))})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Total Amount:"}),(0,yn.jsx)("div",{children:b(c.total_amount)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Placed On:"}),(0,yn.jsx)("div",{children:j(c.created_at)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Expected Delivery:"}),(0,yn.jsx)("div",{children:g.toLocaleDateString()})]}),(0,yn.jsx)("hr",{}),(0,yn.jsx)("h4",{children:"Customer Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Name:"}),(0,yn.jsx)("div",{children:c.customer_name||"\u2014"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Phone:"}),(0,yn.jsx)("div",{children:c.customer_phone||"\u2014"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Shipping Address:"}),(0,yn.jsx)("div",{children:(w=c.shipping_address,w&&0!==Object.keys(w).length?(0,yn.jsxs)("div",{children:[w.full_name&&(0,yn.jsx)("div",{children:w.full_name}),w.address_line1&&(0,yn.jsx)("div",{children:w.address_line1}),w.address_line2&&(0,yn.jsx)("div",{children:w.address_line2}),(w.city||w.state||w.pincode)&&(0,yn.jsx)("div",{children:[w.city,w.state,w.pincode].filter(Boolean).join(", ")}),w.phone&&(0,yn.jsxs)("div",{children:["Phone: ",w.phone]})]}):(0,yn.jsx)("div",{children:"No shipping address available"}))})]}),(0,yn.jsx)("hr",{}),(0,yn.jsx)("h4",{children:"Items"}),(0,yn.jsx)("div",{className:"detail-row",children:(0,yn.jsx)("div",{children:c.items&&c.items.length>0?c.items.map(e=>(0,yn.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,yn.jsx)("div",{children:(0,yn.jsx)("strong",{children:e.product_title})}),(0,yn.jsxs)("div",{children:["Quantity: ",e.quantity]}),(0,yn.jsxs)("div",{children:["Total: ",b(e.total_price)]})]},e.id)):(0,yn.jsx)("div",{children:"No items found for this order."})})}),(0,yn.jsx)("hr",{}),(0,yn.jsxs)("div",{className:"status-update-section",style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[y(c.status)&&(0,yn.jsxs)("button",{className:"btn-primary",onClick:()=>f(c.id,y(c.status)),children:["Move to ",v(y(c.status))]}),"cancelled"!==c.status&&(0,yn.jsx)("button",{className:"btn-secondary",onClick:()=>f(c.id,"cancelled"),children:"Mark as Cancelled"})]})]}),(0,yn.jsx)("div",{className:"modal-actions",children:(0,yn.jsx)("button",{onClick:()=>p(!1),children:"Close"})})]})})]});var w},Gn=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{u()},[o]);const u=async()=>{try{i(!0);const e=localStorage.getItem("adminToken"),a="all"!==o?"?payment_status=".concat(o):"",r=await fetch("".concat(mn,"/api/admin/shop-wallet").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to fetch shop wallet");t(s.transactions||[]),n(s.totals||{})}catch(e){console.error("Error fetching shop wallet:",e),d({type:"error",message:e.message||"Failed to fetch shop wallet"}),setTimeout(()=>d(null),4e3)}finally{i(!1)}},p=e=>{if(null==e)return"\u2014";try{return"\u20b9".concat(Number(e).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}))}catch(t){return"\u20b9".concat(e)}},h=e=>{if(!e)return"\u2014";try{const t=new Date(e);return isNaN(t.getTime())?"\u2014":t.toLocaleDateString("en-IN")}catch(t){return"\u2014"}},m=e=>{const t={pending:{color:"#f59e0b",bg:"#fef3c7"},confirmed:{color:"#10b981",bg:"#d1fae5"},packed:{color:"#3b82f6",bg:"#dbeafe"},shipped:{color:"#6366f1",bg:"#e0e7ff"},delivered:{color:"#22c55e",bg:"#dcfce7"},cancelled:{color:"#ef4444",bg:"#fee2e2"},refunded:{color:"#8b5cf6",bg:"#ede9fe"}},a=t[e]||t.pending;return(0,yn.jsx)("span",{className:"status-badge",style:{color:a.color,backgroundColor:a.bg,padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:e.charAt(0).toUpperCase()+e.slice(1)})};return(0,yn.jsxs)("div",{className:"admin-shop-wallet-panel",children:[c&&(0,yn.jsx)("div",{className:"notification ".concat(c.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===c.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:c.message}),(0,yn.jsxs)("div",{className:"panel-header",children:[(0,yn.jsx)("h2",{children:"Shop Wallet Management"}),(0,yn.jsx)("p",{children:"Track shop admin earnings, commissions, and delivery charges"})]}),a&&(0,yn.jsxs)("div",{className:"wallet-summary",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Total Transactions"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937"},children:a.total_transactions||0})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Total Amount"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937"},children:p(a.total_amount)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Total Commission (13%)"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#10b981"},children:p(a.total_commission)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Total Delivery Charges"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#3b82f6"},children:p(a.total_delivery)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Shop Admin Amount"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#6366f1"},children:p(a.total_shop_amount)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Unpaid Amount"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ef4444"},children:p(a.unpaid_amount)})]})]}),(0,yn.jsxs)("div",{className:"orders-tabs",style:{marginBottom:"20px"},children:[(0,yn.jsx)("button",{className:"tab-btn ".concat("all"===o?"active":""),onClick:()=>l("all"),children:"All Transactions"}),(0,yn.jsx)("button",{className:"tab-btn ".concat("unpaid"===o?"active":""),onClick:()=>l("unpaid"),children:"Unpaid"}),(0,yn.jsx)("button",{className:"tab-btn ".concat("paid"===o?"active":""),onClick:()=>l("paid"),children:"Paid"})]}),s?(0,yn.jsx)("div",{children:"Loading..."}):(0,yn.jsx)("div",{className:"orders-list",children:0===e.length?(0,yn.jsx)("div",{className:"empty-state",children:"No transactions found."}):(0,yn.jsxs)("table",{className:"orders-table",children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Order #"}),(0,yn.jsx)("th",{children:"Shop Admin"}),(0,yn.jsx)("th",{children:"Customer"}),(0,yn.jsx)("th",{children:"Product"}),(0,yn.jsx)("th",{children:"Total Amount"}),(0,yn.jsx)("th",{children:"Commission (13%)"}),(0,yn.jsx)("th",{children:"Delivery (\u20b990)"}),(0,yn.jsx)("th",{children:"Shop Amount"}),(0,yn.jsx)("th",{children:"Order Status"}),(0,yn.jsx)("th",{children:"Payment Status"}),(0,yn.jsx)("th",{children:"Actions"})]})}),(0,yn.jsx)("tbody",{children:e.map(e=>(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:e.order_number}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:(0,yn.jsx)("strong",{children:e.provider.business_name})}),(0,yn.jsx)("div",{className:"small-text",children:e.provider.owner_name}),(0,yn.jsx)("div",{className:"small-text",children:e.provider.business_phone})]}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:e.user.name||"\u2014"}),(0,yn.jsx)("div",{className:"small-text",children:e.user.phone||"\u2014"})]}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:e.product_title}),(0,yn.jsxs)("div",{className:"small-text",children:["Qty: ",e.quantity]})]}),(0,yn.jsx)("td",{children:p(e.total_amount)}),(0,yn.jsx)("td",{children:p(e.admin_commission)}),(0,yn.jsx)("td",{children:p(e.delivery_charge)}),(0,yn.jsx)("td",{children:p(e.shop_admin_amount)}),(0,yn.jsx)("td",{children:m(e.order_status)}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge ".concat("paid"===e.admin_payment_status?"status-confirmed":"status-pending"),style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:"paid"===e.admin_payment_status?"Paid":"Unpaid"})}),(0,yn.jsxs)("td",{children:["unpaid"===e.admin_payment_status&&(0,yn.jsx)("button",{className:"btn-sm btn-primary",onClick:()=>{window.confirm("Mark transaction for Order ".concat(e.order_number," as paid?"))&&(async e=>{try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/shop-wallet/").concat(e,"/mark-paid"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)}}),n=await a.json();if(!a.ok)throw new Error(n.error||"Failed to mark as paid");d({type:"success",message:"Transaction marked as paid successfully"}),setTimeout(()=>d(null),3e3),u()}catch(t){console.error("Error marking as paid:",t),d({type:"error",message:t.message||"Failed to mark as paid"}),setTimeout(()=>d(null),4e3)}})(e.id)},children:"Mark Paid"}),"paid"===e.admin_payment_status&&e.paid_at&&(0,yn.jsxs)("div",{className:"small-text",children:["Paid: ",h(e.paid_at)]})]})]},e.id))})]})})]})},Kn={wrapper:{background:"linear-gradient(145deg, #0b1220, #131b2e, #1b2740)",color:"#ffffff",padding:"32px",borderRadius:"36px",border:"1px solid rgba(255, 255, 255, 0.12)",fontFamily:"'Inter', 'Gilroy', sans-serif",minHeight:"calc(100vh - 120px)"},header:{display:"flex",justifyContent:"space-between",gap:"24px",flexWrap:"wrap",marginBottom:"32px"},subheading:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"14px",letterSpacing:"0.08em",textTransform:"uppercase",marginBottom:"8px",color:"rgba(255, 255, 255, 0.65)"},heading:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"32px",margin:"0 0 8px"},description:{maxWidth:"640px",color:"rgba(255, 255, 255, 0.72)",lineHeight:1.5},refreshButton:{background:"#2563eb",color:"#fff",border:"none",borderRadius:"12px",padding:"12px 24px",fontWeight:600,fontFamily:"'Gilroy', 'Inter', sans-serif",cursor:"pointer"},statGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},statCard:{background:"rgba(255, 255, 255, 0.04)",borderRadius:"20px",padding:"20px",border:"1px solid rgba(255, 255, 255, 0.08)"},statLabel:{fontFamily:"'Inter', 'Gilroy', sans-serif",color:"rgba(255, 255, 255, 0.65)",marginBottom:"8px"},statValue:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"28px",margin:"0 0 6px"},statDescriptor:{fontSize:"13px",color:"rgba(255, 255, 255, 0.55)"},controls:{background:"rgba(255, 255, 255, 0.03)",borderRadius:"24px",padding:"20px",border:"1px solid rgba(255, 255, 255, 0.08)",marginBottom:"32px"},searchWrapper:{marginBottom:"16px"},searchInput:{width:"100%",padding:"14px 20px",borderRadius:"14px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"#fff"},filters:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center"},filterChips:{display:"flex",flexWrap:"wrap",gap:"8px"},filterChip:{padding:"8px 16px",borderRadius:"999px",background:"rgba(255, 255, 255, 0.06)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff",cursor:"pointer",fontFamily:"'Inter', 'Gilroy', sans-serif"},filterChipActive:{background:"#2563eb",borderColor:"#2563eb"},viewToggle:{display:"inline-flex",background:"rgba(255, 255, 255, 0.08)",padding:"6px",borderRadius:"999px"},toggleButton:{border:"none",background:"transparent",color:"#fff",padding:"6px 16px",borderRadius:"999px",cursor:"pointer",fontFamily:"'Gilroy', 'Inter', sans-serif"},toggleActive:{background:"#1f2937"},dropdownGroup:{display:"flex",alignItems:"center",gap:"8px"},dropdownLabel:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},dropdown:{background:"#1e293b",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#fff",padding:"10px 14px",fontFamily:"'Inter', 'Gilroy', sans-serif",fontSize:"14px",cursor:"pointer"},layout:{display:"grid",gridTemplateColumns:"minmax(0, 2fr) minmax(280px, 0.9fr)",gap:"24px"},primaryColumn:{display:"flex",flexDirection:"column",gap:"16px"},secondaryColumn:{display:"flex",flexDirection:"column",gap:"16px"},card:{background:"rgba(255, 255, 255, 0.04)",borderRadius:"24px",padding:"24px",border:"1px solid rgba(255, 255, 255, 0.08)",display:"flex",flexDirection:"column",gap:"16px",minHeight:"100px"},cardHeader:{display:"flex",justifyContent:"space-between",gap:"12px",alignItems:"center"},brandInfo:{display:"flex",gap:"14px",alignItems:"center"},brandLogoWrapper:{width:"54px",height:"54px",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.08)",overflow:"hidden"},brandLogo:{width:"100%",height:"100%",objectFit:"cover"},logoFallback:{width:"100%",height:"100%",display:"grid",placeItems:"center",background:"rgba(255, 255, 255, 0.1)",fontFamily:"'Gilroy', 'Inter', sans-serif"},cardTitle:{fontFamily:"'Gilroy', 'Inter', sans-serif",margin:"0 0 4px"},cardSubtitle:{margin:0,color:"rgba(255, 255, 255, 0.7)"},badge:{borderRadius:"999px",padding:"6px 14px",borderWidth:"1px",borderStyle:"solid",fontSize:"13px"},cardBody:{display:"flex",flexDirection:"column",gap:"16px"},infoGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px"},infoLabel:{fontSize:"13px",color:"rgba(255, 255, 255, 0.65)",marginBottom:"4px"},infoValue:{margin:0,fontFamily:"'Inter', 'Gilroy', sans-serif"},cardFooter:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap"},secondaryButton:{background:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",borderRadius:"12px",padding:"10px 18px",cursor:"pointer"},primaryButton:{background:"#2563eb",border:"none",color:"#fff",borderRadius:"12px",padding:"10px 18px",cursor:"pointer",fontFamily:"'Gilroy', 'Inter', sans-serif"},mediaPreview:{position:"relative",borderRadius:"18px",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.06)",minHeight:"220px",background:"rgba(255, 255, 255, 0.02)",display:"flex",alignItems:"center",justifyContent:"center"},mediaImage:{width:"100%",height:"220px",objectFit:"cover"},mediaVideo:{width:"100%",height:"220px",objectFit:"cover",backgroundColor:"#0f172a"},mediaFallback:{width:"100%",height:"220px",display:"grid",placeItems:"center",background:"rgba(255, 255, 255, 0.04)",color:"rgba(255, 255, 255, 0.7)"},mediaOverlay:{position:"absolute",top:"16px",right:"16px"},metricsRow:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},metricValue:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"20px",margin:0},timestamp:{fontSize:"13px",color:"rgba(255, 255, 255, 0.65)"},emptyState:{padding:"24px",border:"1px dashed rgba(255, 255, 255, 0.2)",borderRadius:"20px",textAlign:"center",minHeight:"220px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",background:"rgba(255, 255, 255, 0.02)"},loadingState:{padding:"48px",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.08)",textAlign:"center",background:"rgba(255, 255, 255, 0.03)",fontFamily:"'Gilroy', 'Inter', sans-serif"},panel:{background:"rgba(255, 255, 255, 0.04)",borderRadius:"24px",padding:"24px",border:"1px solid rgba(255, 255, 255, 0.08)"},panelTitle:{fontFamily:"'Gilroy', 'Inter', sans-serif",margin:"0 0 16px"},panelList:{margin:0,paddingLeft:"20px",color:"rgba(255, 255, 255, 0.78)",lineHeight:1.6},quickStats:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},modalContent:{background:"linear-gradient(145deg, #0b1220, #131b2e, #1b2740)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.12)",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",display:"flex",flexDirection:"column",fontFamily:"'Inter', 'Gilroy', sans-serif"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.08)"},modalTitle:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"24px",margin:0,color:"#fff"},modalCloseButton:{background:"transparent",border:"none",color:"#fff",fontSize:"32px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"8px",opacity:.7},modalBody:{padding:"24px",display:"flex",flexDirection:"column",gap:"24px",overflow:"auto"},campaignMediaSection:{borderRadius:"18px",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.06)",background:"rgba(255, 255, 255, 0.02)",minHeight:"300px",display:"flex",alignItems:"center",justifyContent:"center"},modalMediaImage:{width:"100%",maxHeight:"400px",objectFit:"contain"},modalMediaVideo:{width:"100%",maxHeight:"400px",objectFit:"contain",backgroundColor:"#0f172a"},modalMediaFallback:{padding:"48px",color:"rgba(255, 255, 255, 0.7)",textAlign:"center"},campaignInfoSection:{display:"flex",flexDirection:"column",gap:"12px"},infoRow:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"12px",background:"rgba(255, 255, 255, 0.04)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)"},notesSection:{display:"flex",flexDirection:"column",gap:"8px"},notesLabel:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"14px",color:"rgba(255, 255, 255, 0.9)"},notesTextarea:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.08)",color:"#fff",fontFamily:"'Inter', 'Gilroy', sans-serif",fontSize:"14px",resize:"vertical",minHeight:"80px"},modalFooter:{display:"flex",justifyContent:"flex-end",gap:"12px",padding:"24px",borderTop:"1px solid rgba(255, 255, 255, 0.08)"},rejectButton:{background:"#ef4444",border:"none",color:"#fff",borderRadius:"12px",padding:"12px 24px",cursor:"pointer",fontFamily:"'Gilroy', 'Inter', sans-serif",fontWeight:600,transition:"opacity 0.2s"},acceptButton:{background:"#10b981",border:"none",color:"#fff",borderRadius:"12px",padding:"12px 24px",cursor:"pointer",fontFamily:"'Gilroy', 'Inter', sans-serif",fontWeight:600,transition:"opacity 0.2s"},profileHeaderSection:{display:"flex",gap:"20px",alignItems:"center",padding:"20px",background:"rgba(255, 255, 255, 0.04)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.08)",marginBottom:"24px"},profileLogoWrapper:{width:"80px",height:"80px",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.08)",overflow:"hidden",flexShrink:0},profileLogo:{width:"100%",height:"100%",objectFit:"cover"},profileLogoFallback:{width:"100%",height:"100%",display:"grid",placeItems:"center",background:"rgba(255, 255, 255, 0.1)",fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"32px",fontWeight:600},profileHeaderInfo:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},profileTitle:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"24px",margin:0,color:"#fff"},profileSubtitle:{margin:0,color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},profileInfoSection:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"24px"},sectionTitle:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"18px",margin:"0 0 16px",color:"#fff"},campaignsListSection:{marginTop:"24px"},campaignsList:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"300px",overflowY:"auto"},campaignListItem:{padding:"16px",background:"rgba(255, 255, 255, 0.04)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.08)",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px"},campaignName:{fontFamily:"'Gilroy', 'Inter', sans-serif",fontSize:"16px",margin:"0 0 8px",color:"#fff"},campaignMeta:{margin:0,fontSize:"13px",color:"rgba(255, 255, 255, 0.7)",display:"flex",alignItems:"center"},campaignMetrics:{display:"flex",flexDirection:"column",gap:"4px",fontSize:"13px",color:"rgba(255, 255, 255, 0.7)",textAlign:"right"},noCampaigns:{padding:"24px",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontStyle:"italic"}},Qn=e=>{var t;let{advertisers:a=[],ads:n=[],loading:s=!1,onRefresh:i,onPreviewCampaign:o,onManageCampaign:l}=e;const{showToast:c}=Tn(),[d,u]=(0,r.useState)("advertisers"),[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)("all"),[x,f]=(0,r.useState)("recent"),[v,y]=(0,r.useState)("all"),[b,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[k,_]=(0,r.useState)(!1),[S,C]=(0,r.useState)(""),[P,E]=(0,r.useState)(!1),[T,A]=(0,r.useState)(null),R=e=>{if("number"===typeof e)return e;if(!e)return 0;const t=String(e).replace(/[^\d.-]/g,""),a=parseFloat(t);return Number.isFinite(a)?a:0},z=e=>{if(null==e)return"";const t=(e=>{if(null==e)return"";const t=String(e);if("undefined"!==typeof window&&"function"===typeof window.DOMParser)try{const e=(new window.DOMParser).parseFromString(t,"text/html");return(e.body.textContent||e.body.innerText||"").trim()}catch(a){}return t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim()})(e);return t.trim().toLowerCase()},I=e=>{const t=z(e);if(!t)return"";return["approved","active","live","enabled","verified","accepted","completed","approved_user","approved_advertiser"].includes(t)?"approved":["pending","awaiting","under review","in_review","inreview","processing","queued","submitted","pending_review","pending_approval"].includes(t)?"pending":["rejected","declined","denied","inactive","disabled","blocked","suspended","failed"].includes(t)?"rejected":t.includes("pending")||t.includes("await")||t.includes("review")?"pending":t.includes("reject")||t.includes("declin")||t.includes("deny")||t.includes("block")||t.includes("suspend")?"rejected":t.includes("approve")&&!t.includes("unapprove")||t.includes("active")||t.includes("verified")||t.includes("accept")?"approved":t},L=(e,t)=>!!z(e||"").includes("video")||!!t&&/\.(mp4|mov|webm|ogg|m4v)(\?.*)?$/i.test(t),B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[e.approval_status,e.moderation_status,e.review_status,e.verification_status,e.kyc_status,e.current_status,e.account_state,e.status,e.account_status,e.stage];for(const a of t){const e=I(a);if(e)return e}if("boolean"===typeof e.is_approved)return e.is_approved?"approved":"rejected";if("boolean"===typeof e.is_rejected)return e.is_rejected?"rejected":"";if("boolean"===typeof e.is_pending)return e.is_pending?"pending":"";if(null!=e.is_approved){const t=z(String(e.is_approved));if(["1","true","yes"].includes(t))return"approved";if(["0","false","no"].includes(t))return"rejected"}if(null!=e.is_rejected){const t=z(String(e.is_rejected));if(["1","true","yes"].includes(t))return"rejected";if(["0","false","no"].includes(t))return""}if(null!=e.is_pending){const t=z(String(e.is_pending));if(["1","true","yes"].includes(t))return"pending";if(["0","false","no"].includes(t))return""}return"pending"},D=(0,r.useMemo)(()=>({totalAdvertisers:a.length,activeAdvertisers:a.filter(e=>"approved"===B(e)).length,pendingAds:n.filter(e=>"pending"===z(e.status)).length,approvedAds:n.filter(e=>"approved"===z(e.status)).length,totalSpend:a.reduce((e,t)=>e+R(t.total_spent),0)}),[a,n]),O=(0,r.useMemo)(()=>[{id:"approved",label:"Approved Advertisers"},{id:"pending",label:"Pending Advertisers"},{id:"rejected",label:"Rejected Advertisers"}],[]),F=(0,r.useMemo)(()=>[{id:"approved",label:"Approved Campaigns"},{id:"pending",label:"Pending Campaigns"},{id:"rejected",label:"Rejected Campaigns"}],[]),M=(0,r.useMemo)(()=>{const e=z(v),t=z(m);return a.filter(e=>"advertisers"!==d||"all"===t||B(e)===t).filter(e=>{if(!p.trim())return!0;return[e.brand_name,e.name,e.email,e.phone_number].filter(Boolean).join(" ").toLowerCase().includes(p.toLowerCase())}).filter(t=>"all"===v||B(t)===e)},[a,m,p,d,v]),W=(0,r.useMemo)(()=>{let e=n;if("ads"===d&&"all"!==m&&(e=e.filter(e=>z(e.status)===z(m))),"ads"===d&&"all"!==v){const t=z(v);e=e.filter(e=>I(e.status)===t)}if(p.trim()){const t=p.toLowerCase();e=e.filter(e=>[e.name,e.advertiser,e.advertiser_name,e.status].filter(Boolean).join(" ").toLowerCase().includes(t))}const t=[...e];return t.sort((e,t)=>{if("recent"===x)return new Date(t.created_at||t.createdAt||0)-new Date(e.created_at||e.createdAt||0);if("performance"===x){const a=R(e.likes)+R(e.shares);return R(t.likes)+R(t.shares)-a}return"earnings"===x?R(t.earnings)-R(e.earnings):0}),t},[n,a,d,m,v,p,x]),U=[{label:"All",value:"all"},{label:"Approved",value:"approved"},{label:"Pending",value:"pending"},{label:"Rejected",value:"rejected"}],q="ads"===d?F:O,V="ads"===d?"All campaigns":"All categories",H="ads"===d?"Campaign Status":"Category",Y=(e,t)=>(0,yn.jsx)("span",{style:ge(ge({},Kn.badge),{},{borderColor:t,color:t}),children:e}),J=()=>{k||(j(!1),N(null),C(""))},$=e=>{A(e),E(!0)},G=()=>{E(!1),A(null)},K=(e,t)=>(0,yn.jsxs)("div",{style:Kn.emptyState,children:[(0,yn.jsx)("h4",{style:Kn.cardTitle,children:e}),(0,yn.jsx)("p",{style:Kn.cardSubtitle,children:t})]});return(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("style",{children:"\n        select option {\n          background: #1e293b !important;\n          color: #fff !important;\n        }\n      "}),(0,yn.jsxs)("section",{style:Kn.wrapper,children:[(0,yn.jsxs)("header",{style:Kn.header,children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.subheading,children:"Advertisement Suite"}),(0,yn.jsx)("h2",{style:Kn.heading,children:"Manage Advertisements"}),(0,yn.jsx)("p",{style:Kn.description,children:"Track advertiser relationships, monitor campaign performance, and keep every ad experience consistent across Unlimited Hub."})]}),(0,yn.jsx)("button",{style:Kn.refreshButton,onClick:i,disabled:s,children:s?"Refreshing\u2026":"Refresh Data"})]}),(0,yn.jsxs)("div",{style:Kn.statGrid,children:[(0,yn.jsxs)("div",{style:Kn.statCard,children:[(0,yn.jsx)("p",{style:Kn.statLabel,children:"Total Advertisers"}),(0,yn.jsx)("p",{style:Kn.statValue,children:D.totalAdvertisers}),(0,yn.jsx)("span",{style:Kn.statDescriptor,children:"Across all verticals"})]}),(0,yn.jsxs)("div",{style:Kn.statCard,children:[(0,yn.jsx)("p",{style:Kn.statLabel,children:"Active Advertisers"}),(0,yn.jsx)("p",{style:Kn.statValue,children:D.activeAdvertisers}),(0,yn.jsx)("span",{style:Kn.statDescriptor,children:"Currently running ads"})]}),(0,yn.jsxs)("div",{style:Kn.statCard,children:[(0,yn.jsx)("p",{style:Kn.statLabel,children:"Pending Campaigns"}),(0,yn.jsx)("p",{style:Kn.statValue,children:D.pendingAds}),(0,yn.jsx)("span",{style:Kn.statDescriptor,children:"Awaiting moderation"})]}),(0,yn.jsxs)("div",{style:Kn.statCard,children:[(0,yn.jsx)("p",{style:Kn.statLabel,children:"Approved Campaigns"}),(0,yn.jsx)("p",{style:Kn.statValue,children:D.approvedAds}),(0,yn.jsx)("span",{style:Kn.statDescriptor,children:"Ready for distribution"})]}),(0,yn.jsxs)("div",{style:Kn.statCard,children:[(0,yn.jsx)("p",{style:Kn.statLabel,children:"Lifetime Spend"}),(0,yn.jsxs)("p",{style:Kn.statValue,children:["\u20b9",D.totalSpend.toLocaleString("en-IN")]}),(0,yn.jsx)("span",{style:Kn.statDescriptor,children:"Tracked via platform"})]})]}),(0,yn.jsxs)("div",{style:Kn.controls,children:[(0,yn.jsx)("div",{style:Kn.searchWrapper,children:(0,yn.jsx)("input",{style:Kn.searchInput,placeholder:"Search by advertiser, campaign, email, or status",value:p,onChange:e=>h(e.target.value)})}),(0,yn.jsxs)("div",{style:Kn.filters,children:[(0,yn.jsx)("div",{style:Kn.filterChips,children:U.map(e=>(0,yn.jsx)("button",{style:ge(ge({},Kn.filterChip),m===e.value?Kn.filterChipActive:{}),onClick:()=>g(e.value),children:e.label},e.value))}),(0,yn.jsxs)("div",{style:Kn.viewToggle,children:[(0,yn.jsx)("button",{style:ge(ge({},Kn.toggleButton),"advertisers"===d?Kn.toggleActive:{}),onClick:()=>u("advertisers"),children:"Advertisers"}),(0,yn.jsx)("button",{style:ge(ge({},Kn.toggleButton),"ads"===d?Kn.toggleActive:{}),onClick:()=>u("ads"),children:"Campaigns"})]}),(0,yn.jsxs)("div",{style:Kn.dropdownGroup,children:["ads"===d&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("label",{style:Kn.dropdownLabel,children:"Sort by"}),(0,yn.jsxs)("select",{style:Kn.dropdown,value:x,onChange:e=>f(e.target.value),children:[(0,yn.jsx)("option",{value:"recent",children:"Most recent"}),(0,yn.jsx)("option",{value:"performance",children:"Performance"}),(0,yn.jsx)("option",{value:"earnings",children:"Earnings"})]})]}),(0,yn.jsx)("label",{style:ge(ge({},Kn.dropdownLabel),{},{marginLeft:"ads"===d?"16px":0}),children:H}),(0,yn.jsxs)("select",{style:Kn.dropdown,value:v,onChange:e=>y(e.target.value),children:[(0,yn.jsx)("option",{value:"all",children:V}),q.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.label},e.id))]})]})]})]}),s?(0,yn.jsx)("div",{style:Kn.loadingState,children:"Refreshing advertiser intelligence\u2026"}):(0,yn.jsxs)("div",{style:Kn.layout,children:[(0,yn.jsx)("div",{style:Kn.primaryColumn,children:"advertisers"===d?M.length?M.map(e=>{var t;const a=B(e),n="approved"===a?"#34d399":"pending"===a?"#fbbf24":"rejected"===a?"#f87171":"#d1d5db",r=a&&a.length?"".concat(a.charAt(0).toUpperCase()).concat(a.slice(1)):e.status||"Unknown";return(0,yn.jsxs)("div",{style:Kn.card,children:[(0,yn.jsxs)("div",{style:Kn.cardHeader,children:[(0,yn.jsxs)("div",{style:Kn.brandInfo,children:[(0,yn.jsx)("div",{style:Kn.brandLogoWrapper,children:e.brand_logo?(0,yn.jsx)("img",{src:e.brand_logo,alt:e.brand_name||"Brand logo",style:Kn.brandLogo}):(0,yn.jsx)("div",{style:Kn.logoFallback,children:(e.brand_name||e.name||"AD")[0]})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h4",{style:Kn.cardTitle,children:e.brand_name||e.name||"Unnamed Advertiser"}),(0,yn.jsx)("p",{style:Kn.cardSubtitle,children:e.industry||"General Advertiser"})]})]}),Y(r,n)]}),(0,yn.jsx)("div",{style:Kn.cardBody,children:(0,yn.jsxs)("div",{style:Kn.infoGrid,children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Contact"}),(0,yn.jsx)("p",{style:Kn.infoValue,children:e.email||"Not provided"}),(0,yn.jsx)("p",{style:Kn.infoValue,children:e.phone_number||"No phone"})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Activity"}),(0,yn.jsxs)("p",{style:Kn.infoValue,children:[null!==(t=e.total_ads)&&void 0!==t?t:0," active ads"]}),(0,yn.jsxs)("p",{style:Kn.infoValue,children:["Spend: \u20b9",R(e.total_spent).toLocaleString("en-IN")]})]})]})}),(0,yn.jsx)("div",{style:Kn.cardFooter,children:(0,yn.jsx)("button",{style:Kn.secondaryButton,onClick:()=>$(e),children:"View Profile"})})]},e.id||e.brand_name)}):K("No advertisers found","Try expanding your filters or inviting new partners."):W.length?W.map(e=>{const t=z(e.status),a="approved"===t?"#34d399":"pending"===t?"#fbbf24":"rejected"===t?"#f87171":"#d1d5db",n=Boolean(e.media_url),r=n&&L(e.media_type,e.media_url);return(0,yn.jsxs)("div",{style:Kn.card,children:[(0,yn.jsxs)("div",{style:Kn.mediaPreview,children:[n?r?(0,yn.jsx)("video",{style:Kn.mediaVideo,src:e.media_url,controls:!0,muted:!0,playsInline:!0,poster:e.media_poster,crossOrigin:"anonymous",onError:t=>{console.error("Video load error in AdminManageAdvertisers:",t,e.media_url)}}):(0,yn.jsx)("img",{src:e.media_url,alt:e.name||"Advertisement preview",style:Kn.mediaImage}):(0,yn.jsx)("div",{style:Kn.mediaFallback,children:"No media"}),(0,yn.jsx)("div",{style:Kn.mediaOverlay,children:Y(e.status||"Unknown",a)})]}),(0,yn.jsxs)("div",{style:Kn.cardBody,children:[(0,yn.jsx)("h4",{style:Kn.cardTitle,children:e.name||"Untitled Campaign"}),(0,yn.jsx)("p",{style:Kn.cardSubtitle,children:e.advertiser||e.advertiser_name||"Unknown Advertiser"}),(0,yn.jsxs)("div",{style:Kn.metricsRow,children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Likes"}),(0,yn.jsx)("p",{style:Kn.metricValue,children:R(e.likes)})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Shares"}),(0,yn.jsx)("p",{style:Kn.metricValue,children:R(e.shares)})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Earnings"}),(0,yn.jsxs)("p",{style:Kn.metricValue,children:["\u20b9",R(e.earnings).toLocaleString("en-IN")]})]})]})]}),(0,yn.jsxs)("div",{style:Kn.cardFooter,children:[(0,yn.jsxs)("span",{style:Kn.timestamp,children:["Created ",new Date(e.created_at||e.createdAt||Date.now()).toLocaleDateString()]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("button",{style:Kn.secondaryButton,onClick:()=>{if("function"===typeof o)return void o(e);const t=e.preview_url||e.media_url;t?(e=>{if(!e||"undefined"===typeof window)return;const t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)})(t):console.warn("No preview asset available for this campaign",e)},children:"Preview"}),(0,yn.jsx)("button",{style:Kn.primaryButton,onClick:()=>{N(e),C(""),j(!0)},children:"Manage"})]})]})]},e.id||e.name)}):K("No campaigns match your filters","Adjust the filters to review additional campaigns.")}),(0,yn.jsxs)("aside",{style:Kn.secondaryColumn,children:[(0,yn.jsxs)("div",{style:Kn.panel,children:[(0,yn.jsx)("h4",{style:Kn.panelTitle,children:"Platform Guidelines"}),(0,yn.jsxs)("ul",{style:Kn.panelList,children:[(0,yn.jsx)("li",{children:"Ensure creatives meet brand-safe standards before approval."}),(0,yn.jsx)("li",{children:"Pending campaigns expire after 7 days without moderation."}),(0,yn.jsx)("li",{children:"Share performance snapshots with advertisers weekly."}),(0,yn.jsx)("li",{children:"Keep all communications inside the platform for auditing."})]})]}),(0,yn.jsxs)("div",{style:Kn.panel,children:[(0,yn.jsx)("h4",{style:Kn.panelTitle,children:"Quick Checks"}),(0,yn.jsxs)("div",{style:Kn.quickStats,children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"New submissions"}),(0,yn.jsx)("p",{style:Kn.metricValue,children:D.pendingAds})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Live campaigns"}),(0,yn.jsx)("p",{style:Kn.metricValue,children:D.approvedAds})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.infoLabel,children:"Engaged advertisers"}),(0,yn.jsx)("p",{style:Kn.metricValue,children:D.activeAdvertisers})]})]})]})]})]}),b&&w&&(0,yn.jsx)("div",{style:Kn.modalOverlay,onClick:J,children:(0,yn.jsxs)("div",{style:Kn.modalContent,onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{style:Kn.modalHeader,children:[(0,yn.jsx)("h3",{style:Kn.modalTitle,children:"Campaign Details"}),(0,yn.jsx)("button",{style:Kn.modalCloseButton,onClick:J,disabled:k,children:"\xd7"})]}),(0,yn.jsxs)("div",{style:Kn.modalBody,children:[(0,yn.jsx)("div",{style:Kn.campaignMediaSection,children:w.media_url?L(w.media_type,w.media_url)?(0,yn.jsx)("video",{style:Kn.modalMediaVideo,src:w.media_url,controls:!0,muted:!0,playsInline:!0,poster:w.media_poster}):(0,yn.jsx)("img",{src:w.media_url,alt:w.name||"Campaign media",style:Kn.modalMediaImage}):(0,yn.jsx)("div",{style:Kn.modalMediaFallback,children:"No media available"})}),(0,yn.jsxs)("div",{style:Kn.campaignInfoSection,children:[(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Campaign Name:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:w.name||"Untitled Campaign"})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Advertiser:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:w.advertiser||w.advertiser_name||"Unknown"})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Status:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:w.status||"Unknown"})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Likes:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:R(w.likes)})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Shares:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:R(w.shares)})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Earnings:"}),(0,yn.jsxs)("span",{style:Kn.infoValue,children:["\u20b9",R(w.earnings).toLocaleString("en-IN")]})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Created:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:new Date(w.created_at||w.createdAt||Date.now()).toLocaleString()})]}),w.description&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Description:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:w.description})]}),w.target_audience&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Target Audience:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:w.target_audience})]}),w.budget&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Budget:"}),(0,yn.jsxs)("span",{style:Kn.infoValue,children:["\u20b9",R(w.budget).toLocaleString("en-IN")]})]}),w.duration_days&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Duration:"}),(0,yn.jsxs)("span",{style:Kn.infoValue,children:[w.duration_days," days"]})]})]}),(0,yn.jsxs)("div",{style:Kn.notesSection,children:[(0,yn.jsxs)("label",{style:Kn.notesLabel,children:["Admin Notes ","pending"===w.status&&"(Required for rejection)"]}),(0,yn.jsx)("textarea",{style:Kn.notesTextarea,value:S,onChange:e=>C(e.target.value),placeholder:"Add notes about this campaign...",rows:4,disabled:k})]})]}),(0,yn.jsxs)("div",{style:Kn.modalFooter,children:[(0,yn.jsx)("button",{style:ge(ge({},Kn.rejectButton),k?{opacity:.6,cursor:"not-allowed"}:{}),onClick:async()=>{if(w&&w.id)if(S.trim()){_(!0);try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/approve-ad"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""},body:JSON.stringify({ad_id:w.id,status:"rejected",admin_notes:S.trim()})}),a=await t.json();t.ok?(c("Campaign rejected",{type:"success"}),j(!1),N(null),C(""),"function"===typeof i&&i()):c(a.error||"Failed to reject campaign",{type:"error"})}catch(e){c("Network error. Please try again.",{type:"error"})}finally{_(!1)}}else c("Please provide a reason for rejection",{type:"error"})},disabled:k,children:k?"Processing...":"Reject"}),(0,yn.jsx)("button",{style:ge(ge({},Kn.acceptButton),k?{opacity:.6,cursor:"not-allowed"}:{}),onClick:async()=>{if(w&&w.id){_(!0);try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/approve-ad"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""},body:JSON.stringify({ad_id:w.id,status:"approved",admin_notes:S.trim()||"Campaign approved by admin"})}),a=await t.json();t.ok?(c("Campaign accepted",{type:"success"}),j(!1),N(null),C(""),"function"===typeof i&&i()):c(a.error||"Failed to approve campaign",{type:"error"})}catch(e){c("Network error. Please try again.",{type:"error"})}finally{_(!1)}}},disabled:k,children:k?"Processing...":"Accept"})]})]})}),P&&T&&(0,yn.jsx)("div",{style:Kn.modalOverlay,onClick:G,children:(0,yn.jsxs)("div",{style:Kn.modalContent,onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{style:Kn.modalHeader,children:[(0,yn.jsx)("h3",{style:Kn.modalTitle,children:"Advertiser Profile"}),(0,yn.jsx)("button",{style:Kn.modalCloseButton,onClick:G,children:"\xd7"})]}),(0,yn.jsxs)("div",{style:Kn.modalBody,children:[(0,yn.jsxs)("div",{style:Kn.profileHeaderSection,children:[(0,yn.jsx)("div",{style:Kn.profileLogoWrapper,children:T.brand_logo?(0,yn.jsx)("img",{src:T.brand_logo,alt:T.brand_name||"Brand logo",style:Kn.profileLogo}):(0,yn.jsx)("div",{style:Kn.profileLogoFallback,children:(T.brand_name||T.name||"AD")[0]})}),(0,yn.jsxs)("div",{style:Kn.profileHeaderInfo,children:[(0,yn.jsx)("h4",{style:Kn.profileTitle,children:T.brand_name||T.name||"Unnamed Advertiser"}),(0,yn.jsx)("p",{style:Kn.profileSubtitle,children:T.industry||"General Advertiser"}),(()=>{const e=B(T),t="approved"===e?"#34d399":"pending"===e?"#fbbf24":"rejected"===e?"#f87171":"#d1d5db",a=e&&e.length?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)):T.status||"Unknown";return Y(a,t)})()]})]}),(0,yn.jsxs)("div",{style:Kn.profileInfoSection,children:[(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Email:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:T.email||"Not provided"})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Phone:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:T.phone_number||"Not provided"})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Total Ads:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:null!==(t=T.total_ads)&&void 0!==t?t:0})]}),(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Total Spent:"}),(0,yn.jsxs)("span",{style:Kn.infoValue,children:["\u20b9",R(T.total_spent).toLocaleString("en-IN")]})]}),T.created_at&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Created:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:new Date(T.created_at).toLocaleString()})]}),T.approved_at&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Approved:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:new Date(T.approved_at).toLocaleString()})]}),T.business_name&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Business Name:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:T.business_name})]}),T.address&&(0,yn.jsxs)("div",{style:Kn.infoRow,children:[(0,yn.jsx)("span",{style:Kn.infoLabel,children:"Address:"}),(0,yn.jsx)("span",{style:Kn.infoValue,children:T.address})]})]}),T.id&&(0,yn.jsxs)("div",{style:Kn.campaignsListSection,children:[(0,yn.jsx)("h4",{style:Kn.sectionTitle,children:"Campaigns"}),(0,yn.jsxs)("div",{style:Kn.campaignsList,children:[n.filter(e=>{const t=String(e.advertiser_id||e.advertiserId||""),a=z(e.advertiser||e.advertiser_name),n=z(T.brand_name||T.name);return t===String(T.id)||n===a}).map(e=>(0,yn.jsxs)("div",{style:Kn.campaignListItem,children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{style:Kn.campaignName,children:e.name||"Untitled Campaign"}),(0,yn.jsxs)("p",{style:Kn.campaignMeta,children:[Y(e.status||"Unknown","approved"===z(e.status)?"#34d399":"pending"===z(e.status)?"#fbbf24":"rejected"===z(e.status)?"#f87171":"#d1d5db"),(0,yn.jsxs)("span",{style:{marginLeft:"12px"},children:["Created: ",new Date(e.created_at||e.createdAt||Date.now()).toLocaleDateString()]})]})]}),(0,yn.jsxs)("div",{style:Kn.campaignMetrics,children:[(0,yn.jsxs)("span",{children:["Likes: ",R(e.likes)]}),(0,yn.jsxs)("span",{children:["Shares: ",R(e.shares)]}),(0,yn.jsxs)("span",{children:["Earnings: \u20b9",R(e.earnings).toLocaleString("en-IN")]})]})]},e.id)),0===n.filter(e=>{const t=String(e.advertiser_id||e.advertiserId||""),a=z(e.advertiser||e.advertiser_name),n=z(T.brand_name||T.name);return t===String(T.id)||n===a}).length&&(0,yn.jsx)("p",{style:Kn.noCampaigns,children:"No campaigns found for this advertiser"})]})]})]}),(0,yn.jsx)("div",{style:Kn.modalFooter,children:(0,yn.jsx)("button",{style:Kn.secondaryButton,onClick:G,children:"Close"})})]})})]})]})},Xn={id:null,title:"",slug:"",content:"",show_in_calls:!1,show_in_ads:!1,show_in_shop:!1,is_active:!0},Zn=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(Xn),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(""),h=(e,t)=>{d({type:e,message:t}),setTimeout(()=>d(null),5e3)},m=async()=>{try{n(!0);const e=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/static-pages"),{headers:{Authorization:"Bearer ".concat(e)}});if(!a.ok)throw new Error("Failed to load static pages");const r=await a.json();t(r.pages||[])}catch(e){console.error("Error fetching static pages:",e),h("error",e.message||"Failed to load pages")}finally{n(!1)}};(0,r.useEffect)(()=>{m()},[]);const g=e=>{const{name:t,value:a,type:n,checked:r}=e.target;l(e=>ge(ge({},e),{},{[t]:"checkbox"===n?r:a}))},x=()=>{l(Xn)},f=e.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())||e.slug.toLowerCase().includes(u.toLowerCase()));return(0,yn.jsxs)("div",{className:"static-pages-admin",children:[c&&(0,yn.jsx)("div",{className:"static-pages-notification static-pages-notification-".concat(c.type),children:(0,yn.jsxs)("div",{className:"static-pages-notification-content",children:[(0,yn.jsx)("span",{className:"static-pages-notification-icon",children:"success"===c.type?"\u2713":"\u2715"}),(0,yn.jsx)("span",{children:c.message})]})}),(0,yn.jsxs)("div",{className:"static-pages-card",children:[(0,yn.jsxs)("div",{className:"static-pages-card-header",children:[(0,yn.jsxs)("div",{className:"static-pages-card-header-content",children:[(0,yn.jsx)("div",{className:"static-pages-card-icon",children:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,yn.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,yn.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,yn.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),(0,yn.jsx)("polyline",{points:"10 9 9 9 8 9"})]})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h3",{children:o.id?"Edit Static Page":"Create New Static Page"}),(0,yn.jsx)("p",{children:o.id?"Update the static page details below":"Fill in the details to create a new static page"})]})]}),o.id&&(0,yn.jsxs)("button",{className:"static-pages-btn-secondary",onClick:x,children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,yn.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.title.trim()){i(!0);try{const e={title:o.title.trim(),slug:o.slug.trim()||o.title.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),content:o.content,show_in_calls:o.show_in_calls,show_in_ads:o.show_in_ads,show_in_shop:o.show_in_shop,is_active:o.is_active},t=localStorage.getItem("adminToken"),a=o.id?"".concat(mn,"/api/admin/static-pages/").concat(o.id):"".concat(mn,"/api/admin/static-pages"),n=o.id?"PUT":"POST",r=await fetch(a,{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to save page");h("success",s.message||"Page saved successfully"),x(),m()}catch(t){console.error("Error saving static page:",t),h("error",t.message||"Failed to save page")}finally{i(!1)}}else h("error","Title is required")},className:"static-pages-form",children:[(0,yn.jsxs)("div",{className:"static-pages-form-grid",children:[(0,yn.jsxs)("div",{className:"static-pages-form-group static-pages-form-group-full",children:[(0,yn.jsxs)("label",{children:[(0,yn.jsx)("span",{className:"static-pages-label-text",children:"Title"}),(0,yn.jsx)("span",{className:"static-pages-required",children:"*"})]}),(0,yn.jsx)("input",{type:"text",name:"title",value:o.title,onChange:g,placeholder:"e.g. Refund Policy",className:"static-pages-input",required:!0})]}),(0,yn.jsxs)("div",{className:"static-pages-form-group static-pages-form-group-full",children:[(0,yn.jsxs)("label",{children:[(0,yn.jsx)("span",{className:"static-pages-label-text",children:"Slug"}),(0,yn.jsx)("span",{className:"static-pages-label-hint",children:"(Optional)"})]}),(0,yn.jsx)("input",{type:"text",name:"slug",value:o.slug,onChange:g,placeholder:"e.g. refund-policy",className:"static-pages-input"}),(0,yn.jsx)("small",{className:"static-pages-input-hint",children:"Leave blank to auto-generate from title"})]}),(0,yn.jsxs)("div",{className:"static-pages-form-group static-pages-form-group-full",children:[(0,yn.jsx)("label",{children:(0,yn.jsx)("span",{className:"static-pages-label-text",children:"Content"})}),(0,yn.jsx)("textarea",{name:"content",value:o.content,onChange:g,rows:"8",placeholder:"Write the content for this page. You can use HTML formatting...",className:"static-pages-textarea"})]}),(0,yn.jsxs)("div",{className:"static-pages-form-group static-pages-form-group-full",children:[(0,yn.jsx)("label",{className:"static-pages-label-text",children:"Visibility Settings"}),(0,yn.jsxs)("div",{className:"static-pages-checkbox-group",children:[(0,yn.jsxs)("label",{className:"static-pages-checkbox-label",children:[(0,yn.jsx)("input",{type:"checkbox",name:"show_in_calls",checked:o.show_in_calls,onChange:g,className:"static-pages-checkbox"}),(0,yn.jsx)("span",{className:"static-pages-checkbox-custom"}),(0,yn.jsxs)("span",{className:"static-pages-checkbox-text",children:[(0,yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Show in Calls"]})]}),(0,yn.jsxs)("label",{className:"static-pages-checkbox-label",children:[(0,yn.jsx)("input",{type:"checkbox",name:"show_in_ads",checked:o.show_in_ads,onChange:g,className:"static-pages-checkbox"}),(0,yn.jsx)("span",{className:"static-pages-checkbox-custom"}),(0,yn.jsxs)("span",{className:"static-pages-checkbox-text",children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,yn.jsx)("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),(0,yn.jsx)("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),"Show in Ads"]})]}),(0,yn.jsxs)("label",{className:"static-pages-checkbox-label",children:[(0,yn.jsx)("input",{type:"checkbox",name:"show_in_shop",checked:o.show_in_shop,onChange:g,className:"static-pages-checkbox"}),(0,yn.jsx)("span",{className:"static-pages-checkbox-custom"}),(0,yn.jsxs)("span",{className:"static-pages-checkbox-text",children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,yn.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,yn.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),"Show in Shop"]})]})]})]}),(0,yn.jsxs)("div",{className:"static-pages-form-group",children:[(0,yn.jsx)("label",{className:"static-pages-label-text",children:"Status"}),(0,yn.jsxs)("label",{className:"static-pages-switch-label",children:[(0,yn.jsx)("input",{type:"checkbox",name:"is_active",checked:o.is_active,onChange:g,className:"static-pages-switch-input"}),(0,yn.jsx)("span",{className:"static-pages-switch-slider"}),(0,yn.jsx)("span",{className:"static-pages-switch-text",children:o.is_active?"Active":"Inactive"})]})]})]}),(0,yn.jsx)("div",{className:"static-pages-form-actions",children:(0,yn.jsx)("button",{type:"submit",className:"static-pages-btn-primary",disabled:s,children:s?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("svg",{className:"static-pages-spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M21 12a9 9 0 11-6.219-8.56"})}),"Saving..."]}):(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,yn.jsx)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,yn.jsx)("polyline",{points:"7 3 7 8 15 8"})]}),o.id?"Update Page":"Create Page"]})})})]})]}),(0,yn.jsxs)("div",{className:"static-pages-card",children:[(0,yn.jsxs)("div",{className:"static-pages-card-header",children:[(0,yn.jsxs)("div",{className:"static-pages-card-header-content",children:[(0,yn.jsx)("div",{className:"static-pages-card-icon",children:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,yn.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h3",{children:"Existing Pages"}),(0,yn.jsxs)("p",{children:[e.length," ",1===e.length?"page":"pages"," total"]})]})]}),(0,yn.jsxs)("div",{className:"static-pages-card-header-actions",children:[(0,yn.jsxs)("div",{className:"static-pages-search-wrapper",children:[(0,yn.jsxs)("svg",{className:"static-pages-search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,yn.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,yn.jsx)("input",{type:"text",placeholder:"Search pages...",value:u,onChange:e=>p(e.target.value),className:"static-pages-search-input"})]}),(0,yn.jsxs)("button",{className:"static-pages-btn-secondary",onClick:m,disabled:a,children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("polyline",{points:"23 4 23 10 17 10"}),(0,yn.jsx)("polyline",{points:"1 20 1 14 7 14"}),(0,yn.jsx)("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})]}),a?"Refreshing...":"Refresh"]})]})]}),(0,yn.jsx)("div",{className:"static-pages-card-body",children:a&&0===e.length?(0,yn.jsxs)("div",{className:"static-pages-empty-state",children:[(0,yn.jsx)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M21 12a9 9 0 11-6.219-8.56"})}),(0,yn.jsx)("p",{children:"Loading pages..."})]}):0===f.length?(0,yn.jsxs)("div",{className:"static-pages-empty-state",children:[(0,yn.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,yn.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,yn.jsx)("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),(0,yn.jsx)("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),(0,yn.jsx)("p",{children:u?"No pages found matching your search":"No static pages found"}),(0,yn.jsx)("p",{className:"static-pages-empty-state-hint",children:u?"Try a different search term":"Create one using the form above"})]}):(0,yn.jsx)("div",{className:"static-pages-table-wrapper",children:(0,yn.jsxs)("table",{className:"static-pages-table",children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Title"}),(0,yn.jsx)("th",{children:"Slug"}),(0,yn.jsx)("th",{children:"Visible In"}),(0,yn.jsx)("th",{children:"Status"}),(0,yn.jsx)("th",{children:"Actions"})]})}),(0,yn.jsx)("tbody",{children:f.map(e=>(0,yn.jsxs)("tr",{className:o.id===e.id?"static-pages-row-editing":"",children:[(0,yn.jsx)("td",{children:(0,yn.jsx)("div",{className:"static-pages-table-title",children:(0,yn.jsx)("strong",{children:e.title})})}),(0,yn.jsx)("td",{children:(0,yn.jsx)("code",{className:"static-pages-slug",children:e.slug})}),(0,yn.jsx)("td",{children:(0,yn.jsxs)("div",{className:"static-pages-visibility-tags",children:[e.show_in_calls&&(0,yn.jsxs)("span",{className:"static-pages-tag static-pages-tag-calls",children:[(0,yn.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"Calls"]}),e.show_in_ads&&(0,yn.jsxs)("span",{className:"static-pages-tag static-pages-tag-ads",children:[(0,yn.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,yn.jsx)("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),(0,yn.jsx)("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),"Ads"]}),e.show_in_shop&&(0,yn.jsxs)("span",{className:"static-pages-tag static-pages-tag-shop",children:[(0,yn.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,yn.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,yn.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),"Shop"]}),!e.show_in_calls&&!e.show_in_ads&&!e.show_in_shop&&(0,yn.jsxs)("span",{className:"static-pages-tag static-pages-tag-muted",children:[(0,yn.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})}),"Hidden"]})]})}),(0,yn.jsx)("td",{children:(0,yn.jsxs)("span",{className:"static-pages-status-badge ".concat(e.is_active?"static-pages-status-active":"static-pages-status-inactive"),children:[(0,yn.jsx)("span",{className:"static-pages-status-dot"}),e.is_active?"Active":"Inactive"]})}),(0,yn.jsx)("td",{children:(0,yn.jsxs)("div",{className:"static-pages-action-buttons",children:[(0,yn.jsxs)("button",{className:"static-pages-btn-action static-pages-btn-edit",onClick:()=>(e=>{l({id:e.id,title:e.title,slug:e.slug,content:e.content,show_in_calls:e.show_in_calls,show_in_ads:e.show_in_ads,show_in_shop:e.show_in_shop,is_active:e.is_active}),window.scrollTo({top:0,behavior:"smooth"})})(e),title:"Edit page",children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,yn.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),(0,yn.jsxs)("button",{className:"static-pages-btn-action static-pages-btn-delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this page?"))try{const t=localStorage.getItem("adminToken");if(!(await fetch("".concat(mn,"/api/admin/static-pages/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok)throw new Error("Failed to delete page");h("success","Page deleted successfully"),m(),o.id===e&&x()}catch(t){console.error("Error deleting static page:",t),h("error",t.message||"Failed to delete page")}})(e.id),title:"Delete page",children:[(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,yn.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Delete"]})]})})]},e.id))})]})})})]})]})},er=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)("all"),[h,m]=(0,r.useState)("all");(0,r.useEffect)(()=>{g()},[u,h]),(0,r.useEffect)(()=>{if(a){x(a.id);const e=setInterval(()=>{x(a.id)},3e3);return()=>clearInterval(e)}},[a]);const g=async()=>{try{d(!0);const e=localStorage.getItem("adminToken"),a=new URLSearchParams;"all"!==u&&a.append("status",u),"all"!==h&&a.append("priority",h);const n=await fetch("".concat(mn,"/api/admin/reports?").concat(a),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();t(e.reports||[])}}catch(e){console.error("Error fetching reports:",e)}finally{d(!1)}},x=async e=>{try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/reports/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(a.ok){const e=await a.json();i(e.messages||[])}}catch(t){console.error("Error fetching messages:",t)}},f=async()=>{if(o.trim()&&a)try{const e=localStorage.getItem("adminToken");(await fetch("".concat(mn,"/api/admin/reports/").concat(a.id,"/reply"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({message:o})})).ok&&(l(""),x(a.id),g())}catch(e){console.error("Error sending reply:",e)}},v=e=>{switch(e){case"open":return"#f59e0b";case"in_progress":return"#3b82f6";case"resolved":return"#10b981";default:return"#6b7280"}},y=e=>{switch(e){case"urgent":return"#ef4444";case"high":return"#f59e0b";case"medium":return"#3b82f6";case"low":return"#10b981";default:return"#6b7280"}};return(0,yn.jsxs)("div",{style:{padding:"20px"},children:[(0,yn.jsxs)("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yn.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:"600"},children:"User Reports"}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,yn.jsxs)("select",{value:u,onChange:e=>p(e.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:[(0,yn.jsx)("option",{value:"all",children:"All Status"}),(0,yn.jsx)("option",{value:"open",children:"Open"}),(0,yn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,yn.jsx)("option",{value:"resolved",children:"Resolved"}),(0,yn.jsx)("option",{value:"closed",children:"Closed"})]}),(0,yn.jsxs)("select",{value:h,onChange:e=>m(e.target.value),style:{padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px"},children:[(0,yn.jsx)("option",{value:"all",children:"All Priority"}),(0,yn.jsx)("option",{value:"urgent",children:"Urgent"}),(0,yn.jsx)("option",{value:"high",children:"High"}),(0,yn.jsx)("option",{value:"medium",children:"Medium"}),(0,yn.jsx)("option",{value:"low",children:"Low"})]})]})]}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"20px",height:"calc(100vh - 200px)"},children:[(0,yn.jsxs)("div",{style:{width:"350px",border:"1px solid #e5e7eb",borderRadius:"8px",display:"flex",flexDirection:"column",background:"white"},children:[(0,yn.jsx)("div",{style:{padding:"15px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb"},children:(0,yn.jsxs)("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"5px"},children:["Reports (",e.length,")"]})}),(0,yn.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"10px"},children:c?(0,yn.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"Loading..."}):0===e.length?(0,yn.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:"No reports found"}):e.map(e=>(0,yn.jsxs)("div",{onClick:()=>n(e),style:{padding:"12px",marginBottom:"8px",borderRadius:"8px",cursor:"pointer",background:(null===a||void 0===a?void 0:a.id)===e.id?"#f3f4f6":"white",border:(null===a||void 0===a?void 0:a.id)===e.id?"2px solid #3b82f6":"1px solid #e5e7eb",transition:"all 0.2s"},children:[(0,yn.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:e.subject}),(0,yn.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:[e.user_name," \u2022 ",e.user_phone]}),(0,yn.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:new Date(e.created_at).toLocaleString()}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},children:[(0,yn.jsx)("span",{style:{fontSize:"11px",padding:"4px 8px",borderRadius:"4px",background:v(e.status)+"20",color:v(e.status),fontWeight:"600"},children:e.status.replace("_"," ")}),(0,yn.jsx)("span",{style:{fontSize:"11px",padding:"4px 8px",borderRadius:"4px",background:y(e.priority)+"20",color:y(e.priority),fontWeight:"600"},children:e.priority}),e.unread_count>0&&(0,yn.jsxs)("span",{style:{fontSize:"11px",padding:"4px 8px",borderRadius:"4px",background:"#ef4444",color:"white",fontWeight:"600"},children:[e.unread_count," new"]})]})]},e.id))})]}),(0,yn.jsx)("div",{style:{flex:1,border:"1px solid #e5e7eb",borderRadius:"8px",display:"flex",flexDirection:"column",background:"white"},children:a?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("div",{style:{padding:"15px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb"},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:a.subject}),(0,yn.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:[a.user_name," \u2022 ",a.user_phone]})]}),(0,yn.jsxs)("select",{value:a.status,onChange:t=>(async t=>{if(a)try{const r=localStorage.getItem("adminToken");(await fetch("".concat(mn,"/api/admin/reports/").concat(a.id,"/status"),{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok&&(g(),a)&&e.find(e=>e.id===a.id)&&n(ge(ge({},a),{},{status:t}))}catch(r){console.error("Error updating status:",r)}})(t.target.value),style:{padding:"6px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"14px"},children:[(0,yn.jsx)("option",{value:"open",children:"Open"}),(0,yn.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,yn.jsx)("option",{value:"resolved",children:"Resolved"}),(0,yn.jsx)("option",{value:"closed",children:"Closed"})]})]}),(0,yn.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:["Created: ",new Date(a.created_at).toLocaleString()]})]}),(0,yn.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"20px",background:"#f9fafb"},children:s.map(e=>(0,yn.jsx)("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"admin"===e.sender_type?"flex-end":"flex-start"},children:(0,yn.jsxs)("div",{style:{maxWidth:"70%",padding:"12px 16px",borderRadius:"12px",background:"admin"===e.sender_type?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"white",color:"admin"===e.sender_type?"white":"#374151",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsxs)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:[e.sender_name," \u2022 ",new Date(e.created_at).toLocaleTimeString()]}),(0,yn.jsx)("div",{style:{fontSize:"14px",whiteSpace:"pre-wrap"},children:e.message})]})},e.id))}),(0,yn.jsx)("div",{style:{padding:"15px",borderTop:"1px solid #e5e7eb",background:"white"},children:(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,yn.jsx)("input",{type:"text",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&f(),placeholder:"Type your reply...",style:{flex:1,padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"}}),(0,yn.jsx)("button",{onClick:f,disabled:!o.trim(),style:{padding:"12px 24px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:o.trim()?"pointer":"not-allowed",opacity:o.trim()?1:.5},children:"Reply"})]})})]}):(0,yn.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"},children:"Select a report to view and reply"})})]})]})},tr=()=>{var e,t,a;const n=Ra(),[s,i]=(0,r.useState)("users"),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,p]=(0,r.useState)([]),[h,m]=(0,r.useState)(!1),[g,x]=(0,r.useState)([]),[f,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!0),[j,w]=(0,r.useState)("all"),[N,k]=(0,r.useState)([]),[_,S]=(0,r.useState)(!1),[C,P]=(0,r.useState)(!1),[E,T]=(0,r.useState)(null),[A,R]=(0,r.useState)({credits_remaining:"",diamonds:"",free_balance:""}),[z,I]=(0,r.useState)(null),[L,B]=(0,r.useState)({}),[D,O]=(0,r.useState)(null),[F,M]=(0,r.useState)([]),[W,U]=(0,r.useState)([]),[q,V]=(0,r.useState)([]),[H,Y]=(0,r.useState)([]),[J,$]=(0,r.useState)(!1),[G,K]=(0,r.useState)(!1),[Q,X]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(!1),[te,ae]=(0,r.useState)(null),[ne,re]=(0,r.useState)(null),[se,ie]=(0,r.useState)("providers"),[oe,le]=(0,r.useState)([]),[ce,de]=(0,r.useState)([]),[,ue]=(0,r.useState)({}),[,pe]=(0,r.useState)({}),[he,me]=(0,r.useState)({name:"",description:"",image_url:""}),[xe,fe]=(0,r.useState)({category_id:"",name:"",description:"",image_url:""}),ve=e=>{if(!e)return"";const t=String(e).trim().toLowerCase();return"male"===t?"male":"female"===t?"female":"other"===t||"others"===t||"non-binary"===t?"others":t},ye=e=>{const t=ve(e);return"male"===t?"Male":"female"===t?"Female":"others"===t?"Others":e||"Not Provided"},be=e=>{if(!e)return"";if(Array.isArray(e)){const t=e.find(e=>e);return be(t)}if("object"===typeof e){const t=(null===e||void 0===e?void 0:e.url)||(null===e||void 0===e?void 0:e.path)||(null===e||void 0===e?void 0:e.src)||(null===e||void 0===e?void 0:e.image_url);return t?be(t):""}let t=String(e).trim();if(!t)return"";if(t.startsWith("{")||t.startsWith("["))try{const e=JSON.parse(t);return be(e)}catch(a){console.warn("Failed to parse image source JSON:",a)}return t=t.replace(/\\/g,"/"),t},je=e=>{const t=be(e);return t?mn&&t.startsWith(mn)?t.slice(25):t:""},we=e=>{const t=be(e);return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:t.startsWith("//")?"".concat(window.location.protocol).concat(t):t.startsWith("/")?"".concat(mn).concat(t).replace(/([^:]\/)\/+/g,"$1"):"".concat(mn,"/").concat(t).replace(/([^:]\/)\/+/g,"$1"):""},Ne=e=>{var t;const a=be(e),n=je(a),r=n||a;if(!r)return[];const s=(null===(t=r.split("/").pop())||void 0===t?void 0:t.split("?")[0])||"image";return[{url:n||r,filename:s,size:0}]},ke=e=>{if(!e||0===e.length)return"";const t=e[0],a=(null===t||void 0===t?void 0:t.url)||"";return je(a)||a},[_e,Se]=(0,r.useState)(!1),[Ce,Pe]=(0,r.useState)({itemType:"",itemId:null,itemName:""}),Ee=(e,t)=>{if(!z)return!1;if("super_admin"===z.role)return!0;const a=L[e];return a&&a["can_".concat(t)]||!1},Te=async()=>{try{const e=localStorage.getItem("adminToken");if(!e)return void n("/admin/login");const t=await fetch("".concat(mn,"/api/admin/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();I(e.admin),B(e.permissions),console.log("Admin info loaded:",e.admin),console.log("Permissions loaded:",e.permissions)}else{const e=await t.json().catch(()=>({}));console.error("Failed to load admin info:",e),n("/admin/login")}}catch(e){console.error("Error loading admin info:",e),n("/admin/login")}},Ae=[{id:1,brand_name:"TechCorp Solutions",brand_logo:"https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop&crop=center",phone_number:"+91 98765 43210",email:"contact@techcorp.com",status:"active",total_ads:5,total_spent:"\u20b92,500"},{id:2,brand_name:"Fashion Forward",brand_logo:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=100&h=100&fit=crop&crop=center",phone_number:"+91 87654 32109",email:"info@fashionforward.com",status:"active",total_ads:3,total_spent:"\u20b91,800"},{id:3,brand_name:"Foodie Delights",brand_logo:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=100&h=100&fit=crop&crop=center",phone_number:"+91 76543 21098",email:"hello@foodiedelights.com",status:"inactive",total_ads:2,total_spent:"\u20b91,200"}],Re=[{id:1,advertiser:"TechCorp Solutions",name:"Latest Smartphone Launch",media_url:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=300&fit=crop",status:"approved",likes:1250,shares:89,earnings:"\u20b9450",created_at:"2024-01-15"},{id:2,advertiser:"Fashion Forward",name:"Summer Collection 2024",media_url:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop",status:"pending",likes:0,shares:0,earnings:"\u20b90",created_at:"2024-01-20"},{id:3,advertiser:"Foodie Delights",name:"New Restaurant Opening",media_url:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop",status:"rejected",likes:0,shares:0,earnings:"\u20b90",created_at:"2024-01-18"},{id:4,advertiser:"TechCorp Solutions",name:"Gaming Console Sale",media_url:"https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400&h=300&fit=crop",status:"approved",likes:890,shares:45,earnings:"\u20b9320",created_at:"2024-01-12"}],ze=async()=>{try{b(!0);const e=localStorage.getItem("adminToken"),t=e?{Authorization:"Bearer ".concat(e)}:{},[a,n]=await Promise.all([fetch("".concat(mn,"/api/admin/advertisers"),{headers:t}),fetch("".concat(mn,"/api/admin/all-ads"),{headers:t})]);if(a.ok){const e=await a.json();l(e.advertisers)}if(n.ok){const e=await n.json();d(e.ads)}}catch(e){console.error("Error fetching data:",e),l(Ae),d(Re)}finally{b(!1)}};(0,r.useEffect)(()=>{Te(),ze()},[]);const Ie={Users:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),Wallet:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),AdProviders:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),Problems:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),AdSections:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Document:()=>(0,yn.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:[(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 2h7l5 5v13a2 2 0 01-2 2H7a2 2 0 01-2-2V4a2 2 0 012-2z"}),(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2v6h6"})]}),Shop:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),Vendors:()=>(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"20",height:"20",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},Le=[{id:"users",label:"Manage Users",icon:Ie.Users,module:"users",category:"User Management"},{id:"user-wallet",label:"User Wallets",icon:Ie.Wallet,module:"user_wallet",category:"User Management"},{id:"shop-providers",label:"Shop Providers",icon:Ie.Shop,module:"shop_providers",category:"Shop Management"},{id:"pending-providers",label:"Pending Providers",icon:Ie.Shop,module:"pending_providers",category:"Shop Management"},{id:"pending-products",label:"Pending Products",icon:Ie.Shop,module:"pending_products",category:"Shop Management"},{id:"categories",label:"Categories",icon:Ie.Shop,module:"categories",category:"Shop Management"},{id:"subcategories",label:"Subcategories",icon:Ie.Shop,module:"subcategories",category:"Shop Management"},{id:"admin-products",label:"Admin Products",icon:Ie.Shop,module:"admin_products",category:"Product Management"},{id:"admin-orders",label:"Admin Orders",icon:Ie.Shop,module:"admin_orders",category:"Product Management"},{id:"shop-wallet",label:"Shop Wallet",icon:Ie.Wallet,module:"admin_orders",category:"Product Management"},{id:"ad-providers",label:"Registered Advertisers",icon:Ie.AdProviders,module:"ad_providers",category:"Provider Management"},{id:"ad-sections",label:"Manage Advertisers",icon:Ie.AdSections,module:"ad_sections",category:"Additional Sections"},{id:"static-pages",label:"Static Pages",icon:Ie.Document,module:"static_pages",category:"Additional Sections"},{id:"reports",label:"User Reports",icon:Ie.Document,module:"problems",category:"Additional Sections"},{id:"super-admin",label:"Super Admin",icon:Ie.Users,requiresSuperAdmin:!0}].filter(e=>e.requiresSuperAdmin?z&&"super_admin"===z.role:!e.module||Ee(e.module,"view")),Be=e=>{switch(e){case"approved":return"#10b981";case"pending":return"#f59e0b";case"rejected":return"#ef4444";default:return"#6b7280"}},De=async()=>{await ze()},Oe=async()=>{try{$(!0);const e=localStorage.getItem("adminToken");console.log("Fetching shop providers - Admin token:",e?"Found":"Not found");const t=await fetch("".concat(mn,"/api/admin/shop-providers"),{headers:{Authorization:"Bearer ".concat(e)}});if(console.log("Shop providers response status:",t.status),t.ok){const e=await t.json();console.log("Shop providers data:",e),M(e.providers||[])}else{const e=await t.json().catch(()=>({}));console.log("Shop providers error:",e)}}catch(e){console.error("Error fetching shop providers:",e)}finally{$(!1)}},Fe=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/categories"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=((await t.json()).categories||[]).map(e=>{const t=e.image_url,a=be(t);return ge(ge({},e),{},{image_url:a,_raw_image_url:t,display_image_url:we(a)})});V(e),ue({})}}catch(e){console.error("Error fetching categories:",e)}},Me=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/subcategories"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=((await t.json()).subcategories||[]).map(e=>{const t=e.image_url,a=be(t);return ge(ge({},e),{},{image_url:a,_raw_image_url:t,display_image_url:we(a)})});Y(e),pe({})}}catch(e){console.error("Error fetching subcategories:",e)}},We=async()=>{try{K(!0);const e=localStorage.getItem("adminToken");console.log("Fetching pending products - Admin token:",e?"Found":"Not found");const t=await fetch("".concat(mn,"/api/admin/pending-products"),{headers:{Authorization:"Bearer ".concat(e)}});if(console.log("Pending products response status:",t.status),t.ok){const e=await t.json();console.log("Pending products data:",e),U(e.products||[])}else{const e=await t.json().catch(()=>({}));console.error("Failed to fetch pending products:",e)}}catch(e){console.error("Error fetching pending products:",e)}finally{K(!1)}},Ue=async()=>{try{S(!0);const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/user-wallets"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();k(e.wallets||[])}else console.error("Failed to fetch user wallets")}catch(e){console.error("Error fetching user wallets:",e)}finally{S(!1)}},qe=async()=>{try{v(!0);const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/pending-providers"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();x(e.providers||[])}else console.error("Failed to fetch pending providers")}catch(e){console.error("Error fetching pending providers:",e)}finally{v(!1)}},Ve=async(e,t)=>{try{const a=localStorage.getItem("adminToken"),n=await fetch("".concat(mn,"/api/admin/provider-approval"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({provider_id:e,action:t})});if(n.ok){const e=await n.json();O({type:"success",message:e.message}),setTimeout(()=>O(null),3e3),qe(),Oe()}else{const e=await n.json();O({type:"error",message:e.error||"Failed to update provider status"}),setTimeout(()=>O(null),3e3)}}catch(a){console.error("Error updating provider status:",a),O({type:"error",message:"Failed to update provider status"}),setTimeout(()=>O(null),3e3)}},He=async(e,t)=>{try{const a=localStorage.getItem("adminToken"),n=await fetch("".concat(mn,"/api/admin/product-approval"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({product_id:e,action:t})});if(n.ok)O({type:"success",message:"Product ".concat(t,"d successfully!")}),setTimeout(()=>O(null),3e3),We();else{const e=await n.json();O({type:"error",message:e.error||"Failed to ".concat(t," product")}),setTimeout(()=>O(null),3e3)}}catch(a){console.error("Error ".concat(t,"ing product:"),a),O({type:"error",message:"Failed to ".concat(t," product")}),setTimeout(()=>O(null),3e3)}},Ye=async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"? This action cannot be undone and will also delete all their products.')))try{const t=await fetch("".concat(mn,"/api/admin/provider/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}});if(t.ok)O({type:"success",message:"Provider deleted successfully!"}),setTimeout(()=>O(null),3e3),Oe();else{const e=await t.json();O({type:"error",message:e.error||"Failed to delete provider"}),setTimeout(()=>O(null),3e3)}}catch(a){console.error("Error deleting provider:",a),O({type:"error",message:"Failed to delete provider"}),setTimeout(()=>O(null),3e3)}},Je=async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/categories/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)O({type:"success",message:"Category deleted successfully!"}),setTimeout(()=>O(null),3e3),Fe();else{const e=await a.json();O({type:"error",message:e.error||"Failed to delete category"}),setTimeout(()=>O(null),3e3)}}catch(t){console.error("Error deleting category:",t),O({type:"error",message:"Failed to delete category"}),setTimeout(()=>O(null),3e3)}},$e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t,a,n;re(e);const r=null!==(t=null!==(a=null!==(n=e._raw_image_url)&&void 0!==n?n:e.image_url)&&void 0!==a?a:e.display_image_url)&&void 0!==t?t:"";fe({category_id:e.category_id.toString(),name:e.name,description:e.description||"",image_url:je(r)||r||""}),de(Ne(r))}else re(null),fe({category_id:"",name:"",description:"",image_url:""}),de([]);ee(!0)},Ge=async e=>{if(window.confirm("Are you sure you want to delete this subcategory?"))try{const t=localStorage.getItem("adminToken"),a=await fetch("".concat(mn,"/api/admin/subcategories/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(a.ok)O({type:"success",message:"Subcategory deleted successfully!"}),setTimeout(()=>O(null),3e3),Me();else{const e=await a.json();O({type:"error",message:e.error||"Failed to delete subcategory"}),setTimeout(()=>O(null),3e3)}}catch(t){console.error("Error deleting subcategory:",t),O({type:"error",message:"Failed to delete subcategory"}),setTimeout(()=>O(null),3e3)}},Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(ae(e),e){var t,a,n;const r=null!==(t=null!==(a=null!==(n=e._raw_image_url)&&void 0!==n?n:e.image_url)&&void 0!==a?a:e.display_image_url)&&void 0!==t?t:"";me({name:e.name||"",description:e.description||"",image_url:je(r)||r||""}),le(Ne(r))}else me({name:"",description:"",image_url:""}),le([]);X(!0)};(0,r.useEffect)(()=>{"shop"===s?(Ee("shop_providers","view")?ie("providers"):Ee("pending_providers","view")?ie("pending-providers"):Ee("pending_products","view")?ie("products"):Ee("categories","view")?ie("categories"):Ee("subcategories","view")&&ie("subcategories"),Oe(),Fe(),Me(),We(),qe()):"shop-providers"===s?Oe():"pending-providers"===s?qe():"pending-products"===s?We():"categories"===s?Fe():"subcategories"===s?(Me(),Fe()):"users"===s?(async()=>{try{m(!0);const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/users"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();p(e.users||[])}else console.error("Failed to fetch users")}catch(e){console.error("Error fetching users:",e)}finally{m(!1)}})():"user-wallet"===s&&Ue()},[s,L]);return(0,yn.jsxs)("div",{className:"admin-panel",children:[D&&(0,yn.jsx)("div",{className:"notification ".concat(D.type),children:D.message}),(0,yn.jsxs)("div",{className:"admin-header",children:[(0,yn.jsxs)("div",{className:"header-content",children:[(0,yn.jsx)("h1",{children:"Admin Panel"}),(0,yn.jsx)("p",{children:"Manage your dating platform"}),z&&(0,yn.jsxs)("div",{className:"admin-info",children:[(0,yn.jsx)("span",{className:"admin-role",children:"super_admin"===z.role?"Super Admin":"Admin"}),(0,yn.jsxs)("span",{className:"admin-username",children:["Logged in as: ",z.username]}),(0,yn.jsx)("button",{className:"refresh-permissions-btn",onClick:async()=>{try{await Te(),O({type:"success",message:"Permissions refreshed successfully!"}),setTimeout(()=>O(null),3e3)}catch(e){O({type:"error",message:"Failed to refresh permissions"}),setTimeout(()=>O(null),3e3)}},title:"Refresh Permissions",children:"\ud83d\udd04"})]})]}),(0,yn.jsxs)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminLoggedIn"),localStorage.removeItem("adminInfo"),n("/admin/login")},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Back to Home"]})]}),(0,yn.jsx)("div",{className:"admin-tabs",children:Le.map(e=>(0,yn.jsxs)("button",{className:"tab-button ".concat(s===e.id?"active":""),onClick:()=>i(e.id),children:[(0,yn.jsx)("span",{className:"tab-icon",children:(0,yn.jsx)(e.icon,{})}),(0,yn.jsx)("span",{className:"tab-label",children:e.label})]},e.id))}),(0,yn.jsx)("div",{className:"admin-content",children:(()=>{switch(s){case"users":if(!Ee("users","view"))return(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view users."})]});const e=[{label:"All",value:"all"},{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Others",value:"others"}],t=u.filter(e=>"all"===j||ve(e.gender)===j);return(0,yn.jsxs)("div",{className:"users-management",children:[(0,yn.jsxs)("div",{className:"content-header",children:[(0,yn.jsx)("h3",{children:"Users Management"}),(0,yn.jsx)("p",{children:"View and manage all registered users"})]}),(0,yn.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px"},children:e.map(e=>(0,yn.jsx)("button",{onClick:()=>w(e.value),style:{padding:"6px 14px",borderRadius:"999px",border:e.value===j?"1px solid #ffffff":"1px solid rgba(255,255,255,0.3)",background:e.value===j?"#1e293b":"transparent",color:"#ffffff",fontSize:"0.9rem",cursor:"pointer",transition:"all 0.2s ease"},children:e.label},e.value))}),h?(0,yn.jsx)("div",{className:"loading",children:"Loading users..."}):(0,yn.jsx)("div",{className:"users-list",children:0===t.length?(0,yn.jsx)("div",{className:"no-data",children:"No users found"}):t.map(e=>(0,yn.jsxs)("div",{className:"user-card",children:[(0,yn.jsxs)("div",{className:"user-header",children:[(0,yn.jsx)("h4",{children:e.name||"No Name"}),(0,yn.jsx)("span",{className:"status-badge active",children:"Active"})]}),(0,yn.jsxs)("div",{className:"user-details",children:[(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.phone_number})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Gender:"}),(0,yn.jsx)("span",{className:"value",children:ye(e.gender)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Address:"}),(0,yn.jsx)("span",{className:"value",children:e.address||"Not provided"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"State:"}),(0,yn.jsx)("span",{className:"value",children:e.state||"Not provided"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Joined:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.created_at).toLocaleDateString()})]})]})]},e.id))})]});case"user-wallet":return Ee("user_wallet","view")?(0,yn.jsxs)("div",{className:"user-wallets-management",children:[(0,yn.jsxs)("div",{className:"content-header",children:[(0,yn.jsx)("h3",{children:"User Wallets Management"}),(0,yn.jsx)("p",{children:"View and manage user wallet balances, credits, and diamonds"})]}),_?(0,yn.jsx)("div",{className:"loading",children:"Loading wallets..."}):(0,yn.jsx)("div",{className:"wallets-grid",children:0===N.length?(0,yn.jsx)("div",{className:"no-data",children:"No user wallets found"}):N.map(e=>{var t,a,n,r;return(0,yn.jsxs)("div",{className:"wallet-card",children:[(0,yn.jsxs)("div",{className:"wallet-header",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h4",{children:e.user_name}),(0,yn.jsx)("p",{className:"wallet-phone",children:e.user_phone})]}),Ee("user_wallet","edit")&&(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{T(e),R({credits_remaining:e.credits_remaining||0,diamonds:e.diamonds||0,free_balance:e.free_balance||0}),P(!0)})(e),style:{padding:"8px 16px",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Edit Wallet"})]}),(0,yn.jsxs)("div",{className:"wallet-details",children:[(0,yn.jsxs)("div",{className:"wallet-item",children:[(0,yn.jsx)("div",{className:"wallet-label",children:"\ud83d\udc8e Credits (Seconds)"}),(0,yn.jsx)("div",{className:"wallet-value",children:null===(t=e.credits_remaining)||void 0===t?void 0:t.toLocaleString()}),(0,yn.jsxs)("div",{className:"wallet-sublabel",children:["\u2248 ",e.credits_in_minutes," minutes"]})]}),(0,yn.jsxs)("div",{className:"wallet-item",children:[(0,yn.jsx)("div",{className:"wallet-label",children:"\ud83d\udca0 Diamonds"}),(0,yn.jsx)("div",{className:"wallet-value",children:null===(a=e.diamonds)||void 0===a?void 0:a.toLocaleString()})]}),(0,yn.jsxs)("div",{className:"wallet-item",children:[(0,yn.jsx)("div",{className:"wallet-label",children:"\ud83d\udcb0 Free Balance"}),(0,yn.jsxs)("div",{className:"wallet-value",children:["\u20b9",null===(n=e.free_balance)||void 0===n?void 0:n.toFixed(2)]})]}),(0,yn.jsxs)("div",{className:"wallet-item",children:[(0,yn.jsx)("div",{className:"wallet-label",children:"\ud83d\udcca Total Purchased"}),(0,yn.jsxs)("div",{className:"wallet-value",children:[null===(r=e.total_purchased)||void 0===r?void 0:r.toLocaleString()," credits"]})]})]}),(0,yn.jsx)("div",{className:"wallet-footer",children:(0,yn.jsxs)("div",{className:"wallet-dates",children:[(0,yn.jsxs)("span",{className:"wallet-date",children:[(0,yn.jsx)("strong",{children:"Last Updated:"})," ",e.last_updated?new Date(e.last_updated).toLocaleString():"N/A"]}),(0,yn.jsxs)("span",{className:"wallet-date",children:[(0,yn.jsx)("strong",{children:"Created:"})," ",e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"]})]})})]},e.id)})})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view user wallet."})]});case"ad-providers":return Ee("ad_providers","view")?(0,yn.jsxs)("div",{className:"ad-providers-content",children:[(0,yn.jsxs)("div",{className:"content-header",style:{position:"relative"},children:[(0,yn.jsx)("h3",{children:"Registered Advertisers"}),(0,yn.jsx)("p",{children:"Manage and monitor advertising partners"}),(0,yn.jsx)("button",{onClick:De,"aria-label":"Refresh advertisers",style:{position:"absolute",top:"-8px",right:"-8px",width:"32px",height:"32px",border:"none",background:"transparent",cursor:"pointer",opacity:0,transition:"opacity 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.opacity="0.4",onMouseLeave:e=>e.currentTarget.style.opacity="0",children:"\ud83d\udd04"})]}),y?(0,yn.jsx)("div",{className:"loading",children:"Loading advertisers..."}):(0,yn.jsx)("div",{className:"advertisers-list",children:o.map(e=>(0,yn.jsxs)("div",{className:"advertiser-card",children:[(0,yn.jsx)("div",{className:"advertiser-logo",children:e.brand_logo?(0,yn.jsx)("img",{src:e.brand_logo,alt:e.brand_name,className:"brand-logo"}):(0,yn.jsx)("div",{className:"brand-logo-placeholder",children:(0,yn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,yn.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,yn.jsx)("polyline",{points:"21,15 16,10 5,21"})]})})}),(0,yn.jsxs)("div",{className:"advertiser-info",children:[(0,yn.jsxs)("div",{className:"advertiser-header",children:[(0,yn.jsx)("h4",{children:e.business_name||e.brand_name}),(0,yn.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})]}),(0,yn.jsxs)("div",{className:"advertiser-details",children:[(0,yn.jsxs)("p",{children:[(0,yn.jsx)("strong",{children:"Business Name:"})," ",e.business_name||e.brand_name]}),(0,yn.jsxs)("p",{children:[(0,yn.jsx)("strong",{children:"Phone:"})," ",e.phone_number]}),(0,yn.jsxs)("p",{children:[(0,yn.jsx)("strong",{children:"Email:"})," ",e.email]})]}),(0,yn.jsxs)("div",{className:"advertiser-stats",children:[(0,yn.jsxs)("div",{className:"stat",children:[(0,yn.jsx)("span",{className:"stat-label",children:"Total Ads"}),(0,yn.jsx)("span",{className:"stat-value",children:e.total_ads})]}),(0,yn.jsxs)("div",{className:"stat",children:[(0,yn.jsx)("span",{className:"stat-label",children:"Total Spent"}),(0,yn.jsx)("span",{className:"stat-value",children:e.total_spent})]})]})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view advertisers."})]});case"problems":return Ee("problems","view")?(0,yn.jsxs)("div",{className:"coming-soon",children:[(0,yn.jsx)("div",{className:"coming-soon-icon",children:(0,yn.jsx)(Ie.Problems,{})}),(0,yn.jsx)("h3",{children:"Problem Management"}),(0,yn.jsx)("p",{children:"Problem tracking and resolution features are coming soon. You'll be able to manage user reports and issues."})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view problems."})]});case"ad-sections":return Ee("ad_sections","view")?(0,yn.jsx)(Qn,{advertisers:o,ads:c,loading:y,onRefresh:De}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to manage advertisers."})]});case"shop":return Ee("shop_providers","view")||Ee("pending_providers","view")||Ee("pending_products","view")||Ee("categories","view")||Ee("subcategories","view")?(0,yn.jsxs)("div",{className:"shop-management",children:[(0,yn.jsxs)("div",{className:"shop-tabs",children:[Ee("shop_providers","view")&&(0,yn.jsx)("button",{className:"shop-tab ".concat("providers"===se?"active":""),onClick:()=>ie("providers"),children:"Shop Providers"}),Ee("pending_providers","view")&&(0,yn.jsx)("button",{className:"shop-tab ".concat("pending-providers"===se?"active":""),onClick:()=>ie("pending-providers"),children:"Pending Providers"}),Ee("pending_products","view")&&(0,yn.jsx)("button",{className:"shop-tab ".concat("products"===se?"active":""),onClick:()=>ie("products"),children:"Pending Products"}),Ee("categories","view")&&(0,yn.jsx)("button",{className:"shop-tab ".concat("categories"===se?"active":""),onClick:()=>ie("categories"),children:"Categories"}),Ee("subcategories","view")&&(0,yn.jsx)("button",{className:"shop-tab ".concat("subcategories"===se?"active":""),onClick:()=>ie("subcategories"),children:"Subcategories"})]}),"providers"===se&&Ee("shop_providers","view")?(0,yn.jsxs)("div",{className:"shop-providers-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Shop Providers"}),(0,yn.jsx)("p",{children:"All approved shop providers"})]}),J?(0,yn.jsx)("div",{className:"loading",children:"Loading providers..."}):(0,yn.jsx)("div",{className:"providers-grid",children:0===F.length?(0,yn.jsx)("div",{className:"no-data",children:"No approved shop providers found"}):F.map(e=>(0,yn.jsxs)("div",{className:"provider-card",children:[(0,yn.jsxs)("div",{className:"provider-header",children:[(0,yn.jsx)("h4",{style:{color:"#ffffff"},children:e.business_name||"N/A"}),(0,yn.jsx)("span",{className:"status-badge",style:{backgroundColor:Be(e.is_approved?"approved":"pending")},children:e.is_approved?"\u2713 Approved":"\u23f3 Pending"})]}),(0,yn.jsxs)("div",{className:"provider-details",children:[(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udccb Business Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Business Type:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.business_type||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Business Phone:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.business_phone||e.phone_number||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Business Email:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.business_email||e.email||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Business Address:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.business_address||e.address||"N/A"})]}),e.business_license&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Business License:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.business_license})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udc64 Owner Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Owner Name:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.owner_name||e.user_name||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"User Phone:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.user_phone||e.business_phone||"N/A"})]}),e.user_id&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"User ID:"}),(0,yn.jsxs)("span",{className:"value",style:{color:"#000"},children:["#",e.user_id]})]})]}),(e.tax_id||e.gst_number||e.bank_account_details||e.bank_account)&&(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udcb0 Financial Information"}),(e.tax_id||e.gst_number)&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"GST Number:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.tax_id||e.gst_number||"N/A"})]}),e.bank_account_details&&"object"===typeof e.bank_account_details&&Object.keys(e.bank_account_details).length>0&&(0,yn.jsxs)("div",{className:"bank-details",children:[(0,yn.jsx)("span",{className:"label",style:{fontWeight:"bold",display:"block",marginBottom:"8px",color:"#000"},children:"Bank Account Details:"}),e.bank_account_details.account_number&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Account Number:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.bank_account_details.account_number})]}),e.bank_account_details.ifsc&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"IFSC Code:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.bank_account_details.ifsc})]}),e.bank_account_details.bank_name&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Bank Name:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.bank_account_details.bank_name})]}),e.bank_account_details.account_holder&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Account Holder:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.bank_account_details.account_holder})]})]}),(!e.bank_account_details||"object"===typeof e.bank_account_details&&0===Object.keys(e.bank_account_details||{}).length)&&e.bank_account&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Bank Account:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#666",fontStyle:"italic"},children:"string"===typeof e.bank_account?e.bank_account.substring(0,100):"Data format issue"})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\u2705 Approval Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Applied On:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:e.created_at?new Date(e.created_at).toLocaleString():"N/A"})]}),e.approval_date&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Approval Date:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:new Date(e.approval_date).toLocaleString()})]}),e.approved_at&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Approved At:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#000"},children:new Date(e.approved_at).toLocaleString()})]}),e.approved_by&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",style:{color:"#000"},children:"Approved By:"}),(0,yn.jsxs)("span",{className:"value",style:{color:"#000"},children:["Admin #",e.approved_by]})]})]})]}),(0,yn.jsxs)("div",{className:"provider-actions",children:[e.is_approved?(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>Ve(e.id,"reject"),children:"\u2717 Revoke Approval"}):(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("button",{className:"btn-approve",onClick:()=>Ve(e.id,"approve"),children:"\u2713 Approve"}),(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>Ve(e.id,"reject"),children:"\u2717 Reject"})]}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>Ye(e.id,e.business_name),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginLeft:"8px"},children:"\ud83d\uddd1\ufe0f Delete"})]})]},e.id))})]}):"pending-providers"===se&&Ee("pending_providers","view")?(0,yn.jsxs)("div",{className:"pending-providers-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Pending Provider Applications"}),(0,yn.jsx)("p",{children:"Review and approve provider applications"})]}),f?(0,yn.jsx)("div",{className:"loading",children:"Loading providers..."}):(0,yn.jsx)("div",{className:"providers-grid",children:0===g.length?(0,yn.jsx)("div",{className:"no-data",children:"No pending provider applications found"}):g.map(e=>(0,yn.jsxs)("div",{className:"provider-card",children:[(0,yn.jsxs)("div",{className:"provider-header",children:[(0,yn.jsx)("h4",{style:{color:"#ffffff"},children:e.business_name||"N/A"}),(0,yn.jsx)("span",{className:"status-badge pending",children:"\u23f3 Pending Review"})]}),(0,yn.jsxs)("div",{className:"provider-details",children:[(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udccb Business Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Type:"}),(0,yn.jsx)("span",{className:"value",children:e.business_type||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.business_phone||e.phone_number||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Email:"}),(0,yn.jsx)("span",{className:"value",children:e.business_email||e.email||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Address:"}),(0,yn.jsx)("span",{className:"value",children:e.business_address||e.address||"N/A"})]}),e.business_license&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business License:"}),(0,yn.jsx)("span",{className:"value",children:e.business_license})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udc64 Owner Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Owner Name:"}),(0,yn.jsx)("span",{className:"value",children:e.owner_name||e.user_name||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"User Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.user_phone||e.business_phone||e.phone_number||"N/A"})]}),e.user_id&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"User ID:"}),(0,yn.jsxs)("span",{className:"value",children:["#",e.user_id]})]})]}),(e.tax_id||e.gst_number||e.bank_account_details||e.bank_account)&&(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udcb0 Financial Information"}),(e.tax_id||e.gst_number)&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"GST Number:"}),(0,yn.jsx)("span",{className:"value",children:e.tax_id||e.gst_number||"N/A"})]}),e.bank_account_details&&"object"===typeof e.bank_account_details&&Object.keys(e.bank_account_details).length>0&&(0,yn.jsxs)("div",{className:"bank-details",children:[(0,yn.jsx)("span",{className:"label",style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Bank Account Details:"}),e.bank_account_details.account_number&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Account Number:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.account_number})]}),e.bank_account_details.ifsc&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"IFSC Code:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.ifsc})]}),e.bank_account_details.bank_name&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Bank Name:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.bank_name})]}),e.bank_account_details.account_holder&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Account Holder:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.account_holder})]})]}),(!e.bank_account_details||"object"===typeof e.bank_account_details&&0===Object.keys(e.bank_account_details||{}).length)&&e.bank_account&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Bank Account:"}),(0,yn.jsx)("span",{className:"value",style:{color:"#999",fontStyle:"italic"},children:"string"===typeof e.bank_account?e.bank_account.substring(0,100):"Data format issue"})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",style:{color:"#ffffff"},children:"\ud83d\udcc5 Application Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Applied On:"}),(0,yn.jsx)("span",{className:"value",children:e.created_at?new Date(e.created_at).toLocaleString():"N/A"})]}),e.approval_date&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approval Date:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.approval_date).toLocaleString()})]}),e.approved_at&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approved At:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.approved_at).toLocaleString()})]}),e.approved_by&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approved By:"}),(0,yn.jsxs)("span",{className:"value",children:["Admin #",e.approved_by]})]})]})]}),(0,yn.jsxs)("div",{className:"provider-actions",children:[(0,yn.jsx)("button",{className:"btn-approve",onClick:()=>Ve(e.id,"approve"),children:"\u2713 Approve Provider"}),(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>Ve(e.id,"reject"),children:"\u2717 Reject Provider"})]})]},e.id))})]}):"products"===se&&Ee("pending_products","view")?(0,yn.jsxs)("div",{className:"pending-products-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Pending Products"}),(0,yn.jsx)("p",{children:"Review and approve products from providers"})]}),G?(0,yn.jsx)("div",{className:"loading",children:"Loading products..."}):(0,yn.jsx)("div",{className:"products-grid",children:0===W.length?(0,yn.jsx)("div",{className:"no-data",children:"No pending products found"}):W.map(e=>(0,yn.jsxs)("div",{className:"product-card",children:[(0,yn.jsxs)("div",{className:"product-header",children:[(0,yn.jsx)("h4",{children:e.title}),(0,yn.jsx)("span",{className:"status-badge pending",children:"Pending Review"})]}),(0,yn.jsxs)("div",{className:"product-details",children:[(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Provider:"}),(0,yn.jsx)("span",{className:"value",children:e.provider_name})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Category:"}),(0,yn.jsx)("span",{className:"value",children:e.category_name})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Price:"}),(0,yn.jsxs)("span",{className:"value",children:["\u20b9",e.original_price]})]}),e.discounted_price&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Discounted Price:"}),(0,yn.jsxs)("span",{className:"value",children:["\u20b9",e.discounted_price]})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Stock:"}),(0,yn.jsx)("span",{className:"value",children:e.stock_quantity})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Description:"}),(0,yn.jsx)("span",{className:"value",children:e.description})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Submitted:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,yn.jsxs)("div",{className:"product-actions",children:[(0,yn.jsx)("button",{className:"btn-approve",onClick:()=>He(e.id,"approve"),children:"\u2713 Approve Product"}),(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>He(e.id,"reject"),children:"\u2717 Reject Product"})]})]},e.id))})]}):"categories"===se&&Ee("categories","view")?(0,yn.jsxs)("div",{className:"categories-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Categories"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>Ke(),children:"+ Add Category"})]}),(0,yn.jsx)("div",{className:"categories-grid",children:0===q.length?(0,yn.jsx)("div",{className:"no-data",children:"No categories found"}):q.map(e=>(0,yn.jsxs)("div",{className:"category-card",children:[(0,yn.jsxs)("div",{className:"category-image",style:{marginBottom:"12px",borderRadius:"10px",overflow:"hidden",background:"#f3f4f6",height:"140px",position:"relative"},children:[e.image_url?(0,yn.jsx)("img",{src:e.image_url.startsWith("http")?e.image_url:"".concat(mn).concat(e.image_url),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"placeholder-image",style:{display:e.image_url?"none":"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",color:"white",fontSize:"32px",fontWeight:"700",letterSpacing:"2px",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:e.name.substring(0,2).toUpperCase()})]}),(0,yn.jsxs)("div",{className:"category-header",children:[(0,yn.jsx)("h4",{children:e.name}),(0,yn.jsx)("span",{className:"status-badge ".concat(e.is_active?"active":"inactive"),children:e.is_active?"Active":"Inactive"})]}),(0,yn.jsx)("p",{className:"category-description",children:e.description}),(0,yn.jsx)("div",{className:"category-meta",children:(0,yn.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})}),(0,yn.jsxs)("div",{className:"category-actions",children:[(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>Ke(e),children:"Edit"}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>Je(e.id),children:"Delete"})]})]},e.id))})]}):"subcategories"===se&&Ee("subcategories","view")?(0,yn.jsxs)("div",{className:"subcategories-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Subcategories"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>$e(),children:"+ Add Subcategory"})]}),(0,yn.jsx)("div",{className:"subcategories-grid",children:0===H.length?(0,yn.jsx)("div",{className:"no-data",children:"No subcategories found"}):H.map(e=>(0,yn.jsxs)("div",{className:"subcategory-card",children:[(0,yn.jsxs)("div",{className:"subcategory-image",style:{marginBottom:"12px",borderRadius:"10px",overflow:"hidden",background:"#f3f4f6",height:"120px",position:"relative"},children:[e.image_url?(0,yn.jsx)("img",{src:e.image_url.startsWith("http")?e.image_url:"".concat(mn).concat(e.image_url),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"placeholder-image",style:{display:e.image_url?"none":"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",color:"white",fontSize:"24px",fontWeight:"700",letterSpacing:"1px",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:e.name.substring(0,2).toUpperCase()})]}),(0,yn.jsxs)("div",{className:"subcategory-header",children:[(0,yn.jsx)("h4",{children:e.name}),(0,yn.jsx)("span",{className:"status-badge ".concat(e.is_active?"active":"inactive"),children:e.is_active?"Active":"Inactive"})]}),(0,yn.jsx)("p",{className:"subcategory-description",children:e.description}),(0,yn.jsxs)("div",{className:"subcategory-meta",children:[(0,yn.jsxs)("span",{children:["Parent: ",e.category_name]}),(0,yn.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,yn.jsxs)("div",{className:"subcategory-actions",children:[(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>$e(e),children:"Edit"}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>Ge(e.id),children:"Delete"})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"no-permission",children:[(0,yn.jsx)("h3",{children:"No Access"}),(0,yn.jsx)("p",{children:"You don't have permission to view any shop management sections."})]})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view shop management."})]});case"shop-providers":return Ee("shop_providers","view")?(0,yn.jsxs)("div",{className:"shop-providers-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Shop Providers"}),(0,yn.jsx)("p",{children:"All approved shop providers"})]}),J?(0,yn.jsx)("div",{className:"loading",children:"Loading providers..."}):(0,yn.jsx)("div",{className:"providers-grid",children:0===F.length?(0,yn.jsx)("div",{className:"no-data",children:"No approved shop providers found"}):F.map(e=>(0,yn.jsxs)("div",{className:"provider-card",children:[(0,yn.jsxs)("div",{className:"provider-header",children:[(0,yn.jsx)("h4",{children:e.business_name||"N/A"}),(0,yn.jsx)("span",{className:"status-badge",style:{backgroundColor:Be(e.is_approved?"approved":"pending")},children:e.is_approved?"\u2713 Approved":"\u23f3 Pending"})]}),(0,yn.jsxs)("div",{className:"provider-details",children:[(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udccb Business Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Type:"}),(0,yn.jsx)("span",{className:"value",children:e.business_type||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.business_phone||e.phone_number||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Email:"}),(0,yn.jsx)("span",{className:"value",children:e.business_email||e.email||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Address:"}),(0,yn.jsx)("span",{className:"value",children:e.business_address||e.address||"N/A"})]}),e.business_license&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business License:"}),(0,yn.jsx)("span",{className:"value",children:e.business_license})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udc64 Owner Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Owner Name:"}),(0,yn.jsx)("span",{className:"value",children:e.owner_name||e.user_name||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"User Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.user_phone||e.business_phone||"N/A"})]}),e.user_id&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"User ID:"}),(0,yn.jsxs)("span",{className:"value",children:["#",e.user_id]})]})]}),(e.tax_id||e.gst_number||e.bank_account_details)&&(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udcb0 Financial Information"}),(e.tax_id||e.gst_number)&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"GST Number:"}),(0,yn.jsx)("span",{className:"value",children:e.tax_id||e.gst_number||"N/A"})]}),e.bank_account_details&&(0,yn.jsxs)("div",{className:"bank-details",children:[(0,yn.jsx)("span",{className:"label",style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Bank Account Details:"}),e.bank_account_details.account_number&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Account Number:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.account_number})]}),e.bank_account_details.ifsc&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"IFSC Code:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.ifsc})]}),e.bank_account_details.bank_name&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Bank Name:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.bank_name})]}),e.bank_account_details.account_holder&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Account Holder:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.account_holder})]})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\u2705 Approval Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Applied On:"}),(0,yn.jsx)("span",{className:"value",children:e.created_at?new Date(e.created_at).toLocaleString():"N/A"})]}),e.approval_date&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approval Date:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.approval_date).toLocaleString()})]}),e.approved_at&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approved At:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.approved_at).toLocaleString()})]}),e.approved_by&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approved By:"}),(0,yn.jsxs)("span",{className:"value",children:["Admin #",e.approved_by]})]})]})]}),(0,yn.jsxs)("div",{className:"provider-actions",children:[e.is_approved?(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>Ve(e.id,"reject"),children:"\u2717 Revoke Approval"}):(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("button",{className:"btn-approve",onClick:()=>Ve(e.id,"approve"),children:"\u2713 Approve"}),(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>Ve(e.id,"reject"),children:"\u2717 Reject"})]}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>Ye(e.id,e.business_name),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginLeft:"8px"},children:"\ud83d\uddd1\ufe0f Delete"})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view shop providers."})]});case"pending-providers":return Ee("pending_providers","view")?(0,yn.jsxs)("div",{className:"pending-providers-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Pending Provider Applications"}),(0,yn.jsx)("p",{children:"Review and approve provider applications"})]}),f?(0,yn.jsx)("div",{className:"loading",children:"Loading providers..."}):(0,yn.jsx)("div",{className:"providers-grid",children:0===g.length?(0,yn.jsx)("div",{className:"no-data",children:"No pending provider applications found"}):g.map(e=>(0,yn.jsxs)("div",{className:"provider-card",children:[(0,yn.jsxs)("div",{className:"provider-header",children:[(0,yn.jsx)("h4",{children:e.business_name||"N/A"}),(0,yn.jsx)("span",{className:"status-badge pending",children:"\u23f3 Pending Review"})]}),(0,yn.jsxs)("div",{className:"provider-details",children:[(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udccb Business Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Type:"}),(0,yn.jsx)("span",{className:"value",children:e.business_type||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.business_phone||e.phone_number||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Email:"}),(0,yn.jsx)("span",{className:"value",children:e.business_email||e.email||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business Address:"}),(0,yn.jsx)("span",{className:"value",children:e.business_address||e.address||"N/A"})]}),e.business_license&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Business License:"}),(0,yn.jsx)("span",{className:"value",children:e.business_license})]})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udc64 Owner Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Owner Name:"}),(0,yn.jsx)("span",{className:"value",children:e.owner_name||e.user_name||"N/A"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"User Phone:"}),(0,yn.jsx)("span",{className:"value",children:e.user_phone||e.business_phone||e.phone_number||"N/A"})]}),e.user_id&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"User ID:"}),(0,yn.jsxs)("span",{className:"value",children:["#",e.user_id]})]})]}),(e.tax_id||e.gst_number||e.bank_account_details)&&(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udcb0 Financial Information"}),(e.tax_id||e.gst_number)&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"GST Number:"}),(0,yn.jsx)("span",{className:"value",children:e.tax_id||e.gst_number||"N/A"})]}),e.bank_account_details&&(0,yn.jsxs)("div",{className:"bank-details",children:[(0,yn.jsx)("span",{className:"label",style:{fontWeight:"bold",display:"block",marginBottom:"8px"},children:"Bank Account Details:"}),e.bank_account_details.account_number&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Account Number:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.account_number})]}),e.bank_account_details.ifsc&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"IFSC Code:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.ifsc})]}),e.bank_account_details.bank_name&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Bank Name:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.bank_name})]}),e.bank_account_details.account_holder&&(0,yn.jsxs)("div",{className:"detail-row nested",children:[(0,yn.jsx)("span",{className:"label",children:"Account Holder:"}),(0,yn.jsx)("span",{className:"value",children:e.bank_account_details.account_holder})]})]})]}),e.aadhar_proof_url&&(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83c\udd94 Identity Proof"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Aadhar Proof:"}),(0,yn.jsx)("a",{href:e.aadhar_proof_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline",display:"inline-block"},children:"View Aadhar Proof"})]}),!e.aadhar_proof_url.toLowerCase().endsWith(".pdf")&&(0,yn.jsx)("div",{style:{marginTop:"10px"},children:(0,yn.jsx)("img",{src:e.aadhar_proof_url,alt:"Aadhar proof",style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"4px",border:"1px solid #ddd"}})})]}),(0,yn.jsxs)("div",{className:"info-section",children:[(0,yn.jsx)("h5",{className:"section-title",children:"\ud83d\udcc5 Application Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Applied On:"}),(0,yn.jsx)("span",{className:"value",children:e.created_at?new Date(e.created_at).toLocaleString():"N/A"})]}),e.approval_date&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approval Date:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.approval_date).toLocaleString()})]}),e.approved_at&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approved At:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.approved_at).toLocaleString()})]}),e.approved_by&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Approved By:"}),(0,yn.jsxs)("span",{className:"value",children:["Admin #",e.approved_by]})]})]})]}),(0,yn.jsxs)("div",{className:"provider-actions",children:[(0,yn.jsx)("button",{className:"btn-approve",onClick:()=>Ve(e.id,"approve"),children:"\u2713 Approve Provider"}),(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>Ve(e.id,"reject"),children:"\u2717 Reject Provider"})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view pending providers."})]});case"pending-products":return Ee("pending_products","view")?(0,yn.jsxs)("div",{className:"pending-products-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Pending Products"}),(0,yn.jsx)("p",{children:"Review and approve products from providers"})]}),G?(0,yn.jsx)("div",{className:"loading",children:"Loading products..."}):(0,yn.jsx)("div",{className:"products-grid",children:0===W.length?(0,yn.jsx)("div",{className:"no-data",children:"No pending products found"}):W.map(e=>(0,yn.jsxs)("div",{className:"product-card",children:[(0,yn.jsxs)("div",{className:"product-header",children:[(0,yn.jsx)("h4",{children:e.title}),(0,yn.jsx)("span",{className:"status-badge pending",children:"Pending Review"})]}),(0,yn.jsxs)("div",{className:"product-details",children:[(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Provider:"}),(0,yn.jsx)("span",{className:"value",children:e.provider_name})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Category:"}),(0,yn.jsx)("span",{className:"value",children:e.category_name})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Price:"}),(0,yn.jsxs)("span",{className:"value",children:["\u20b9",e.original_price]})]}),e.discounted_price&&(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Discounted Price:"}),(0,yn.jsxs)("span",{className:"value",children:["\u20b9",e.discounted_price]})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Stock:"}),(0,yn.jsx)("span",{className:"value",children:e.stock_quantity})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Description:"}),(0,yn.jsx)("span",{className:"value",children:e.description})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("span",{className:"label",children:"Submitted:"}),(0,yn.jsx)("span",{className:"value",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,yn.jsxs)("div",{className:"product-actions",children:[(0,yn.jsx)("button",{className:"btn-approve",onClick:()=>He(e.id,"approve"),children:"\u2713 Approve Product"}),(0,yn.jsx)("button",{className:"btn-reject",onClick:()=>He(e.id,"reject"),children:"\u2717 Reject Product"})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view pending products."})]});case"categories":return Ee("categories","view")?(0,yn.jsxs)("div",{className:"categories-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Categories"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>Ke(),children:"+ Add Category"})]}),(0,yn.jsx)("div",{className:"categories-grid",children:0===q.length?(0,yn.jsx)("div",{className:"no-data",children:"No categories found"}):q.map(e=>(0,yn.jsxs)("div",{className:"category-card",children:[(0,yn.jsxs)("div",{className:"category-image",style:{marginBottom:"12px",borderRadius:"10px",overflow:"hidden",background:"#f3f4f6",height:"140px",position:"relative"},children:[e.image_url?(0,yn.jsx)("img",{src:e.image_url.startsWith("http")?e.image_url:"".concat(mn).concat(e.image_url),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"placeholder-image",style:{display:e.image_url?"none":"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",color:"white",fontSize:"32px",fontWeight:"700",letterSpacing:"2px",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:e.name.substring(0,2).toUpperCase()})]}),(0,yn.jsxs)("div",{className:"category-header",children:[(0,yn.jsx)("h4",{children:e.name}),(0,yn.jsx)("span",{className:"status-badge ".concat(e.is_active?"active":"inactive"),children:e.is_active?"Active":"Inactive"})]}),(0,yn.jsx)("p",{className:"category-description",children:e.description}),(0,yn.jsx)("div",{className:"category-meta",children:(0,yn.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})}),(0,yn.jsxs)("div",{className:"category-actions",children:[(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>Ke(e),children:"Edit"}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>Je(e.id),children:"Delete"})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view categories."})]});case"subcategories":return Ee("subcategories","view")?(0,yn.jsxs)("div",{className:"subcategories-section",children:[(0,yn.jsxs)("div",{className:"section-header",children:[(0,yn.jsx)("h3",{children:"Subcategories"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>$e(),children:"+ Add Subcategory"})]}),(0,yn.jsx)("div",{className:"subcategories-grid",children:0===H.length?(0,yn.jsx)("div",{className:"no-data",children:"No subcategories found"}):H.map(e=>(0,yn.jsxs)("div",{className:"subcategory-card",children:[(0,yn.jsxs)("div",{className:"subcategory-image",style:{marginBottom:"12px",borderRadius:"10px",overflow:"hidden",background:"#f3f4f6",height:"120px",position:"relative"},children:[e.image_url?(0,yn.jsx)("img",{src:e.image_url.startsWith("http")?e.image_url:"".concat(mn).concat(e.image_url),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"placeholder-image",style:{display:e.image_url?"none":"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)",color:"white",fontSize:"24px",fontWeight:"700",letterSpacing:"1px",textShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:e.name.substring(0,2).toUpperCase()})]}),(0,yn.jsxs)("div",{className:"subcategory-header",children:[(0,yn.jsx)("h4",{children:e.name}),(0,yn.jsx)("span",{className:"status-badge ".concat(e.is_active?"active":"inactive"),children:e.is_active?"Active":"Inactive"})]}),(0,yn.jsx)("p",{className:"subcategory-description",children:e.description}),(0,yn.jsxs)("div",{className:"subcategory-meta",children:[(0,yn.jsxs)("span",{children:["Parent: ",e.category_name]}),(0,yn.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,yn.jsxs)("div",{className:"subcategory-actions",children:[(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>$e(e),children:"Edit"}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>Ge(e.id),children:"Delete"})]})]},e.id))})]}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to view subcategories."})]});case"admin-products":return Ee("admin_products","view")?(0,yn.jsx)(Vn,{}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to manage admin products."})]});case"admin-orders":return Ee("admin_orders","view")?(0,yn.jsx)($n,{}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to manage orders."})]});case"shop-wallet":return(0,yn.jsx)(Gn,{});case"static-pages":return Ee("static_pages","view")?(0,yn.jsx)(Zn,{}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You don't have permission to manage static pages."})]});case"reports":return(0,yn.jsx)(er,{});case"super-admin":return z&&"super_admin"===z.role?(0,yn.jsx)(Wn,{}):(0,yn.jsxs)("div",{className:"access-denied",children:[(0,yn.jsx)("h3",{children:"Access Denied"}),(0,yn.jsx)("p",{children:"You need Super Admin privileges to access this section."})]});default:return(0,yn.jsx)("div",{children:"Select a tab to view content"})}})()}),Q&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>X(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:te?"Edit Category":"Add New Category"}),(0,yn.jsx)("button",{className:"close-modal",onClick:()=>X(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=te?"".concat(mn,"/api/admin/categories/").concat(te.id):"".concat(mn,"/api/admin/categories"),t=te?"PUT":"POST",a=localStorage.getItem("adminToken"),n={name:he.name,description:he.description,image_url:he.image_url||""},r=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});if(r.ok)X(!1),ae(null),me({name:"",description:"",image_url:""}),le([]),O({type:"success",message:te?"Category updated successfully!":"Category created successfully!"}),setTimeout(()=>O(null),3e3),Fe();else{const e=await r.json();O({type:"error",message:e.error||"Failed to save category"}),setTimeout(()=>O(null),3e3)}}catch(t){console.error("Error saving category:",t),O({type:"error",message:"Failed to save category"}),setTimeout(()=>O(null),3e3)}},className:"modal-body",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Category Name *"}),(0,yn.jsx)("input",{type:"text",value:he.name,onChange:e=>me(ge(ge({},he),{},{name:e.target.value})),placeholder:"Enter category name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Description"}),(0,yn.jsx)("textarea",{value:he.description,onChange:e=>me(ge(ge({},he),{},{description:e.target.value})),placeholder:"Enter category description",rows:"3"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Category Image"}),(0,yn.jsx)(qn,{images:oe,onImagesChange:e=>{le(e),me(t=>ge(ge({},t),{},{image_url:ke(e)}))},maxImages:1}),(0,yn.jsx)("small",{style:{color:"#6b7280",display:"block",marginTop:"6px"},children:"Upload a representative image (optional)."})]}),(0,yn.jsxs)("div",{className:"modal-footer",children:[(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>X(!1),children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"btn-primary",children:te?"Update Category":"Create Category"})]})]})]})}),Z&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>ee(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:ne?"Edit Subcategory":"Add New Subcategory"}),(0,yn.jsx)("button",{className:"close-modal",onClick:()=>ee(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("adminToken"),t=ne?"".concat(mn,"/api/admin/subcategories/").concat(ne.id):"".concat(mn,"/api/admin/subcategories"),a=ne?"PUT":"POST",n=ge(ge({},xe),{},{image_url:xe.image_url||"",category_id:xe.category_id?parseInt(xe.category_id,10):null}),r=await fetch(t,{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)});if(r.ok)ee(!1),re(null),fe({category_id:"",name:"",description:"",image_url:""}),de([]),O({type:"success",message:ne?"Subcategory updated successfully!":"Subcategory created successfully!"}),setTimeout(()=>O(null),3e3),Me();else{const e=await r.json();O({type:"error",message:e.error||"Failed to save subcategory"}),setTimeout(()=>O(null),3e3)}}catch(t){console.error("Error saving subcategory:",t),O({type:"error",message:"Failed to save subcategory"}),setTimeout(()=>O(null),3e3)}},className:"modal-body",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Parent Category *"}),(0,yn.jsxs)("select",{value:xe.category_id,onChange:e=>fe(ge(ge({},xe),{},{category_id:e.target.value})),required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select Category"}),q.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Subcategory Name *"}),(0,yn.jsx)("input",{type:"text",value:xe.name,onChange:e=>fe(ge(ge({},xe),{},{name:e.target.value})),placeholder:"Enter subcategory name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Description"}),(0,yn.jsx)("textarea",{value:xe.description,onChange:e=>fe(ge(ge({},xe),{},{description:e.target.value})),placeholder:"Enter subcategory description",rows:"3"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Subcategory Image"}),(0,yn.jsx)(qn,{images:ce,onImagesChange:e=>{de(e),fe(t=>ge(ge({},t),{},{image_url:ke(e)}))},maxImages:1}),(0,yn.jsx)("small",{style:{color:"#6b7280",display:"block",marginTop:"6px"},children:"Upload a representative image (optional)."})]}),(0,yn.jsxs)("div",{className:"modal-footer",children:[(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>ee(!1),children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"btn-primary",children:ne?"Update Subcategory":"Create Subcategory"})]})]})]})}),(0,yn.jsx)(Un,{isOpen:_e,onClose:()=>Se(!1),itemType:Ce.itemType,itemId:Ce.itemId,itemName:Ce.itemName,onApprovalSuccess:e=>{O({type:"success",message:"".concat("ad"===Ce.itemType?"Advertisement":"Product"," ").concat(e.status," successfully!")}),"ad"===Ce.itemType?(async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/all-ads"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();d(e.ads)}}catch(e){console.error("Error refreshing ads data:",e)}})():"product"===Ce.itemType&&We(),setTimeout(()=>O(null),3e3)}}),C&&E&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>P(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"500px"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsxs)("h3",{children:["Edit Wallet - ",E.user_name]}),(0,yn.jsx)("button",{className:"close-modal",onClick:()=>P(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("adminToken"),t=await fetch("".concat(mn,"/api/admin/user-wallets/").concat(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({credits_remaining:parseInt(A.credits_remaining),diamonds:parseInt(A.diamonds),free_balance:parseFloat(A.free_balance)})});if(t.ok)P(!1),T(null),R({credits_remaining:"",diamonds:"",free_balance:""}),O({type:"success",message:"Wallet updated successfully!"}),setTimeout(()=>O(null),3e3),Ue();else{const e=await t.json();O({type:"error",message:e.error||"Failed to update wallet"}),setTimeout(()=>O(null),3e3)}}catch(t){console.error("Error updating wallet:",t),O({type:"error",message:"Failed to update wallet"}),setTimeout(()=>O(null),3e3)}},className:"modal-body",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Phone Number"}),(0,yn.jsx)("input",{type:"text",value:E.user_phone,disabled:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"\ud83d\udc8e Credits (Seconds) *"}),(0,yn.jsx)("input",{type:"number",value:A.credits_remaining,onChange:e=>R(ge(ge({},A),{},{credits_remaining:e.target.value})),placeholder:"Enter credits in seconds",required:!0,min:"0"}),(0,yn.jsxs)("small",{style:{color:"#6c757d",fontSize:"0.85rem"},children:["Current: ",null===(e=E.credits_remaining)||void 0===e?void 0:e.toLocaleString()," seconds (\u2248 ",E.credits_in_minutes," minutes)"]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"\ud83d\udca0 Diamonds *"}),(0,yn.jsx)("input",{type:"number",value:A.diamonds,onChange:e=>R(ge(ge({},A),{},{diamonds:e.target.value})),placeholder:"Enter diamonds",required:!0,min:"0"}),(0,yn.jsxs)("small",{style:{color:"#6c757d",fontSize:"0.85rem"},children:["Current: ",null===(t=E.diamonds)||void 0===t?void 0:t.toLocaleString()," diamonds"]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"\ud83d\udcb0 Free Balance (\u20b9) *"}),(0,yn.jsx)("input",{type:"number",step:"0.01",value:A.free_balance,onChange:e=>R(ge(ge({},A),{},{free_balance:e.target.value})),placeholder:"Enter free balance",required:!0,min:"0"}),(0,yn.jsxs)("small",{style:{color:"#6c757d",fontSize:"0.85rem"},children:["Current: \u20b9",null===(a=E.free_balance)||void 0===a?void 0:a.toFixed(2)]})]}),(0,yn.jsxs)("div",{className:"modal-footer",children:[(0,yn.jsx)("button",{type:"button",onClick:()=>P(!1),children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",style:{backgroundColor:"#10b981"},children:"Update Wallet"})]})]})]})})]})},ar=e=>{let{children:t}=e;const a="true"===localStorage.getItem("adminLoggedIn"),n=localStorage.getItem("adminToken");return a&&n?t:(0,yn.jsx)($a,{to:"/admin/login",replace:!0})},nr=e=>{let{onClose:t}=e;const{user:a,token:n}=wn(),{showToast:s}=Tn(),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)([]),[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[x,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[b,j]=(0,r.useState)({subject:"",description:"",priority:"medium"});(0,r.useEffect)(()=>{a&&n&&w()},[a,n]),(0,r.useEffect)(()=>{if(l){N(l.id);const e=setInterval(()=>{N(l.id)},5e3);return()=>clearInterval(e)}},[l]);const w=async()=>{try{g(!0);const e=await fetch("".concat(mn,"/api/user/reports"),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(e.ok){const t=await e.json();o(t.reports||[])}else s("Failed to load reports",{type:"error"})}catch(e){console.error("Error fetching reports:",e),s("Error loading reports",{type:"error"})}finally{g(!1)}},N=async e=>{try{const t=await fetch("".concat(mn,"/api/user/reports/").concat(e,"/messages"),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();u(e.messages||[])}}catch(t){console.error("Error fetching messages:",t)}},k=async()=>{if(p.trim()&&l)try{(await fetch("".concat(mn,"/api/user/reports/").concat(l.id,"/messages"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({message:p})})).ok?(h(""),N(l.id)):s("Failed to send message",{type:"error"})}catch(e){console.error("Error sending message:",e),s("Error sending message",{type:"error"})}},_=e=>{switch(e){case"open":return"#f59e0b";case"in_progress":return"#3b82f6";case"resolved":return"#10b981";default:return"#6b7280"}},S=e=>{switch(e){case"urgent":return"#ef4444";case"high":return"#f59e0b";case"medium":return"#3b82f6";case"low":return"#10b981";default:return"#6b7280"}},[C,P]=(0,r.useState)(window.innerWidth<768),[E,T]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=()=>{P(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{l?C&&(T(!0),y(!1)):C&&T(!1)},[l,C]),(0,yn.jsx)("div",{className:"modal-overlay",onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:C?"white":"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",alignItems:C?"stretch":"center",justifyContent:C?"stretch":"center",padding:C?"0":"20px"},children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:C?"100%":"900px",width:C?"100%":"90%",maxHeight:C?"100vh":"90vh",height:C?"100vh":"auto",display:"flex",flexDirection:"column",background:"white",borderRadius:C?"0":"12px",overflow:"hidden",margin:C?"0":"auto"},children:[(0,yn.jsxs)("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:C?"15px":"20px",borderBottom:"1px solid #e5e7eb",flexShrink:0},children:[(0,yn.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[C&&(l||v)?(0,yn.jsx)("button",{onClick:()=>{T(!1),c(null),y(!1)},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"40px",minHeight:"40px"},children:"\u2190"}):null,(0,yn.jsx)("h2",{style:{margin:0,fontSize:C?"18px":"24px",fontWeight:"600",flex:1},children:C&&v?"Create New Report":C&&l?l.subject:"Report a Problem"})]}),(0,yn.jsx)("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,yn.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden",flexDirection:C?"column":"row",minHeight:0},children:[(!C||!E&&!v)&&(0,yn.jsxs)("div",{style:{width:C?"100%":"300px",borderRight:C?"none":"1px solid #e5e7eb",borderBottom:C&&(E||v)?"1px solid #e5e7eb":"none",display:"flex",flexDirection:"column",flexShrink:0,height:!C||E||v?"auto":"100%",maxHeight:!C||E||v?"none":"100%"},children:[(0,yn.jsx)("div",{style:{padding:C?"12px":"15px",borderBottom:"1px solid #e5e7eb",flexShrink:0},children:(0,yn.jsx)("button",{onClick:()=>{y(!0),C&&(T(!0),c(null))},style:{width:"100%",padding:C?"14px":"12px",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:C?"15px":"14px",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 4px rgba(255, 107, 157, 0.3)"},children:"+ New Report"})}),(0,yn.jsx)("div",{style:{flex:1,overflowY:"auto",padding:C?"8px":"10px",WebkitOverflowScrolling:"touch"},children:m?(0,yn.jsx)("div",{style:{textAlign:"center",padding:C?"30px 20px":"20px",color:"#6b7280",fontSize:C?"14px":"16px"},children:"Loading..."}):0===i.length?(0,yn.jsx)("div",{style:{textAlign:"center",padding:C?"30px 20px":"20px",color:"#6b7280",fontSize:C?"14px":"16px"},children:"No reports yet"}):i.map(e=>(0,yn.jsxs)("div",{onClick:()=>{c(e),y(!1),C&&T(!0)},style:{padding:C?"14px":"12px",marginBottom:C?"10px":"8px",borderRadius:"8px",cursor:"pointer",background:(null===l||void 0===l?void 0:l.id)===e.id?"#f3f4f6":"white",border:(null===l||void 0===l?void 0:l.id)===e.id?"2px solid #ff6b9d":"1px solid #e5e7eb",transition:"all 0.2s",touchAction:"manipulation"},children:[(0,yn.jsx)("div",{style:{fontSize:C?"15px":"14px",fontWeight:"600",marginBottom:C?"6px":"4px",wordBreak:"break-word"},children:e.subject}),(0,yn.jsx)("div",{style:{fontSize:C?"12px":"11px",color:"#6b7280",marginBottom:C?"10px":"8px"},children:new Date(e.created_at).toLocaleDateString()}),(0,yn.jsxs)("div",{style:{display:"flex",gap:C?"6px":"8px",alignItems:"center",flexWrap:"wrap"},children:[(0,yn.jsx)("span",{style:{fontSize:C?"11px":"10px",padding:C?"5px 10px":"4px 8px",borderRadius:"4px",background:_(e.status)+"20",color:_(e.status),fontWeight:"600"},children:e.status.replace("_"," ")}),(0,yn.jsx)("span",{style:{fontSize:C?"11px":"10px",padding:C?"5px 10px":"4px 8px",borderRadius:"4px",background:S(e.priority)+"20",color:S(e.priority),fontWeight:"600"},children:e.priority})]})]},e.id))})]}),(!C||(E||v))&&(0,yn.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:v?(0,yn.jsx)("div",{style:{padding:C?"15px":"20px",flex:1,overflowY:"auto",WebkitOverflowScrolling:"touch"},children:(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.subject&&b.description)try{f(!0);const e=await fetch("".concat(mn,"/api/user/reports"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(b)});if(e.ok){const t=await e.json();s("Report submitted successfully",{type:"success"}),j({subject:"",description:"",priority:"medium"}),y(!1),w();const a=i.find(e=>e.id===t.report_id)||{id:t.report_id};c(a)}else{const t=await e.json();s(t.error||"Failed to submit report",{type:"error"})}}catch(t){console.error("Error creating report:",t),s("Error submitting report",{type:"error"})}finally{f(!1)}else s("Please fill in all required fields",{type:"error"})},children:[(0,yn.jsxs)("div",{style:{marginBottom:C?"18px":"15px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:C?"8px":"5px",fontWeight:"600",fontSize:C?"14px":"16px"},children:"Subject *"}),(0,yn.jsx)("input",{type:"text",value:b.subject,onChange:e=>j(ge(ge({},b),{},{subject:e.target.value})),placeholder:"Brief description of the problem",style:{width:"100%",padding:C?"12px":"10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:C?"16px":"14px",boxSizing:"border-box"},required:!0})]}),(0,yn.jsxs)("div",{style:{marginBottom:C?"18px":"15px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:C?"8px":"5px",fontWeight:"600",fontSize:C?"14px":"16px"},children:"Description *"}),(0,yn.jsx)("textarea",{value:b.description,onChange:e=>j(ge(ge({},b),{},{description:e.target.value})),placeholder:"Please describe your problem in detail...",rows:C?"5":"6",style:{width:"100%",padding:C?"12px":"10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:C?"16px":"14px",resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"},required:!0})]}),(0,yn.jsxs)("div",{style:{marginBottom:C?"24px":"20px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:C?"8px":"5px",fontWeight:"600",fontSize:C?"14px":"16px"},children:"Priority"}),(0,yn.jsxs)("select",{value:b.priority,onChange:e=>j(ge(ge({},b),{},{priority:e.target.value})),style:{width:"100%",padding:C?"12px":"10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:C?"16px":"14px",boxSizing:"border-box",backgroundColor:"white"},children:[(0,yn.jsx)("option",{value:"low",children:"Low"}),(0,yn.jsx)("option",{value:"medium",children:"Medium"}),(0,yn.jsx)("option",{value:"high",children:"High"}),(0,yn.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,yn.jsxs)("div",{style:{display:"flex",gap:C?"12px":"10px",flexDirection:C?"column":"row"},children:[(0,yn.jsx)("button",{type:"submit",disabled:x,style:{flex:1,padding:C?"14px":"12px",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:C?"16px":"14px",fontWeight:"600",cursor:x?"not-allowed":"pointer",opacity:x?.6:1,touchAction:"manipulation",minHeight:C?"48px":"auto"},children:x?"Submitting...":"Submit Report"}),(0,yn.jsx)("button",{type:"button",onClick:()=>{y(!1),j({subject:"",description:"",priority:"medium"}),C&&T(!1)},style:{padding:C?"14px":"12px 20px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:C?"16px":"14px",fontWeight:"600",cursor:"pointer",touchAction:"manipulation",minHeight:C?"48px":"auto"},children:"Cancel"})]})]})}):l?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("div",{style:{padding:C?"12px 15px":"15px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb",flexShrink:0},children:[(0,yn.jsx)("div",{style:{fontSize:C?"16px":"18px",fontWeight:"600",marginBottom:C?"6px":"5px",wordBreak:"break-word"},children:l.subject}),(0,yn.jsxs)("div",{style:{fontSize:C?"11px":"12px",color:"#6b7280"},children:["Created: ",new Date(l.created_at).toLocaleString()]})]}),(0,yn.jsx)("div",{style:{flex:1,overflowY:"auto",padding:C?"12px 15px":"20px",background:"#f9fafb",WebkitOverflowScrolling:"touch"},children:d.map(e=>(0,yn.jsx)("div",{style:{marginBottom:"15px",display:"flex",justifyContent:"user"===e.sender_type?"flex-end":"flex-start"},children:(0,yn.jsxs)("div",{style:{maxWidth:C?"85%":"70%",padding:"12px 16px",borderRadius:"12px",background:"user"===e.sender_type?"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)":"white",color:"user"===e.sender_type?"white":"#374151",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsxs)("div",{style:{fontSize:"11px",opacity:.8,marginBottom:"4px"},children:[e.sender_name," \u2022 ",new Date(e.created_at).toLocaleTimeString()]}),(0,yn.jsx)("div",{style:{fontSize:C?"13px":"14px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.message})]})},e.id))}),(0,yn.jsx)("div",{style:{padding:C?"12px 15px":"15px",borderTop:"1px solid #e5e7eb",background:"white",flexShrink:0},children:(0,yn.jsxs)("div",{style:{display:"flex",gap:C?"8px":"10px",alignItems:"center"},children:[(0,yn.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&k(),placeholder:"Type your message...",style:{flex:1,padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:C?"16px":"14px",boxSizing:"border-box",minHeight:C?"48px":"auto"}}),(0,yn.jsx)("button",{onClick:k,disabled:!p.trim(),style:{padding:C?"12px 20px":"12px 24px",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:C?"15px":"14px",fontWeight:"600",cursor:p.trim()?"pointer":"not-allowed",opacity:p.trim()?1:.5,whiteSpace:"nowrap",touchAction:"manipulation",minHeight:C?"48px":"auto",minWidth:C?"70px":"auto"},children:"Send"})]})})]}):(0,yn.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",padding:"20px",textAlign:"center"},children:C?"Select a report to view messages":"Select a report or create a new one"})})]})]})})},rr=()=>{var e,t;const a=Ra(),{user:n,token:s,loading:i,logout:o}=wn(),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[p,h]=(0,r.useState)(null),[m,g]=(0,r.useState)(0),[x,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!0),[b,j]=(0,r.useState)({}),[w,N]=(0,r.useState)(!1),[k,_]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),[T,A]=(0,r.useState)(!1),[R,z]=(0,r.useState)(""),[I,L]=(0,r.useState)(null),{showToast:B}=Tn(),[D,O]=(0,r.useState)({balance:0,credits_in_minutes:0,diamonds:0}),[F,M]=(0,r.useState)(!1),W=(0,r.useRef)(null),U=(0,r.useRef)(0),q=(0,r.useRef)(0),V=(0,r.useRef)(null),{pages:H}=An("ads"),Y=(e=>{if(!e)return"Guest";const t=String(e).trim();return t?t.length>12?"".concat(t.slice(0,9),"..."):t:"Guest"})(null===n||void 0===n?void 0:n.name),J=()=>{N(!1),_(!1),a("/refer")},$=()=>{const e=(D.balance||0)<50,t=F?"...":"\u20b9".concat(D.balance||0);return(0,yn.jsxs)("div",{className:"top-bar",style:{position:"fixed",top:"0",left:"0",right:"0",zIndex:"1000",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",backdropFilter:"blur(15px)",borderBottom:"2px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 4px 20px rgba(255, 107, 157, 0.3)",padding:"12px 20px",minHeight:"60px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",flexWrap:"wrap"},children:[(0,yn.jsx)("div",{className:"top-logo",style:{display:"flex",alignItems:"center",gap:"10px"},children:(0,yn.jsx)("img",{src:"https://akm-dv.github.io/unlimitedhub/logo.jpg",alt:"Unlimited Hub",style:{width:"32px",height:"32px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"}})}),(0,yn.jsxs)("div",{className:"wallet-chip",onClick:()=>a("/calls"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:e?"rgba(255, 193, 7, 0.2)":"rgba(255, 255, 255, 0.2)",borderRadius:"20px",border:e?"1px solid rgba(255, 193, 7, 0.5)":"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},title:"Tap to manage wallet",children:[(0,yn.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:(0,yn.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",style:{color:"white"},children:[(0,yn.jsx)("path",{d:"M4 7h16a2 2 0 012 2v8a3 3 0 01-3 3H5a3 3 0 01-3-3V9a2 2 0 012-2z"}),(0,yn.jsx)("path",{d:"M7 7V5a2 2 0 012-2h6a2 2 0 012 2v2"}),(0,yn.jsx)("path",{d:"M17 12h4"}),(0,yn.jsx)("circle",{cx:"18.5",cy:"12",r:"1"})]})}),(0,yn.jsx)("span",{style:{color:"white",fontWeight:"600",fontSize:"13px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:t}),e&&(0,yn.jsx)("span",{style:{fontSize:"9px",color:"#ffc107",fontWeight:"bold",animation:"pulse 2s infinite"},children:"Low"})]}),(0,yn.jsxs)("div",{className:"account-section",onClick:()=>N(!w),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"8px 12px",borderRadius:"25px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",transition:"all 0.3s ease",position:"relative"},children:[(0,yn.jsx)("img",{src:(r=null===n||void 0===n?void 0:n.gender,"female"===r?"https://cdn-icons-png.flaticon.com/512/4140/4140047.png":"https://cdn-icons-png.flaticon.com/512/4140/4140048.png"),alt:"Profile",className:"account-dp",style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"}}),(0,yn.jsx)("span",{className:"account-name",style:{color:"white",fontSize:"14px",fontWeight:"600",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:Y}),(0,yn.jsx)("svg",{className:"dropdown-arrow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{width:"16px",height:"16px",color:"white",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3))"},children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),w&&(0,yn.jsxs)("div",{className:"account-dropdown",style:{position:"absolute",top:"calc(100% + 8px)",right:"0",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(15px)",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",minWidth:"200px",overflow:"hidden",zIndex:"1001"},children:[(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>_(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",cursor:"pointer",transition:"all 0.2s ease",borderBottom:"1px solid rgba(0, 0, 0, 0.05)"},children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{width:"18px",height:"18px",color:"#ff6b9d"},children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,yn.jsx)("span",{style:{color:"#333",fontWeight:"500"},children:"Profile Settings"})]}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:J,children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),"Refer & Earn"]}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>E(!0),children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Report Problem"]}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>a("/advertiser/login"),children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a1 1 0 01-1-1V7a1 1 0 011-1h1a2 2 0 100-4H4a1 1 0 01-1-1V4a1 1 0 011-1h3a1 1 0 001-1v-1z"})}),"Advertiser Login"]}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>a("/admin/login"),children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Login"]}),H.length>0&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"dropdown-divider"}),H.map(e=>(0,yn.jsxs)("div",{className:"dropdown-item",onClick:()=>{a("/pages/".concat(e.slug)),N(!1)},children:[(0,yn.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 2h7l5 5v13a2 2 0 01-2 2H7a2 2 0 01-2-2V4a2 2 0 012-2z"}),(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2v6h6"})]}),e.title]},e.slug))]}),(0,yn.jsx)("div",{className:"dropdown-divider"}),(0,yn.jsxs)("div",{className:"dropdown-item",onClick:X,children:[(0,yn.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]});var r};(0,r.useEffect)(()=>{n&&!i&&G()},[n,i]),(0,r.useEffect)(()=>{!i&&s&&(async()=>{if(s)try{M(!0);const e=await fetch("".concat(mn,"/api/wallet/balance"),{headers:{Authorization:"Bearer ".concat(s)}});if(!e.ok)throw new Error("Failed to load wallet details");const t=await e.json();O(t)}catch(e){console.error("Error loading wallet balance:",e)}finally{M(!1)}})()},[i,s]),(0,r.useEffect)(()=>{C(!(i||!n))},[i,n]);const G=async()=>{try{if(u(!0),h(null),!n)return h("Please log in to view personalized ads"),void c([]);const e=(null===n||void 0===n?void 0:n.preferred_language_id)||1;let t="[]";if(null!==n&&void 0!==n&&n.interests)if(Array.isArray(n.interests))t=JSON.stringify(n.interests);else try{const e=JSON.parse(n.interests);t=JSON.stringify(e)}catch(os){console.warn("Failed to parse user interests:",os),t="[]"}const a=await fetch("".concat(mn,"/api/ads/for-users?user_phone=").concat(null===n||void 0===n?void 0:n.phone,"&user_language_id=").concat(e,"&user_gender=").concat(null===n||void 0===n?void 0:n.gender,"&user_interests=").concat(encodeURIComponent(t)));if(!a.ok)throw new Error("HTTP error! status: ".concat(a.status));const r=await a.json();c(r.ads||[]),console.log("\ud83d\udcfa Ads loaded with media URLs:"),r.ads.forEach(e=>{console.log("  Ad ".concat(e.id," (").concat(e.media_type,"): ").concat(e.media_url)),"video"!==e.media_type||e.media_url||console.warn("  \u26a0\ufe0f Warning: Ad ".concat(e.id," is marked as video but has no media_url!"))});const s={};r.ads.forEach(e=>{s[e.id]={likes:e.total_likes||0,shares:e.total_shares||0,isLiked:e.is_liked||!1}}),j(s)}catch(e){console.error("Error fetching ads:",e),h(e.message||"Failed to load ads")}finally{u(!1)}},K=async(e,t)=>{if(t.stopPropagation(),!n)return B("Please log in to share and earn rewards.",{type:"error"}),void a("/login");const r=l.find(t=>t.id===e);if(!r)return;const s=fn(n)||"".concat(window.location.origin,"/login"),i="".concat(window.location.origin,"/ad/").concat(r.id);(e=>{const t=encodeURIComponent(e),a="whatsapp://send?text=".concat(t),n="https://wa.me/?text=".concat(t);let r=!1;try{window.location.href=a,setTimeout(()=>{r||(window.open(n,"_blank","noopener,noreferrer"),r=!0)},800)}catch(p){console.warn("Unable to open WhatsApp app directly, falling back to web.",p),window.open(n,"_blank","noopener,noreferrer")}})(["\ud83d\udd25 ".concat(n.name||"A friend"," wants you on Unlimited Hub!"),"\ud83c\udfaf Check this ad: ".concat(r.name),i,"","\ud83c\udd94 My ID: ".concat(n.id),"\ud83d\udd17 Join with my invite & we both earn \u20b90.50: ".concat(s)].join("\n")),B("Opening WhatsApp\u2026 Share to earn \u20b90.50 when friends join!",{type:"success"});try{const t=await fetch("".concat(mn,"/api/ads/").concat(e,"/share"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_phone:null===n||void 0===n?void 0:n.phone,user_id:null===n||void 0===n?void 0:n.id,share_link:s})});if(t.ok){const a=await t.json();j(t=>{var n;return ge(ge({},t),{},{[e]:ge(ge({},t[e]),{},{shares:a.shares||(null===(n=t[e])||void 0===n?void 0:n.shares)||0})})})}}catch(p){console.error("Error recording share:",p),B("Shared, but we could not record it. Please try again later.",{type:"error"})}},Q=e=>{T?console.log("Already animating, skipping changeAd"):"up"===e&&m>=l.length-1?console.log("Already at last ad, cannot go up"):"down"===e&&m<=0?console.log("Already at first ad, cannot go down"):(console.log("Changing ad: ".concat(e,", current index: ").concat(m)),A(!0),z(e),setTimeout(()=>{"up"===e&&m<l.length-1?g(e=>{const t=e+1;return console.log("Moving to next ad: ".concat(e," -> ").concat(t)),t}):"down"===e&&m>0&&g(e=>{const t=e-1;return console.log("Moving to previous ad: ".concat(e," -> ").concat(t)),t}),setTimeout(()=>{A(!1),z(""),console.log("Animation completed")},300)},150))},X=()=>{o(),a("/login")},Z=()=>S?(0,yn.jsx)("div",{className:"modal-overlay",style:{zIndex:1e5},children:(0,yn.jsxs)("div",{className:"modal-content",style:{maxWidth:"320px",textAlign:"center"},children:[(0,yn.jsxs)("div",{className:"modal-header",style:{borderBottom:"none",paddingBottom:"0"},children:[(0,yn.jsx)("h3",{style:{fontSize:"20px",marginBottom:"10px"},children:"\ud83d\ude80 Special Offer"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>C(!1),style:{top:"10px",right:"10px"},children:"\xd7"})]}),(0,yn.jsxs)("div",{className:"modal-body",style:{paddingTop:"0"},children:[(0,yn.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#ff4f8b",marginBottom:"15px"},children:"Start your first advertisement for free"}),(0,yn.jsx)("p",{style:{fontSize:"13px",color:"#555",marginBottom:"20px"},children:"Launch your first campaign in minutes and reach thousands of potential matches instantly."}),(0,yn.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[(0,yn.jsx)("button",{onClick:()=>{C(!1),a("/advertiser/login")},style:{padding:"10px 16px",borderRadius:"20px",border:"none",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"white",fontWeight:"600",cursor:"pointer"},children:"Start Now"}),(0,yn.jsx)("button",{onClick:()=>C(!1),style:{padding:"10px 16px",borderRadius:"20px",border:"1px solid #ff6b9d",background:"white",color:"#ff6b9d",fontWeight:"600",cursor:"pointer"},children:"Maybe Later"})]})]})]})}):null,ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if(Array.isArray(e))return e;try{const a=JSON.parse(e);return Array.isArray(a)?a:t}catch(p){return console.warn("Failed to parse JSON data:",p),t}};(0,r.useEffect)(()=>{if(l.length>0&&m<l.length){const e=l[m];if((async e=>{try{await fetch("".concat(mn,"/api/ads/").concat(e,"/view"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_phone:null===n||void 0===n?void 0:n.phone,user_id:null===n||void 0===n?void 0:n.id})})}catch(p){console.error("Error tracking ad view:",p)}})(e.id),"video"===e.media_type){const t=()=>{if(V.current){V.current.paused||(V.current.pause(),V.current.currentTime=0);const t=V.current;if(t.readyState>=2)t.play().catch(t=>{console.error("Error playing video:",t),"NotAllowedError"===t.name?console.warn("Autoplay blocked, video will play on user interaction"):"NotSupportedError"===t.name&&console.error("Video format not supported or CORS issue:",e.media_url)}),console.log("Video playback started for ad:",e.id);else{const a=setInterval(()=>{t&&t.readyState>=2&&(t.play().catch(e=>{console.error("Retry play failed:",e)}),clearInterval(a))},100);setTimeout(()=>{clearInterval(a),t&&t.readyState<2&&console.warn("Video not ready after 5 seconds:",e.media_url)},5e3)}}};setTimeout(t,100)}}},[m,l]);const te=e=>{"ArrowUp"===e.key&&m>0?Q("down"):"ArrowDown"===e.key&&m<l.length-1&&Q("up")};if((0,r.useEffect)(()=>(window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)),[m,l.length]),(0,r.useEffect)(()=>{const e=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(e)},[m]),i)return(0,yn.jsx)("div",{className:"ads-gallery loading",children:(0,yn.jsxs)("div",{className:"loading-spinner",children:[(0,yn.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\ud83c\udfaf"}),(0,yn.jsx)("div",{children:"Loading your personalized ads..."})]})});if(!n)return(0,yn.jsx)("div",{className:"ads-gallery no-user",children:(0,yn.jsxs)("div",{className:"no-user-content",children:[(0,yn.jsx)("div",{className:"no-user-icon",children:"\ud83d\udd10"}),(0,yn.jsx)("h2",{children:"Login Required"}),(0,yn.jsx)("p",{children:"Please log in to view personalized ads based on your preferences."}),(0,yn.jsx)("button",{className:"login-btn",onClick:()=>a("/login"),children:"Go to Login"})]})});if(d)return(0,yn.jsx)("div",{className:"ads-gallery loading",children:(0,yn.jsxs)("div",{className:"loading-spinner",children:[(0,yn.jsx)("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"\ud83c\udfaf"}),(0,yn.jsx)("div",{children:"Finding ads for you..."})]})});if(p)return(0,yn.jsx)("div",{className:"ads-gallery error",children:(0,yn.jsxs)("div",{className:"error-content",children:[(0,yn.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,yn.jsx)("h3",{children:"Oops! Something went wrong"}),(0,yn.jsx)("p",{children:p}),(0,yn.jsx)("button",{className:"retry-btn",onClick:G,children:"\ud83d\udd04 Try Again"})]})});if(0===l.length)return(0,yn.jsxs)(yn.Fragment,{children:[Z(),(0,yn.jsxs)("div",{className:"ads-gallery-reel page-with-bottom-nav",children:[$(),(0,yn.jsx)("div",{className:"ads-gallery empty",style:{paddingTop:"80px"},children:(0,yn.jsxs)("div",{className:"empty-content",children:[(0,yn.jsx)("div",{className:"empty-icon",children:"\ud83d\udcf1"}),(0,yn.jsx)("h3",{children:"No Ads Available"}),(0,yn.jsx)("p",{children:"We're working on finding more personalized ads for you. Check back later!"})]})}),k&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>_(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Your Language Profile"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>_(!1),children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsx)("div",{className:"language-profile-container",children:(0,yn.jsxs)("div",{className:"language-profile-card",children:[(0,yn.jsxs)("div",{className:"profile-header",children:[(0,yn.jsxs)("div",{className:"header-left",children:[(0,yn.jsx)("div",{className:"profile-icon",children:"\ud83c\udfaf"}),(0,yn.jsx)("h3",{children:"Primary Language"})]}),(0,yn.jsx)("span",{className:"language-badge primary",children:1===(null===n||void 0===n?void 0:n.preferred_language_id)?"English":2===(null===n||void 0===n?void 0:n.preferred_language_id)?"Hindi":3===(null===n||void 0===n?void 0:n.preferred_language_id)?"Punjabi":4===(null===n||void 0===n?void 0:n.preferred_language_id)?"Bengali":5===(null===n||void 0===n?void 0:n.preferred_language_id)?"Telugu":6===(null===n||void 0===n?void 0:n.preferred_language_id)?"Marathi":7===(null===n||void 0===n?void 0:n.preferred_language_id)?"Urdu":8===(null===n||void 0===n?void 0:n.preferred_language_id)?"Kannada":9===(null===n||void 0===n?void 0:n.preferred_language_id)?"Malayalam":10===(null===n||void 0===n?void 0:n.preferred_language_id)?"Odia":"Language"})]}),(0,yn.jsxs)("div",{className:"profile-details",children:[(0,yn.jsxs)("div",{className:"detail-item",children:[(0,yn.jsxs)("div",{className:"detail-header",children:[(0,yn.jsx)("span",{className:"detail-icon",children:"\ud83d\udd0d"}),(0,yn.jsx)("span",{className:"detail-label",children:"Looking for:"})]}),(0,yn.jsx)("div",{className:"detail-tags",children:null!==n&&void 0!==n&&n.looking_for_languages?ee(n.looking_for_languages).map(e=>(0,yn.jsx)("span",{className:"detail-tag language",children:{1:"English",2:"Hindi",3:"Punjabi",4:"Bengali",5:"Telugu",6:"Marathi",7:"Urdu",8:"Kannada",9:"Malayalam",10:"Odia"}[e]||"Language ".concat(e)},e)):(0,yn.jsx)("span",{className:"detail-tag all",children:"All Languages"})})]}),(0,yn.jsxs)("div",{className:"detail-item",children:[(0,yn.jsxs)("div",{className:"detail-header",children:[(0,yn.jsx)("span",{className:"detail-icon",children:"\ud83c\udfa8"}),(0,yn.jsx)("span",{className:"detail-label",children:"Interests:"})]}),(0,yn.jsx)("div",{className:"detail-tags",children:null!==n&&void 0!==n&&n.interests?ee(n.interests).map(e=>(0,yn.jsx)("span",{className:"detail-tag interest",children:e},e)):(0,yn.jsx)("span",{className:"detail-tag all",children:"All Interests"})})]}),(0,yn.jsxs)("div",{className:"detail-item",children:[(0,yn.jsxs)("div",{className:"detail-header",children:[(0,yn.jsx)("span",{className:"detail-icon",children:"\ud83d\udc9d"}),(0,yn.jsx)("span",{className:"detail-label",children:"Goal:"})]}),(0,yn.jsx)("span",{className:"detail-tag goal",children:(null===n||void 0===n?void 0:n.relationship_goal)||"Not specified"})]})]}),(0,yn.jsxs)("div",{className:"profile-actions",children:[(0,yn.jsxs)("button",{className:"edit-profile-btn primary",onClick:()=>{_(!1),a("/profile-edit")},children:[(0,yn.jsx)("span",{className:"btn-icon",children:"\u270f\ufe0f"}),(0,yn.jsx)("span",{children:"Edit Profile"})]}),(0,yn.jsxs)("button",{className:"edit-profile-btn secondary",onClick:J,children:[(0,yn.jsx)("span",{className:"btn-icon",children:"\ud83c\udf81"}),(0,yn.jsx)("span",{children:"Refer & Earn"})]})]})]})})})]})})]})]});const ae=l[m],ne=(e=>{if(!e)return null;const t=e.provider_whatsapp||e.provider_phone||e.whatsapp_number||e.whatsapp||("whatsapp"===e.action_button?e.action_link:"");if(!t)return null;const a=String(t).trim();if(a.startsWith("http"))return a;const n=a.replace(/[^\d]/g,"");return n?"https://wa.me/".concat(n):null})(ae),re="web"===(null===ae||void 0===ae?void 0:ae.action_button)&&(null===ae||void 0===ae?void 0:ae.action_link)&&ae.action_link.trim().length>0,se=async e=>{try{await fetch("".concat(mn,"/api/ads/").concat(e,"/action-click"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_phone:null===n||void 0===n?void 0:n.phone,user_id:null===n||void 0===n?void 0:n.id})})}catch(t){console.warn("Failed to track ad action click:",t)}};return(0,yn.jsxs)(yn.Fragment,{children:[Z(),(0,yn.jsxs)("div",{className:"ads-gallery-reel page-with-bottom-nav",ref:W,onTouchStart:e=>{U.current=e.touches[0].clientY},onTouchMove:e=>{q.current=e.touches[0].clientY},onTouchEnd:()=>{if(!U.current||!q.current)return;const e=U.current-q.current,t=e>50,a=e<-50;console.log("Touch swipe detected: distance=".concat(e,", isUpSwipe=").concat(t,", isDownSwipe=").concat(a)),t&&m<l.length-1?Q("up"):a&&m>0&&Q("down"),U.current=0,q.current=0},onWheel:e=>{e.preventDefault(),e.stopPropagation(),x||T||(f(!0),setTimeout(()=>{f(!1)},500),e.deltaY>10&&m<l.length-1?Q("up"):e.deltaY<-10&&m>0?Q("down"):f(!1))},style:{overflow:"hidden",touchAction:"pan-y",WebkitOverflowScrolling:"touch",height:"100vh",position:"relative"},children:[$(),(0,yn.jsxs)("div",{className:"reel-content",style:{position:"relative",overflow:"hidden"},children:[m>0&&(0,yn.jsx)("div",{className:"ad-reel-item",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",transform:"translateY(100%)",zIndex:1,opacity:.3},children:(0,yn.jsxs)("div",{className:"ad-media-container",children:["video"===l[m-1].media_type?(0,yn.jsx)("video",{src:l[m-1].media_url,className:"ad-media",muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",onError:e=>{console.error("Preview video load error:",e,l[m-1].media_url)}}):(0,yn.jsx)("img",{src:l[m-1].media_url,alt:l[m-1].name,className:"ad-media"}),(0,yn.jsx)("div",{className:"ad-overlay-gradient"})]})}),(0,yn.jsxs)("div",{className:"ad-reel-item",style:{transform:"translateY(".concat("up"===R?"-100%":"down"===R?"100%":"0",")"),transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",opacity:T?.7:1,position:"relative",zIndex:2},children:[(0,yn.jsxs)("div",{className:"ad-media-container",children:["video"===ae.media_type?(0,yn.jsx)("video",{ref:e=>{e&&"video"===ae.media_type&&(V.current=e)},src:ae.media_url,className:"ad-media",muted:!0,loop:!0,playsInline:!0,autoPlay:!0,controls:!1,preload:"auto",crossOrigin:"anonymous",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",visibility:"visible",opacity:1},onError:e=>{console.error("Video load error:",e,ae.media_url);const t=e.target;var a,n;t&&t.error&&console.error("Video error details:",{code:null===(a=t.error)||void 0===a?void 0:a.code,message:null===(n=t.error)||void 0===n?void 0:n.message,url:ae.media_url})},onLoadedData:e=>{console.log("Video loaded successfully:",ae.media_url);const t=e.target;t&&t.paused&&t.play().catch(e=>{console.warn("Playback after load failed:",e)})},onCanPlay:e=>{const t=e.target;t&&t.paused&&t.play().catch(e=>{console.warn("Playback on canPlay failed:",e)})},onPlay:()=>{console.log("Video is now playing for ad:",ae.id)},onLoadStart:()=>{console.log("Video load started for ad:",ae.id,ae.media_url)},onWaiting:()=>{console.log("Video buffering for ad:",ae.id)}}):(0,yn.jsx)("img",{src:ae.media_url,alt:ae.name,className:"ad-media",onError:e=>{console.error("Image load error:",e),e.target.style.display="none"},onLoad:()=>{console.log("Image loaded successfully from:",ae.media_url)}}),(0,yn.jsx)("div",{className:"ad-overlay-gradient"})]}),(0,yn.jsxs)("div",{className:"ad-info-tiktok",children:[(0,yn.jsx)("div",{className:"tiktok-actions",children:(0,yn.jsxs)("div",{className:"action-group",children:[(0,yn.jsxs)("div",{className:"action-item",onClick:e=>(async(e,t)=>{var a;t.stopPropagation(),L(e);const r=!(null!==(a=b[e])&&void 0!==a&&a.isLiked);console.log("\ud83d\udd04 Optimistic update: Ad ".concat(e," isLiked: ").concat(r)),j(t=>{var a,n,s;return ge(ge({},t),{},{[e]:ge(ge({},t[e]),{},{isLiked:r,likes:null!==(a=t[e])&&void 0!==a&&a.isLiked?((null===(n=t[e])||void 0===n?void 0:n.likes)||0)-1:((null===(s=t[e])||void 0===s?void 0:s.likes)||0)+1})})});try{const t=await fetch("".concat(mn,"/api/ads/").concat(e,"/like"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_phone:null===n||void 0===n?void 0:n.phone,user_id:null===n||void 0===n?void 0:n.id})});if(t.ok){const a=await t.json();console.log("\u2705 Server response: Ad ".concat(e," isLiked: ").concat(a.isLiked,", likes: ").concat(a.likes)),j(t=>{var n,r;return ge(ge({},t),{},{[e]:ge(ge({},t[e]),{},{likes:a.likes||(null===(n=t[e])||void 0===n?void 0:n.likes)||0,isLiked:void 0!==a.isLiked?a.isLiked:null===(r=t[e])||void 0===r?void 0:r.isLiked})})})}else j(t=>{var a,n,r,s;return ge(ge({},t),{},{[e]:ge(ge({},t[e]),{},{isLiked:!(null!==(a=t[e])&&void 0!==a&&a.isLiked),likes:null!==(n=t[e])&&void 0!==n&&n.isLiked?((null===(r=t[e])||void 0===r?void 0:r.likes)||0)+1:((null===(s=t[e])||void 0===s?void 0:s.likes)||0)-1})})})}catch(p){console.error("Error liking ad:",p),j(t=>{var a,n,r,s;return ge(ge({},t),{},{[e]:ge(ge({},t[e]),{},{isLiked:!(null!==(a=t[e])&&void 0!==a&&a.isLiked),likes:null!==(n=t[e])&&void 0!==n&&n.isLiked?((null===(r=t[e])||void 0===r?void 0:r.likes)||0)+1:((null===(s=t[e])||void 0===s?void 0:s.likes)||0)-1})})})}finally{setTimeout(()=>{L(null)},600)}})(ae.id,e),children:[(0,yn.jsx)("div",{className:"action-icon ".concat(null!==(e=b[ae.id])&&void 0!==e&&e.isLiked?"liked":""," ").concat(I===ae.id?"liking":""),children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,yn.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})}),(0,yn.jsx)("span",{className:"action-count",children:(null===(t=b[ae.id])||void 0===t?void 0:t.likes)||0})]}),(0,yn.jsxs)("div",{className:"action-item",onClick:e=>K(ae.id,e),children:[(0,yn.jsx)("div",{className:"action-icon",style:{color:"#25D366"},children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,yn.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})}),(0,yn.jsx)("span",{className:"action-count",style:{color:"#25D366"},children:"Share"})]}),(0,yn.jsxs)("div",{className:"action-item",onClick:()=>{a("/ad/".concat(ae.id))},children:[(0,yn.jsx)("div",{className:"action-icon",children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,yn.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})}),(0,yn.jsx)("span",{className:"action-count",children:"View"})]}),"web"===ae.action_button&&ae.action_link&&(0,yn.jsxs)("div",{className:"action-item",onClick:()=>(e=>{var t;if("web"!==(null===e||void 0===e?void 0:e.action_button))return;let a=null===e||void 0===e||null===(t=e.action_link)||void 0===t?void 0:t.trim();if(a){/^https?:\/\//i.test(a)||(a="https://".concat(a));try{const e=new URL(a);window.open(e.toString(),"_blank","noopener,noreferrer")}catch(p){console.error("Invalid ad website URL:",a,p),B("This advertisement has an invalid website link. Please contact support to update it.",{type:"error"})}}})(ae),children:[(0,yn.jsx)("div",{className:"action-icon",style:{color:"#007bff"},children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:(0,yn.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})})}),(0,yn.jsx)("span",{className:"action-count",style:{color:"#007bff"},children:"Website"})]})]})}),(0,yn.jsxs)("div",{className:"tiktok-info",children:[(0,yn.jsxs)("div",{className:"advertiser-info",children:[(0,yn.jsx)("div",{className:"advertiser-avatar",children:(0,yn.jsx)("img",{src:ae.advertiser_logo||"https://via.placeholder.com/40x40/667eea/ffffff?text=AD",alt:"Advertiser"})}),(0,yn.jsxs)("div",{className:"advertiser-details",children:[(0,yn.jsxs)("div",{className:"advertiser-name",children:["@",ae.advertiser_name||"Advertiser"]}),(0,yn.jsx)("div",{className:"advertiser-verified",children:"\u2713 Verified"})]})]}),(0,yn.jsx)("div",{className:"ad-content",children:(0,yn.jsx)("p",{className:"ad-description-tiktok",children:ae.description||ae.name})})]})]})]}),m<l.length-1&&(0,yn.jsx)("div",{className:"ad-reel-item",style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",transform:"translateY(-100%)",zIndex:0,opacity:.3},children:(0,yn.jsxs)("div",{className:"ad-media-container",children:["video"===l[m+1].media_type?(0,yn.jsx)("video",{src:l[m+1].media_url,className:"ad-media",muted:!0,loop:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous",onError:e=>{console.error("Next video load error:",e,l[m+1].media_url)}}):(0,yn.jsx)("img",{src:l[m+1].media_url,alt:l[m+1].name,className:"ad-media"}),(0,yn.jsx)("div",{className:"ad-overlay-gradient"})]})})]}),v&&(0,yn.jsxs)("div",{className:"navigation-hints",children:[(0,yn.jsxs)("div",{className:"hint-item",children:[(0,yn.jsx)("span",{className:"hint-icon",children:"\ud83d\udc46"}),(0,yn.jsx)("span",{className:"hint-text",children:"Tap to view details"})]}),(0,yn.jsxs)("div",{className:"hint-item",children:[(0,yn.jsx)("span",{className:"hint-icon",children:"\u2b06\ufe0f\u2b07\ufe0f"}),(0,yn.jsx)("span",{className:"hint-text",children:"Swipe to browse"})]})]}),(0,yn.jsx)("div",{className:"ad-bottom-action-bar",style:{position:"fixed",left:"50%",bottom:"80px",transform:"translateX(-50%)",width:"min(420px, calc(100% - 32px))",zIndex:1e3},children:re?(0,yn.jsxs)("button",{type:"button",onClick:()=>{if(re)try{let t=ae.action_link.trim();if(!t||0===t.length)return void B("Invalid URL provided",{type:"error"});/^https?:\/\//i.test(t)||(t="https://".concat(t));try{new URL(t)}catch(e){return console.error("Invalid URL format:",t,e),void B("Invalid URL format. Please check the link.",{type:"error"})}if(!window.open(t,"_blank","noopener,noreferrer"))return void B("Popup blocked. Please allow popups for this site.",{type:"error"});se(ae.id)}catch(p){console.error("Error opening URL:",p),B("Failed to open link. Please try again.",{type:"error"})}},style:{width:"100%",border:"none",borderRadius:"999px",padding:"14px 20px",fontSize:"16px",fontWeight:700,color:"#fff",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",boxShadow:"0 8px 20px rgba(255, 107, 157, 0.35)",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[(0,yn.jsx)("span",{role:"img","aria-label":"action",children:"\u26a1"}),ae.action_button_label||"Learn More"]}):(0,yn.jsxs)("button",{type:"button",onClick:e=>{if(e&&e.stopPropagation(),ne)try{try{new URL(ne)}catch(t){return console.error("Invalid WhatsApp URL:",ne,t),void B("Invalid WhatsApp link. Please contact support.",{type:"error"})}window.open(ne,"_blank","noopener,noreferrer")||B("Popup blocked. Please allow popups for this site.",{type:"error"})}catch(p){console.error("Error opening WhatsApp:",p),B("Failed to open WhatsApp. Please try again.",{type:"error"})}else B("WhatsApp contact not available for this provider.",{type:"error"})},disabled:!ne,style:{width:"100%",border:"none",borderRadius:"999px",padding:"14px 20px",fontSize:"16px",fontWeight:700,color:"#fff",background:ne?"#22c55e":"#9ca3af",boxShadow:ne?"0 8px 20px rgba(34,197,94,0.35)":"none",display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",cursor:ne?"pointer":"not-allowed",transition:"background 0.2s ease"},children:[(0,yn.jsx)("span",{role:"img","aria-label":"whatsapp",children:"\ud83d\udcac"}),"Chat on WhatsApp"]})}),k&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>_(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Your Language Profile"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>_(!1),children:"\xd7"})]}),(0,yn.jsx)("div",{className:"modal-body",children:(0,yn.jsx)("div",{className:"language-profile-container",children:(0,yn.jsxs)("div",{className:"language-profile-card",children:[(0,yn.jsxs)("div",{className:"profile-header",children:[(0,yn.jsxs)("div",{className:"header-left",children:[(0,yn.jsx)("div",{className:"profile-icon",children:"\ud83c\udfaf"}),(0,yn.jsx)("h3",{children:"Primary Language"})]}),(0,yn.jsx)("span",{className:"language-badge primary",children:1===(null===n||void 0===n?void 0:n.preferred_language_id)?"English":2===(null===n||void 0===n?void 0:n.preferred_language_id)?"Hindi":3===(null===n||void 0===n?void 0:n.preferred_language_id)?"Punjabi":4===(null===n||void 0===n?void 0:n.preferred_language_id)?"Bengali":5===(null===n||void 0===n?void 0:n.preferred_language_id)?"Telugu":6===(null===n||void 0===n?void 0:n.preferred_language_id)?"Marathi":7===(null===n||void 0===n?void 0:n.preferred_language_id)?"Urdu":8===(null===n||void 0===n?void 0:n.preferred_language_id)?"Kannada":9===(null===n||void 0===n?void 0:n.preferred_language_id)?"Malayalam":10===(null===n||void 0===n?void 0:n.preferred_language_id)?"Odia":"Language"})]}),(0,yn.jsxs)("div",{className:"profile-details",children:[(0,yn.jsxs)("div",{className:"detail-item",children:[(0,yn.jsxs)("div",{className:"detail-header",children:[(0,yn.jsx)("span",{className:"detail-icon",children:"\ud83d\udd0d"}),(0,yn.jsx)("span",{className:"detail-label",children:"Looking for:"})]}),(0,yn.jsx)("div",{className:"detail-tags",children:null!==n&&void 0!==n&&n.looking_for_languages?ee(n.looking_for_languages).map(e=>(0,yn.jsx)("span",{className:"detail-tag language",children:{1:"English",2:"Hindi",3:"Punjabi",4:"Bengali",5:"Telugu",6:"Marathi",7:"Urdu",8:"Kannada",9:"Malayalam",10:"Odia"}[e]||"Language ".concat(e)},e)):(0,yn.jsx)("span",{className:"detail-tag all",children:"All Languages"})})]}),(0,yn.jsxs)("div",{className:"detail-item",children:[(0,yn.jsxs)("div",{className:"detail-header",children:[(0,yn.jsx)("span",{className:"detail-icon",children:"\ud83c\udfa8"}),(0,yn.jsx)("span",{className:"detail-label",children:"Interests:"})]}),(0,yn.jsx)("div",{className:"detail-tags",children:null!==n&&void 0!==n&&n.interests?ee(n.interests).map(e=>(0,yn.jsx)("span",{className:"detail-tag interest",children:e},e)):(0,yn.jsx)("span",{className:"detail-tag all",children:"All Interests"})})]}),(0,yn.jsxs)("div",{className:"detail-item",children:[(0,yn.jsxs)("div",{className:"detail-header",children:[(0,yn.jsx)("span",{className:"detail-icon",children:"\ud83d\udc9d"}),(0,yn.jsx)("span",{className:"detail-label",children:"Goal:"})]}),(0,yn.jsx)("span",{className:"detail-tag goal",children:(null===n||void 0===n?void 0:n.relationship_goal)||"Not specified"})]})]}),(0,yn.jsxs)("div",{className:"profile-actions",children:[(0,yn.jsxs)("button",{className:"edit-profile-btn primary",onClick:()=>{_(!1),a("/profile-edit")},children:[(0,yn.jsx)("span",{className:"btn-icon",children:"\u270f\ufe0f"}),(0,yn.jsx)("span",{children:"Edit Profile"})]}),(0,yn.jsxs)("button",{className:"edit-profile-btn secondary",onClick:()=>{_(!1),a("/profile-edit")},children:[(0,yn.jsx)("span",{className:"btn-icon",children:"\u2699\ufe0f"}),(0,yn.jsx)("span",{children:"Settings"})]})]})]})})})]})})]}),P&&(0,yn.jsx)(nr,{onClose:()=>E(!1)})]})},sr=()=>{var e,t,a,n;const{adId:s}=za(),i=Ra(),{user:o}=wn(),{showToast:l}=Tn(),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(!0),[h,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{g()},[s]);const g=async()=>{try{p(!0),console.log("\ud83d\udd0d AdDetailsPage Debug - Fetching ad with ID:",s);const e=localStorage.getItem("ads");console.log("\ud83d\udd0d AdDetailsPage Debug - Ads from localStorage:",e);let t=[];if(e)try{t=JSON.parse(e),console.log("\ud83d\udd0d AdDetailsPage Debug - Parsed ads:",t)}catch(os){console.warn("Failed to parse ads from localStorage:",os)}let a=t.find(e=>e.id===parseInt(s));console.log("\ud83d\udd0d AdDetailsPage Debug - Found ad:",a),a||(console.log("\ud83d\udd0d AdDetailsPage Debug - Ad not found, creating mock ad"),a={id:parseInt(s),name:"Amazing Product Offer",advertiser:"Premium Brand",brand_name:"Premium Brand",required_by:"ASAP",media_url:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=800&h=600&fit=crop",media_type:"image",action_button:"web",action_link:"https://example.com",views:1250,shares:89,description:"Discover this incredible offer that will transform your experience. Limited time only!",target_languages:["English","Hindi"],target_interests:["Technology","Lifestyle"],target_gender:"all",target_age_min:18,target_age_max:65,created_at:(new Date).toISOString()}),d(a)}catch(h){console.error("Error fetching ad details:",h),m("Failed to load ad details")}finally{p(!1)}},x=async e=>{if(!o)return l("Please log in to share and earn rewards.",{type:"error"}),void i("/login");const t=fn(o)||"".concat(window.location.origin,"/login"),a="".concat(window.location.origin,"/ad/").concat(e.id);(e=>{const t=encodeURIComponent(e),a="whatsapp://send?text=".concat(t),n="https://wa.me/?text=".concat(t);let r=!1;try{window.location.href=a,setTimeout(()=>{r||(window.open(n,"_blank","noopener,noreferrer"),r=!0)},800)}catch(h){console.warn("Unable to open WhatsApp app directly, falling back to web.",h),window.open(n,"_blank","noopener,noreferrer")}})(["\ud83d\udd25 ".concat(o.name||"A friend"," wants you on Unlimited Hub!"),"\ud83c\udfaf Check this ad: ".concat(e.name),a,"","\ud83c\udd94 My ID: ".concat(o.id),"\ud83d\udd17 Join with my invite & both of us earn \u20b90.50: ".concat(t)].join("\n")),l("Opening WhatsApp\u2026 Share to earn \u20b90.50 when friends sign up!",{type:"success"});try{(await fetch("".concat(mn,"/api/ads/share"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ad_id:e.id,sharer_phone:(null===o||void 0===o?void 0:o.phone)||"1234567890",share_link:t})})).ok?d(e=>ge(ge({},e),{},{shares:((null===e||void 0===e?void 0:e.shares)||0)+1})):l("Failed to record share. Please try again.",{type:"error"})}catch(h){console.error("Error sharing ad:",h),l("Error sharing ad. Please try again.",{type:"error"})}},f=()=>{i("/ads-gallery")};return u?(0,yn.jsx)("div",{className:"ad-details-page ad-details-loading",children:(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("h3",{children:"Loading Ad Details"}),(0,yn.jsx)("p",{children:"Please wait while we fetch the information..."})]})}):h||!c?(0,yn.jsx)("div",{className:"ad-details-page ad-details-error",children:(0,yn.jsxs)("div",{className:"error-container",children:[(0,yn.jsx)("div",{className:"error-icon",children:"\u274c"}),(0,yn.jsx)("h2",{children:"Ad Not Found"}),(0,yn.jsx)("p",{children:h||"The requested ad could not be found."}),(0,yn.jsx)("button",{className:"back-btn",onClick:f,children:"\u2190 Back to Gallery"})]})}):(0,yn.jsxs)("div",{className:"ad-details-page page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"page-header",children:[(0,yn.jsxs)("button",{className:"back-btn",onClick:f,children:[(0,yn.jsx)("div",{className:"back-btn-icon",children:(0,yn.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,yn.jsx)("span",{children:"Back"})]}),(0,yn.jsx)("h1",{className:"page-title",children:"Ad Details"}),(0,yn.jsxs)("button",{className:"share-btn header-share",onClick:()=>x(c),children:[(0,yn.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,yn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share & Earn \u20b90.50"]})]}),(0,yn.jsx)("div",{className:"ad-details-content",children:(0,yn.jsxs)("div",{className:"content-grid",children:[(0,yn.jsx)("div",{className:"image-section",children:(0,yn.jsxs)("div",{className:"image-container",children:[(0,yn.jsx)("img",{src:c.media_url,alt:c.name,className:"ad-image"}),(0,yn.jsx)("div",{className:"image-overlay",children:(0,yn.jsxs)("div",{className:"image-stats",children:[(0,yn.jsxs)("div",{className:"stat-item",children:[(0,yn.jsx)("div",{className:"stat-value",children:(null===(e=c.views)||void 0===e?void 0:e.toLocaleString())||"1.2k"}),(0,yn.jsx)("div",{className:"stat-label",children:"Views"})]}),(0,yn.jsxs)("div",{className:"stat-item",children:[(0,yn.jsx)("div",{className:"stat-value",children:(null===(t=c.shares)||void 0===t?void 0:t.toLocaleString())||"89"}),(0,yn.jsx)("div",{className:"stat-label",children:"Shares"})]})]})})]})}),(0,yn.jsxs)("div",{className:"details-section",children:[(0,yn.jsxs)("div",{className:"ad-header",children:[(0,yn.jsxs)("div",{className:"ad-header-main",children:[(0,yn.jsx)("h2",{className:"ad-title",children:c.name}),(0,yn.jsxs)("div",{className:"advertiser-info",children:[(0,yn.jsx)("span",{className:"advertiser-label",children:"by"}),(0,yn.jsx)("span",{className:"advertiser-name",children:c.advertiser})]})]}),(0,yn.jsx)("div",{className:"media-type-badge",children:"image"===c.media_type?"\ud83d\uddbc\ufe0f Image":"\ud83c\udfa5 Video"})]}),(0,yn.jsx)("p",{className:"ad-description",children:c.description||"Discover this amazing offer and take action now!"}),(0,yn.jsxs)("div",{className:"action-type-badge",children:[(0,yn.jsxs)("span",{className:"action-icon",children:["web"===c.action_button&&"\ud83c\udf10","call"===c.action_button&&"\ud83d\udcde","whatsapp"===c.action_button&&"\ud83d\udcac"]}),(0,yn.jsxs)("span",{className:"action-text",children:["web"===c.action_button&&"Website Visit","call"===c.action_button&&"Phone Call","whatsapp"===c.action_button&&"WhatsApp"]})]})]}),c.target_interests&&(0,yn.jsxs)("div",{className:"interests-section",children:[(0,yn.jsx)("h3",{className:"section-title",children:"Related Interests"}),(0,yn.jsx)("div",{className:"hashtags-container",children:Array.isArray(c.target_interests)?c.target_interests.map((e,t)=>(0,yn.jsxs)("span",{className:"hashtag",children:["#",e.toLowerCase().replace(/\s+/g,"")]},t)):"string"===typeof c.target_interests?c.target_interests.split(",").map((e,t)=>(0,yn.jsxs)("span",{className:"hashtag",children:["#",e.trim().toLowerCase().replace(/\s+/g,"")]},t)):null})]}),(0,yn.jsxs)("div",{className:"why-ad-section",children:[(0,yn.jsxs)("h3",{className:"section-title",children:[(0,yn.jsx)("span",{className:"section-icon",children:"\ud83c\udfaf"}),"Why This Ad?"]}),(0,yn.jsxs)("div",{className:"why-ad-content",children:[(0,yn.jsxs)("div",{className:"why-ad-item",children:[(0,yn.jsx)("div",{className:"why-ad-icon",children:"\u2728"}),(0,yn.jsx)("span",{children:"Perfectly matched to your interests"})]}),(0,yn.jsxs)("div",{className:"why-ad-item",children:[(0,yn.jsx)("div",{className:"why-ad-icon",children:"\u2b50"}),(0,yn.jsx)("span",{children:"Highly rated by our community"})]}),(0,yn.jsxs)("div",{className:"why-ad-item",children:[(0,yn.jsx)("div",{className:"why-ad-icon",children:"\ud83d\udc8e"}),(0,yn.jsx)("span",{children:"Premium quality offer"})]})]})]}),(0,yn.jsxs)("div",{className:"quick-stats-section",children:[(0,yn.jsx)("h3",{className:"section-title",children:"Quick Stats"}),(0,yn.jsxs)("div",{className:"quick-stats-grid",children:[(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-card-icon",children:"\ud83d\udc41\ufe0f"}),(0,yn.jsx)("div",{className:"stat-card-value",children:(null===(a=c.views)||void 0===a?void 0:a.toLocaleString())||"1.2k"}),(0,yn.jsx)("div",{className:"stat-card-label",children:"Views"})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-card-icon",children:"\ud83d\udce4"}),(0,yn.jsx)("div",{className:"stat-card-value",children:(null===(n=c.shares)||void 0===n?void 0:n.toLocaleString())||"89"}),(0,yn.jsx)("div",{className:"stat-card-label",children:"Shares"})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-card-icon",children:"\ud83d\udd25"}),(0,yn.jsx)("div",{className:"stat-card-value",children:"Hot"}),(0,yn.jsx)("div",{className:"stat-card-label",children:"Trending"})]})]})]}),(0,yn.jsxs)("div",{className:"ad-actions",children:[(0,yn.jsxs)("button",{className:"action-btn primary",onClick:()=>(e=>{switch(e.action_button){case"web":window.open(e.action_link,"_blank");break;case"call":window.open("tel:".concat(e.action_link));break;case"whatsapp":window.open("https://wa.me/".concat(e.action_link.replace("+","")))}})(c),children:[(0,yn.jsxs)("span",{className:"action-btn-icon",children:["web"===c.action_button&&"\ud83c\udf10","call"===c.action_button&&"\ud83d\udcde","whatsapp"===c.action_button&&"\ud83d\udcac"]}),(0,yn.jsxs)("span",{className:"action-btn-text",children:["web"===c.action_button&&"Visit Website","call"===c.action_button&&"Call Now","whatsapp"===c.action_button&&"WhatsApp"]})]}),(0,yn.jsxs)("button",{className:"share-btn-secondary",onClick:()=>x(c),children:[(0,yn.jsx)("span",{className:"share-icon",children:"\ud83d\udce4"}),(0,yn.jsx)("span",{className:"share-text",children:"Share & Earn"}),(0,yn.jsx)("span",{className:"earnings-badge",children:"\u20b90.50"})]})]}),(0,yn.jsxs)("div",{className:"earnings-info",children:[(0,yn.jsxs)("div",{className:"earnings-header",children:[(0,yn.jsx)("div",{className:"earnings-icon",children:"\ud83d\udcb0"}),(0,yn.jsx)("h3",{className:"earnings-title",children:"Earn Money Sharing"})]}),(0,yn.jsx)("p",{className:"earnings-description",children:"Share this ad with friends and earn \u20b90.50 for each successful share. The more you share, the more you earn! Build your passive income by sharing valuable offers with your network."}),(0,yn.jsxs)("div",{className:"earnings-features",children:[(0,yn.jsxs)("div",{className:"feature",children:[(0,yn.jsx)("span",{className:"feature-icon",children:"\u2705"}),(0,yn.jsx)("span",{children:"Instant earnings"})]}),(0,yn.jsxs)("div",{className:"feature",children:[(0,yn.jsx)("span",{className:"feature-icon",children:"\u2705"}),(0,yn.jsx)("span",{children:"No limit on shares"})]}),(0,yn.jsxs)("div",{className:"feature",children:[(0,yn.jsx)("span",{className:"feature-icon",children:"\u2705"}),(0,yn.jsx)("span",{children:"Easy withdrawal"})]})]})]})]})})]})},ir=e=>{let{isOpen:t,onClose:a,onSuccess:n}=e;const{updateUser:s,token:i}=wn(),[o,l]=(0,r.useState)({address:"",pincode:"",state:""}),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(""),h=e=>{const{name:t,value:a}=e.target;l(e=>ge(ge({},e),{},{[t]:a}))};if((0,r.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const m=(0,yn.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:"99999",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"auto"},onClick:e=>e.target===e.currentTarget&&a(),children:(0,yn.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"20px",width:"100%",maxWidth:"450px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.25)",position:"relative",margin:"auto",transform:"translateZ(0)"},onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h2",{children:"Add Your Address"}),(0,yn.jsx)("p",{className:"modal-subtitle",children:"Step 2 of 3: Address Details"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o.address.trim())if(o.pincode.trim())if(o.state.trim()){d(!0),p("");try{const e=await Dt.post("".concat(mn,"/api/register/step2"),{address:o.address.trim(),pincode:o.pincode.trim(),state:o.state.trim()},{headers:{Authorization:"Bearer ".concat(i)}});s(e.data.user),p({type:"success",text:"Address details saved! You can now access the Shop panel."}),setTimeout(()=>{n&&n(e.data.user),a()},1500)}catch(l){var t,r;const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to save address details. Please try again.";p({type:"error",text:e})}finally{d(!1)}}else p({type:"error",text:"State is required"});else p({type:"error",text:"Pincode is required"});else p({type:"error",text:"Address is required"})},className:"step-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address *"}),(0,yn.jsx)("textarea",{id:"address",name:"address",value:o.address,onChange:h,className:"form-textarea",placeholder:"Enter your complete address",rows:"3",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"pincode",className:"form-label",children:"Pincode *"}),(0,yn.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:o.pincode,onChange:h,className:"form-input",placeholder:"Enter your pincode",maxLength:"6",pattern:"[0-9]{6}",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{htmlFor:"state",className:"form-label",children:"State *"}),(0,yn.jsx)("input",{type:"text",id:"state",name:"state",value:o.state,onChange:h,className:"form-input",placeholder:"Enter your state",required:!0})]}),u&&(0,yn.jsx)("div",{className:"message ".concat(u.type),children:u.text}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",className:"secondary-btn",onClick:a,disabled:c,children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:c||!o.address.trim()||!o.pincode.trim()||!o.state.trim(),children:c?"Saving...":"Save & Continue"})]})]}),(0,yn.jsxs)("div",{className:"step-progress",children:[(0,yn.jsxs)("div",{className:"progress-dots",children:[(0,yn.jsx)("div",{className:"dot completed"}),(0,yn.jsx)("div",{className:"dot active"}),(0,yn.jsx)("div",{className:"dot"})]}),(0,yn.jsx)("p",{className:"progress-text",children:"Access to Shop panel will be unlocked"})]})]})});return Za.createPortal(m,document.body)},or=e=>{let{isOpen:t,onClose:a,onSuccess:n}=e;const{updateUser:s,token:i}=wn(),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)("");if((0,r.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const h=(0,yn.jsx)("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:"99999",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"auto"},onClick:e=>e.target===e.currentTarget&&a(),children:(0,yn.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"20px",width:"100%",maxWidth:"450px",maxHeight:"85vh",overflowY:"auto",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.25)",position:"relative",margin:"auto",transform:"translateZ(0)"},onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h2",{children:"Select Your Interests"}),(0,yn.jsx)("p",{className:"modal-subtitle",children:"Step 3 of 3: Interest Selection"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.length){d(!0),p("");try{const e=await Dt.post("".concat(mn,"/api/register/step3"),{interests:o},{headers:{Authorization:"Bearer ".concat(i)}});s(e.data.user),p({type:"success",text:"Interests saved! You can now access the Ads panel."}),setTimeout(()=>{n&&n(e.data.user),a()},1500)}catch(l){var t,r;const e=(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to save interests. Please try again.";p({type:"error",text:e})}finally{d(!1)}}else p({type:"error",text:"Please select at least one interest"})},className:"step-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{className:"form-label",children:"Choose your interests *"}),(0,yn.jsx)("p",{className:"form-help-text",children:"Select all that apply to personalize your experience"}),(0,yn.jsx)("div",{className:"interests-grid",children:["Fashion","Sports","Technology","Entertainment","Travel","Food & Cooking","Music","Movies","Books","Art & Design","Photography","Fitness & Health","Gaming","Business","Education","Nature","Dancing","Writing","Crafting","Fashion Design","Beauty","Automotive","Finance","Real Estate","Pets"].map((e,t)=>(0,yn.jsx)("button",{type:"button",className:"interest-chip ".concat(o.includes(e)?"selected":""),onClick:()=>(e=>{l(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),children:e},t))}),(0,yn.jsxs)("div",{className:"selected-count",children:[o.length," interest",1!==o.length?"s":""," selected"]})]}),u&&(0,yn.jsx)("div",{className:"message ".concat(u.type),children:u.text}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{type:"button",className:"secondary-btn",onClick:a,disabled:c,children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"primary-btn",disabled:c||0===o.length,children:c?"Saving...":"Save & Continue"})]})]}),(0,yn.jsxs)("div",{className:"step-progress",children:[(0,yn.jsxs)("div",{className:"progress-dots",children:[(0,yn.jsx)("div",{className:"dot completed"}),(0,yn.jsx)("div",{className:"dot completed"}),(0,yn.jsx)("div",{className:"dot active"})]}),(0,yn.jsx)("p",{className:"progress-text",children:"Access to Ads panel will be unlocked"})]})]})});return Za.createPortal(h,document.body)},lr=()=>{const e=Ra(),t=Ta(),{user:a,updateUser:n}=wn(),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)({step1_completed:!1,step2_completed:!1,step3_completed:!1});(0,r.useEffect)(()=>{a&&d({step1_completed:a.step1_completed||!1,step2_completed:a.step2_completed||!1,step3_completed:a.step3_completed||!1})},[a]);const u=[{id:"calls",label:"Calls",icon:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"})}),path:"/calls"},{id:"ads",label:"Ads",icon:(0,yn.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),(0,yn.jsx)("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),(0,yn.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),path:"/ads-gallery"},{id:"shopping",label:"Shop",icon:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),path:"/shop"}];return(0,yn.jsxs)("div",{className:"bottom-navigation",children:[u.map(a=>{return(0,yn.jsxs)("button",{className:"nav-item ".concat((n=a.path,t.pathname===n?"active":"")),onClick:()=>(t=>{if("calls"===t.id){if(!c.step1_completed)return void e("/login");e(t.path)}else if("shopping"===t.id){if(!c.step1_completed)return void e("/login");if(!c.step2_completed)return void i(!0);e(t.path)}else if("ads"===t.id){if(!c.step1_completed)return void e("/login");if(!c.step2_completed)return void i(!0);if(!c.step3_completed)return void l(!0);e(t.path)}else if("cart"===t.id){if(!c.step1_completed)return void e("/login");if(!c.step2_completed)return void i(!0);e(t.path)}else e(t.path)})(a),children:[(0,yn.jsx)("div",{className:"nav-icon",children:a.icon}),(0,yn.jsx)("span",{className:"nav-label",children:a.label})]},a.id);var n}),(0,yn.jsx)(ir,{isOpen:s,onClose:()=>i(!1),onSuccess:e=>{i(!1),n(e),d(e=>ge(ge({},e),{},{step2_completed:!0}))}}),(0,yn.jsx)(or,{isOpen:o,onClose:()=>l(!1),onSuccess:e=>{l(!1),n(e),d(e=>ge(ge({},e),{},{step3_completed:!0}))}})]})},cr="shop-storage-update",dr="undefined"!==typeof window,ur="shopCart",pr="shopFavorites",hr="shopSavedAddress",mr="shopSearchHistory",gr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!dr)return t;try{const a=window.localStorage.getItem(e);if(null===a||void 0===a)return t;const n=JSON.parse(a);return null!==n&&void 0!==n?n:t}catch(a){return console.error('Failed to read storage key "'.concat(e,'":'),a),t}},xr=(e,t)=>{if(dr)try{void 0===t?window.localStorage.removeItem(e):window.localStorage.setItem(e,JSON.stringify(t)),window.dispatchEvent(new CustomEvent(cr,{detail:{key:e}}))}catch(a){console.error('Failed to write storage key "'.concat(e,'":'),a)}},fr=(e,t)=>{if(!dr||"function"!==typeof t)return()=>{};const a=a=>{var n;"storage"===a.type&&a.key!==e||("storage"===a.type||a.type===cr&&(null===(n=a.detail)||void 0===n?void 0:n.key)===e)&&t(gr(e))};return window.addEventListener("storage",a),window.addEventListener(cr,a),()=>{window.removeEventListener("storage",a),window.removeEventListener(cr,a)}},vr=()=>{const[e,t]=(0,r.useState)(()=>{try{const e=gr(pr,[]);return Array.isArray(e)?e:[]}catch(e){return console.error("Error reading favorites from storage:",e),[]}});(0,r.useEffect)(()=>{const e=e=>{if(e.key===pr)try{const e=gr(pr,[]);t(Array.isArray(e)?e:[])}catch(a){console.error("Error reading favorites from storage change:",a)}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const a=(0,r.useCallback)(t=>e.some(e=>Number(e.id)===Number(t)),[e]),n=(0,r.useCallback)(e=>{if(e&&e.id)try{const a=(e=>{var t,a,n,r,s;if(!e||!e.id)return null;let i=null;e.image?i=e.image:Array.isArray(e.images)&&e.images.length>0&&(i=e.images[0]);const o=null!==(t=null!==(a=null!==(n=e.original_price)&&void 0!==n?n:e.originalPrice)&&void 0!==a?a:e.price)&&void 0!==t?t:0,l=null!==(r=null!==(s=e.discounted_price)&&void 0!==s?s:e.discountedPrice)&&void 0!==r?r:null,c=null!==l&&void 0!==l?l:o;return{id:Number(e.id),title:e.title||"Untitled Product",price:Number(c)||0,originalPrice:Number(o)||Number(c)||0,discountedPrice:l?Number(l):null,image:i,category:e.category_name||e.category||e.subcategory_name||"",provider:e.provider_name||e.provider||"Admin",isAdminProduct:Boolean(e.is_admin_product||e.isAdminProduct)}})(e);if(!a)return;t(e=>{const t=e.some(e=>Number(e.id)===Number(a.id))?e.filter(e=>Number(e.id)!==Number(a.id)):[...e,a];return xr(pr,t),t})}catch(a){console.error("Error toggling favorite:",a)}},[]),s=(0,r.useCallback)(e=>{t(t=>{const a=t.filter(t=>Number(t.id)!==Number(e));return xr(pr,a),a})},[]),i=(0,r.useCallback)(()=>{t([]),xr(pr,[])},[]),o=(0,r.useMemo)(()=>new Set(e.map(e=>e.id)),[e]);return{favorites:e,favoriteIds:o,isFavorite:a,toggleFavorite:n,removeFavorite:s,clearFavorites:i}},yr=()=>{const e=Ra(),[t,a]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[i,o]=(0,r.useState)({}),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(1),[x,f]=(0,r.useState)(null),[v,y]=(0,r.useState)(!0),[b,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),{pages:k}=An("shop"),{toggleFavorite:_,isFavorite:S,favorites:C}=vr();(0,r.useEffect)(()=>{P()},[]),(0,r.useEffect)(()=>{x&&E(x.id)},[x,t]),(0,r.useEffect)(()=>{"all"!==(null===x||void 0===x?void 0:x.id)||p||d||L()},[x,p,d]),(0,r.useEffect)(()=>{"all"===(null===x||void 0===x?void 0:x.id)&&g(1)},[x]),(0,r.useEffect)(()=>{g(1)},[l.length]),(0,r.useEffect)(()=>{"all"===(null===x||void 0===x?void 0:x.id)&&window.scrollTo({top:0,behavior:"smooth"})},[m,x]),(0,r.useEffect)(()=>(document.body.style.overflow=w?"hidden":"",()=>{document.body.style.overflow=""}),[w]);const P=async()=>{try{const e=await fetch("".concat(mn,"/api/categories"));if(e.ok){const t=[{id:"all",name:"All"},...(await e.json()).categories||[]];a(t),t.length>0&&f(t[0])}}catch(e){console.error("Error fetching categories:",e)}finally{y(!1)}},E=async e=>{if(i[e])s(i[e]);else if("all"!==e)try{const t=await fetch("".concat(mn,"/api/subcategories?category_id=").concat(e));if(t.ok){const a=((await t.json()).subcategories||[]).map(t=>ge(ge({},t),{},{parent_category_id:t.category_id||t.parent_category_id||e}));s(a),o(t=>ge(ge({},t),{},{[e]:a}))}}catch(a){console.error("Error fetching subcategories:",a)}else{if(!t||t.length<=1)return void s([]);try{const e=t.filter(e=>"all"!==e.id).map(e=>e.id),a=await Promise.all(e.map(e=>fetch("".concat(mn,"/api/subcategories?category_id=").concat(e)).then(e=>e.ok?e.json():{subcategories:[]}).catch(()=>({subcategories:[]})))),n=[],r=new Map;a.forEach((t,a)=>{(t.subcategories||[]).forEach(t=>{const s=ge(ge({},t),{},{parent_category_id:t.category_id||t.parent_category_id||e[a]});r.has(t.id)||(r.set(t.id,s),n.push(s))})}),s(n),o(e=>ge(ge({},e),{},{all:n}))}catch(a){console.error("Error fetching all subcategories:",a)}}},T=t=>{N(!1),e(t)},A=[{id:"cart",label:"Cart",description:"Items waiting for checkout",icon:(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,yn.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,yn.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),path:"/shop/cart"},{id:"orders",label:"Orders",description:"Track your latest purchases",icon:(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M9 11l3 3L22 4"}),(0,yn.jsx)("path",{d:"M21 12v4a2 2 0 01-2 2H7l-4 4V4a2 2 0 012-2h9"})]}),path:"/shop/orders"},{id:"search",label:"Search",description:"Find products instantly",icon:(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,yn.jsx)("path",{d:"m21 21-4.35-4.35"})]}),path:"/shop/search"},{id:"favorites",label:"Favorites",description:"Saved products you love",icon:(0,yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),path:"/shop/favorites"}],R=()=>0===l.length?1:Math.max(1,Math.ceil(l.length/50)),z=e=>{const t=R(),a=Math.min(Math.max(e,1),t);g(a)},I="all"===(null===x||void 0===x?void 0:x.id)?l.slice(50*(m-1),50*m):[],L=async()=>{try{u(!0);const e=await fetch("".concat(mn,"/api/products"));if(e.ok){const t=((await e.json()).products||[]).filter(e=>!1!==e.is_active);c((e=>{const t=Array.isArray(e)?[...e]:[];for(let a=t.length-1;a>0;a-=1){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t})(t)),h(!0),g(1)}}catch(e){console.error("Error fetching all products:",e)}finally{u(!1)}};return v?(0,yn.jsx)("div",{className:"shop-page-new page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading..."})]})}):(0,yn.jsxs)("div",{className:"shop-page-new page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"shop-header-new",children:[(0,yn.jsx)("h1",{children:"CATEGORIES"}),(0,yn.jsxs)("div",{className:"shop-header-actions",children:[(0,yn.jsxs)("button",{className:"icon-btn shop-favorites-btn",onClick:()=>e("/shop/favorites"),"aria-label":"View favorites",style:{position:"relative"},children:[(0,yn.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),C.length>0&&(0,yn.jsx)("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ff6b9d",color:"white",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",border:"2px solid white"},children:C.length>99?"99+":C.length})]}),(0,yn.jsx)("button",{className:"secondary-btn shop-provider-btn",onClick:()=>j(!0),children:"Become a Supplier"}),(0,yn.jsxs)("button",{className:"icon-btn shop-menu-trigger",onClick:()=>N(!0),"aria-label":"Open shop menu",children:[(0,yn.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,yn.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,yn.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),(0,yn.jsx)("span",{children:"Menu"})]})]})]}),(0,yn.jsx)("div",{className:"shop-category-nav",children:(0,yn.jsx)("div",{className:"category-scroll-track",children:t.map(e=>(0,yn.jsxs)("button",{className:"category-pill ".concat((null===x||void 0===x?void 0:x.id)===e.id?"active":""),onClick:()=>{f(e)},children:[(0,yn.jsxs)("span",{className:"category-pill-icon",children:["Men"===e.name&&"\ud83d\udc55","Women"===e.name&&"\ud83d\udc57","Kids"===e.name&&"\ud83e\uddf8","Electronics"===e.name&&"\ud83d\udcf1","Home"===e.name&&"\ud83c\udfe0",!["Men","Women","Kids","Electronics","Home"].includes(e.name)&&"\ud83d\udce6"]}),(0,yn.jsx)("span",{className:"category-pill-name",children:e.name})]},e.id))})}),(0,yn.jsx)("div",{className:"shop-content-new",children:x&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"category-title-section",children:(0,yn.jsx)("h2",{children:x.name.toUpperCase()})}),"all"===x.id?(0,yn.jsxs)("div",{className:"all-products-section",children:[d&&(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading products..."})]}),!d&&0===l.length&&(0,yn.jsxs)("div",{className:"no-products-message compact",children:[(0,yn.jsx)("div",{className:"no-products-icon",children:"\ud83d\uded2"}),(0,yn.jsx)("h3",{children:"No products available"}),(0,yn.jsx)("p",{children:"We\u2019re adding products soon. Please check back later."})]}),!d&&l.length>0&&(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"products-grid-mobile shop-all-products-grid",children:I.map(t=>(0,yn.jsxs)("div",{className:"product-card-mobile",onClick:()=>{return a=t.id,void e("/shop/product/".concat(a));var a},style:{position:"relative"},children:[t.discounted_price&&t.original_price&&t.discounted_price<t.original_price&&(0,yn.jsxs)("div",{style:{position:"absolute",top:"10px",left:"10px",background:"linear-gradient(135deg, #f97316 0%, #ef4444 100%)",color:"#fff",padding:"6px 12px",borderRadius:"999px",fontSize:"12px",fontWeight:700,boxShadow:"0 4px 12px rgba(239,68,68,0.35)",zIndex:2},children:[Math.round((t.original_price-t.discounted_price)/t.original_price*100),"% OFF"]}),(0,yn.jsx)("button",{className:"product-favorite-btn ".concat(S(t.id)?"active":""),"aria-label":S(t.id)?"Remove from favourites":"Add to favourites",onClick:e=>((e,t)=>{e.stopPropagation(),_(t)})(e,t),children:(0,yn.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),(0,yn.jsxs)("div",{className:"product-image-mobile",children:[t.images&&t.images.length>0?(0,yn.jsx)("img",{src:t.images[0].startsWith("http")?t.images[0]:"".concat(mn).concat(t.images[0]),alt:t.title,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"product-image-placeholder",style:{display:t.images&&t.images.length>0?"none":"flex"},children:(0,yn.jsx)("span",{children:"\ud83d\udce6"})})]}),(0,yn.jsxs)("div",{className:"product-info-mobile",children:[(0,yn.jsx)("h3",{className:"product-title-mobile",children:t.title}),t.description&&(0,yn.jsx)("p",{className:"product-description-mobile",children:t.description.length>80?"".concat(t.description.substring(0,80),"..."):t.description}),t.discounted_price?(0,yn.jsxs)("div",{className:"product-price-mobile",children:[(0,yn.jsxs)("span",{className:"price-current",children:["\u20b9",t.discounted_price]}),(0,yn.jsxs)("span",{className:"price-original",children:["\u20b9",t.original_price]})]}):(0,yn.jsx)("div",{className:"product-price-mobile",children:(0,yn.jsxs)("span",{className:"price-current",children:["\u20b9",t.original_price]})})]})]},t.id))}),(0,yn.jsxs)("div",{className:"all-products-pagination",children:[(0,yn.jsx)("button",{className:"pagination-btn",onClick:()=>z(m-1),disabled:m<=1,children:"Previous"}),(0,yn.jsx)("button",{className:"pagination-btn",onClick:()=>z(m+1),disabled:m>=R(),children:"Next"})]})]})]}):(0,yn.jsx)(yn.Fragment,{children:0===n.length?(0,yn.jsx)("div",{className:"no-subcategories",children:(0,yn.jsx)("p",{children:"No subcategories available"})}):(0,yn.jsxs)("div",{className:"subcategory-section",children:[(0,yn.jsx)("h3",{className:"section-title",children:"Categories"}),(0,yn.jsx)("div",{className:"subcategory-grid",children:n.map(t=>(0,yn.jsxs)("div",{className:"subcategory-card",onClick:()=>(t=>{const a=t.category_id||t.parent_category_id||(null===x||void 0===x?void 0:x.id);e("/shop/products?category=".concat(a,"&subcategory=").concat(t.id))})(t),children:[(0,yn.jsxs)("div",{className:"subcategory-image",children:[t.image_url?(0,yn.jsx)("img",{src:t.image_url.startsWith("http")?t.image_url:"".concat(mn).concat(t.image_url),alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"placeholder-image",style:{display:t.image_url?"none":"flex"},children:t.name.substring(0,2).toUpperCase()})]}),(0,yn.jsx)("div",{className:"subcategory-name",children:t.name})]},t.id))})]})})]})}),(0,yn.jsx)("div",{className:"shop-offcanvas-overlay ".concat(w?"open":""),onClick:()=>N(!1),"aria-hidden":!w}),(0,yn.jsxs)("aside",{className:"shop-offcanvas ".concat(w?"open":""),"aria-hidden":!w,children:[(0,yn.jsxs)("div",{className:"shop-offcanvas-header",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{className:"shop-offcanvas-eyebrow",children:"Explore Unlimited Hub"}),(0,yn.jsx)("h3",{children:"Your Shop Menu"})]}),(0,yn.jsx)("button",{className:"icon-btn shop-offcanvas-close",onClick:()=>N(!1),"aria-label":"Close menu",children:(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,yn.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,yn.jsxs)("div",{className:"shop-offcanvas-content",children:[(0,yn.jsxs)("div",{className:"shop-offcanvas-section",children:[(0,yn.jsx)("p",{className:"section-title",children:"Quick Actions"}),(0,yn.jsx)("div",{className:"shop-offcanvas-links",children:A.map(e=>(0,yn.jsxs)("button",{className:"shop-offcanvas-link",onClick:()=>T(e.path),children:[(0,yn.jsx)("span",{className:"shop-offcanvas-link-icon",children:e.icon}),(0,yn.jsxs)("span",{children:[(0,yn.jsx)("strong",{children:e.label}),(0,yn.jsx)("small",{children:e.description})]})]},e.id))})]}),k.length>0&&(0,yn.jsxs)("div",{className:"shop-offcanvas-section",children:[(0,yn.jsx)("p",{className:"section-title",children:"Info & Policies"}),(0,yn.jsx)("div",{className:"shop-offcanvas-static-pages",children:k.map(e=>(0,yn.jsx)("button",{className:"shop-static-page-chip",onClick:()=>T("/pages/".concat(e.slug)),children:e.title},e.slug))})]}),(0,yn.jsxs)("div",{className:"shop-offcanvas-section",children:[(0,yn.jsx)("p",{className:"section-title",children:"Need to sell?"}),(0,yn.jsx)("button",{className:"shop-offcanvas-cta",onClick:()=>T("/shop-admin/login"),children:"Go to Provider Dashboard"})]})]})]}),b&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>j(!1),children:(0,yn.jsxs)("div",{className:"modal-content provider-modal",onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:"Become a Shop Provider"}),(0,yn.jsx)("button",{className:"modal-close",onClick:()=>j(!1),children:"\xd7"})]}),(0,yn.jsxs)("div",{className:"modal-body",children:[(0,yn.jsx)("p",{children:"Reach Unlimited Hub shoppers by listing your products with us. Create a provider account and manage orders, inventory, and promotions from a single dashboard."}),(0,yn.jsxs)("ul",{children:[(0,yn.jsx)("li",{children:"Dedicated provider dashboard"}),(0,yn.jsx)("li",{children:"Real-time order tracking"}),(0,yn.jsx)("li",{children:"Promotional tools and analytics"})]})]}),(0,yn.jsxs)("div",{className:"modal-actions",children:[(0,yn.jsx)("button",{className:"secondary-btn",onClick:()=>j(!1),children:"Maybe Later"}),(0,yn.jsx)("button",{className:"primary-btn",onClick:()=>{j(!1),e("/shop-admin/login")},children:"Continue to Provider Login"})]})]})})]})},br=()=>{const e=Ra(),[t]=hn(),a=t.get("category"),n=t.get("subcategory"),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(!0),{toggleFavorite:h,isFavorite:m}=vr();(0,r.useEffect)(()=>{g()},[a,n]);const g=async()=>{try{p(!0);const e=new URLSearchParams;a&&e.append("category_id",a),n&&e.append("subcategory_id",n);const t=await fetch("".concat(mn,"/api/products?").concat(e));if(t.ok){const e=await t.json(),a=(e.products||[]).filter(e=>!1!==e.is_active);i(a);const n=a.length>0?a:e.products||[];n.length>0&&(l(n[0].category_name||""),d(n[0].subcategory_name||""))}}catch(e){console.error("Error fetching products:",e)}finally{p(!1)}};return u?(0,yn.jsx)("div",{className:"product-list-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading products..."})]})}):(0,yn.jsxs)("div",{className:"product-list-page page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"product-list-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e("/shop"),children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsxs)("div",{className:"header-title",children:[(0,yn.jsx)("h1",{children:c||o}),c&&(0,yn.jsxs)("p",{className:"breadcrumb",children:[o," / ",c]})]})]}),(0,yn.jsx)("div",{className:"products-grid-mobile",children:0===s.length?(0,yn.jsxs)("div",{className:"no-products-message",children:[(0,yn.jsx)("div",{className:"no-products-icon",children:(0,yn.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,yn.jsx)("circle",{cx:"60",cy:"60",r:"55",fill:"#f0f4ff",stroke:"#667eea",strokeWidth:"2",strokeDasharray:"4 4"}),(0,yn.jsx)("rect",{x:"35",y:"35",width:"50",height:"50",rx:"8",fill:"white",stroke:"#667eea",strokeWidth:"2"}),(0,yn.jsx)("path",{d:"M45 50H75M45 60H65M45 70H70",stroke:"#667eea",strokeWidth:"3",strokeLinecap:"round"}),(0,yn.jsx)("circle",{cx:"75",cy:"45",r:"8",fill:"#ff6b6b"}),(0,yn.jsx)("path",{d:"M72 42L78 48M78 42L72 48",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})}),(0,yn.jsx)("h2",{className:"no-products-title",children:"No Products Found"}),(0,yn.jsx)("p",{className:"no-products-text",children:"We couldn't find any products in this category right now. Explore other categories to discover amazing products!"}),(0,yn.jsxs)("button",{className:"browse-categories-btn",onClick:()=>e("/shop"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,yn.jsx)("path",{d:"m21 21-4.35-4.35"})]}),"Browse Categories"]})]}):s.map(t=>(0,yn.jsxs)("div",{className:"product-card-mobile",onClick:()=>{return a=t.id,void e("/shop/product/".concat(a));var a},style:{position:"relative"},children:[(0,yn.jsx)("button",{className:"product-favorite-btn ".concat(m(t.id)?"active":""),"aria-label":m(t.id)?"Remove from favourites":"Add to favourites",onClick:e=>((e,t)=>{e.stopPropagation(),h(t)})(e,t),children:(0,yn.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),(0,yn.jsxs)("div",{className:"product-image-mobile",children:[t.images&&t.images.length>0?(0,yn.jsx)("img",{src:t.images[0].startsWith("http")?t.images[0]:"".concat(mn).concat(t.images[0]),alt:t.title,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,yn.jsx)("div",{className:"product-image-placeholder",style:{display:t.images&&t.images.length>0?"none":"flex"},children:(0,yn.jsx)("span",{children:"\ud83d\udce6"})})]}),(0,yn.jsxs)("div",{className:"product-info-mobile",children:[(0,yn.jsx)("h3",{className:"product-title-mobile",children:t.title}),t.description&&(0,yn.jsx)("p",{className:"product-description-mobile",children:t.description.length>80?"".concat(t.description.substring(0,80),"..."):t.description}),t.discounted_price?(0,yn.jsxs)("div",{className:"product-price-mobile",children:[(0,yn.jsxs)("span",{className:"price-current",children:["\u20b9",t.discounted_price]}),(0,yn.jsxs)("span",{className:"price-original",children:["\u20b9",t.original_price]})]}):(0,yn.jsx)("div",{className:"product-price-mobile",children:(0,yn.jsxs)("span",{className:"price-current",children:["\u20b9",t.original_price]})})]})]},t.id))})]})},jr=()=>{var e;const t=Ra(),{productId:a}=za(),{user:n}=wn(),{showToast:s}=Tn(),{toggleFavorite:i,isFavorite:o}=vr(),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(0),[p,h]=(0,r.useState)(1),[m,g]=(0,r.useState)(!0),[x,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(()=>gr(ur,[])),[b,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(()=>gr(hr,null));(0,r.useEffect)(()=>{(async()=>{if(a)try{g(!0);const e=await fetch("".concat(mn,"/api/products?product_id=").concat(a));if(e.ok){const t=await e.json();t.products&&t.products.length>0?(c(t.products[0]),u(0)):c(null)}else c(null)}catch(e){console.error("Error fetching product:",e),c(null)}finally{g(!1)}})()},[a]),(0,r.useEffect)(()=>fr(ur,e=>{y(Array.isArray(e)?e:[])}),[]),(0,r.useEffect)(()=>fr(hr,e=>{N(e||null)}),[]),(0,r.useEffect)(()=>{const e=e=>{e.key===hr&&N(gr(hr,null))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,r.useEffect)(()=>{b&&N(gr(hr,null))},[b]),(0,r.useEffect)(()=>(document.body.style.overflow=b?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[b]);const k=e=>{const t=Array.isArray(e)?e:[];y(t),xr(ur,t)},_=(e,t)=>{k(v.map(a=>{if(a.id===e){const e=Math.max(1,a.quantity+t);return ge(ge({},a),{},{quantity:e})}return a}))},S=(0,r.useMemo)(()=>v.reduce((e,t)=>e+(Number(t.price)||0)*t.quantity,0),[v]);if(m)return(0,yn.jsx)("div",{className:"product-detail-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading product..."})]})});if(!l)return(0,yn.jsx)("div",{className:"product-detail-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"error-container",children:[(0,yn.jsx)("p",{children:"Product not found"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>t("/shop"),children:"Back to Shop"})]})});const C=l.images||[];return(0,yn.jsxs)("div",{className:"product-detail-page page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"product-detail-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>t(-1),children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsx)("h1",{children:"Product Details"}),(0,yn.jsx)("button",{className:"icon-btn ".concat(l&&o(l.id)?"favorite-active":""),onClick:()=>{l&&(i(l),s(o(l.id)?"Removed from favorites":"Added to favorites",{type:"success"}))},"aria-label":l&&o(l.id)?"Remove from favourites":"Add to favourites",children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),(0,yn.jsxs)("div",{className:"product-detail-content",children:[(0,yn.jsxs)("div",{className:"product-gallery",children:[(0,yn.jsxs)("div",{className:"main-image",children:[C.length>0?(0,yn.jsx)("img",{src:null!==(e=C[d])&&void 0!==e&&e.startsWith("http")?C[d]:"".concat(mn).concat(C[d]),alt:l.title,onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="flex")}}):null,(0,yn.jsxs)("div",{className:"no-image-large",style:{display:C.length>0?"none":"flex"},children:[(0,yn.jsx)("span",{children:"\ud83d\udce6"}),(0,yn.jsx)("p",{children:"No Image"})]})]}),C.length>1&&(0,yn.jsx)("div",{className:"image-thumbnails",children:C.map((e,t)=>(0,yn.jsx)("div",{className:"thumbnail ".concat(d===t?"active":""),onClick:()=>u(t),children:(0,yn.jsx)("img",{src:e.startsWith("http")?e:"".concat(mn).concat(e),alt:"".concat(l.title," ").concat(t+1),onError:e=>{e.target.style.display="none"}})},t))})]}),(0,yn.jsxs)("div",{className:"product-info-detail",children:[(0,yn.jsxs)("div",{className:"product-category-badge",children:[l.category_name,l.subcategory_name&&" / ".concat(l.subcategory_name)]}),(0,yn.jsx)("h2",{className:"product-title-detail",children:l.title}),(0,yn.jsx)("div",{className:"product-price-detail",children:l.discounted_price?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsxs)("span",{className:"price-main",children:["\u20b9",l.discounted_price]}),(0,yn.jsxs)("span",{className:"price-strike",children:["\u20b9",l.original_price]}),(0,yn.jsxs)("span",{className:"price-discount",children:[Math.round((l.original_price-l.discounted_price)/l.original_price*100),"% OFF"]})]}):(0,yn.jsxs)("span",{className:"price-main",children:["\u20b9",l.original_price]})}),(0,yn.jsx)("div",{className:"stock-info",children:l.stock_quantity>0?(0,yn.jsxs)("span",{className:"in-stock",children:["\u2713 In Stock (",l.stock_quantity," available)"]}):(0,yn.jsx)("span",{className:"out-of-stock",children:"\u2717 Out of Stock"})}),(0,yn.jsxs)("div",{className:"product-description-section",children:[(0,yn.jsx)("h3",{children:"Product Description"}),(0,yn.jsx)("p",{children:l.description})]}),l.stock_quantity>0&&(0,yn.jsxs)("div",{className:"quantity-selector",children:[(0,yn.jsx)("label",{children:"Quantity:"}),(0,yn.jsxs)("div",{className:"quantity-controls",children:[(0,yn.jsx)("button",{className:"qty-btn",onClick:()=>h(Math.max(1,p-1)),disabled:p<=1,children:"-"}),(0,yn.jsx)("span",{className:"qty-display",children:p}),(0,yn.jsx)("button",{className:"qty-btn",onClick:()=>h(Math.min(l.stock_quantity,p+1)),disabled:p>=l.stock_quantity,children:"+"})]})]})]})]}),l.stock_quantity>0&&(0,yn.jsxs)("div",{className:"product-actions-fixed",children:[(0,yn.jsx)("button",{className:"btn-add-cart",onClick:()=>{if(!n)return s("Please login to add items to cart",{type:"error"}),void t("/login");f(!0);try{const e=gr(ur,[]),t=parseInt(a,10),n=l.images&&l.images.length>0?l.images[0]:null,r=n?n.startsWith("http")?n:"".concat(mn).concat(n):null,s=l.discounted_price||l.original_price||0,i={id:t,title:l.title,price:Number(s),originalPrice:l.original_price||s,discountedPrice:l.discounted_price||null,image:r,quantity:p,category:l.category_name||"",seller:l.provider_name||"",isAdminProduct:!!l.is_admin_product},o=Array.isArray(e)?[...e]:[],c=o.findIndex(e=>e.id===i.id);c>=0?o[c].quantity+=i.quantity:o.push(i),k(o),j(!0)}catch(e){console.error("Error updating cart:",e),s("Failed to add to cart. Please try again.",{type:"error"})}finally{f(!1)}},disabled:x,children:x?"Adding...":"Add to Cart"}),(0,yn.jsx)("button",{className:"btn-buy-now",onClick:()=>{if(!n)return s("Please login to purchase",{type:"error"}),void t("/login");t("/shop/checkout/".concat(a,"?quantity=").concat(p))},children:"Buy Now"})]}),(0,yn.jsx)("div",{className:"cart-drawer-overlay ".concat(b?"open":""),onClick:()=>j(!1)}),(0,yn.jsxs)("div",{className:"cart-drawer ".concat(b?"open":""),children:[(0,yn.jsxs)("div",{className:"cart-drawer-header",children:[(0,yn.jsx)("h2",{children:"Added to Cart"}),(0,yn.jsx)("button",{className:"icon-btn",onClick:()=>j(!1),children:"\u2715"})]}),(0,yn.jsxs)("div",{className:"cart-drawer-body",children:[w&&(0,yn.jsxs)("div",{className:"address-block saved-address-card",children:[(0,yn.jsx)("div",{className:"saved-address-header",children:(0,yn.jsx)("strong",{children:"Saved Address"})}),(0,yn.jsxs)("div",{className:"saved-address-details",children:[w.full_name&&(0,yn.jsx)("p",{children:(0,yn.jsx)("strong",{children:w.full_name})}),w.address_line1&&(0,yn.jsx)("p",{children:w.address_line1}),w.address_line2&&(0,yn.jsx)("p",{children:w.address_line2}),(w.city||w.state||w.pincode)&&(0,yn.jsx)("p",{children:[w.city,w.state,w.pincode].filter(Boolean).join(", ")}),w.phone&&(0,yn.jsxs)("p",{children:["Phone: ",w.phone]})]})]}),0===v.length?(0,yn.jsxs)("div",{className:"empty-cart",children:[(0,yn.jsx)("div",{className:"empty-icon",children:"\ud83d\uded2"}),(0,yn.jsx)("p",{children:"Your cart is empty."})]}):(0,yn.jsx)("ul",{className:"cart-drawer-list",children:v.map(e=>{const a=(Number(e.price)||0)*e.quantity;return(0,yn.jsxs)("li",{className:"cart-drawer-item",children:[(0,yn.jsx)("div",{className:"cart-item-thumb",children:e.image?(0,yn.jsx)("img",{src:e.image,alt:e.title}):(0,yn.jsx)("div",{className:"placeholder-thumb",children:"\ud83d\udce6"})}),(0,yn.jsxs)("div",{className:"cart-item-content",children:[(0,yn.jsx)("h3",{children:e.title}),(0,yn.jsxs)("div",{className:"cart-item-price",children:["\u20b9",Number(e.price||0).toLocaleString()]}),(0,yn.jsxs)("div",{className:"cart-item-controls",children:[(0,yn.jsxs)("div",{className:"quantity-controls",children:[(0,yn.jsx)("button",{onClick:()=>_(e.id,-1),children:"-"}),(0,yn.jsx)("span",{children:e.quantity}),(0,yn.jsx)("button",{onClick:()=>_(e.id,1),children:"+"})]}),(0,yn.jsx)("button",{className:"remove-btn",onClick:()=>{return t=e.id,void k(v.filter(e=>e.id!==t));var t},children:"Remove"})]})]}),(0,yn.jsxs)("div",{className:"cart-item-total",children:[(0,yn.jsxs)("span",{children:["\u20b9",a.toLocaleString()]}),(0,yn.jsx)("button",{className:"primary-btn",onClick:()=>(e=>{j(!1),t("/shop/checkout/".concat(e.id,"?quantity=").concat(e.quantity))})(e),children:"Buy Now"})]})]},e.id)})})]}),(0,yn.jsxs)("div",{className:"cart-drawer-footer",children:[(0,yn.jsxs)("div",{className:"cart-subtotal",children:[(0,yn.jsx)("span",{children:"Subtotal"}),(0,yn.jsxs)("strong",{children:["\u20b9",S.toLocaleString()]})]}),(0,yn.jsxs)("div",{className:"cart-drawer-actions",children:[(0,yn.jsx)("button",{className:"secondary-btn",onClick:()=>j(!1),children:"Continue Shopping"}),(0,yn.jsx)("button",{className:"primary-btn",onClick:()=>{if(0===v.length)return void j(!1);const e=v.reduce((e,t)=>{const a=e.find(e=>e.id===t.id);return a?a.quantity+=t.quantity:e.push({id:t.id,quantity:t.quantity}),e},[]);localStorage.setItem("shopCheckoutQueue",JSON.stringify(e)),j(!1);const a=e[0];t("/shop/checkout/".concat(a.id,"?quantity=").concat(a.quantity,"&batch=true"))},children:"Buy All"})]})]})]}),(0,yn.jsx)(lr,{})]})},wr="shopSavedAddress",Nr=()=>{const e=Ra(),{productId:t}=za(),[a]=hn(),n=parseInt(a.get("quantity"))||1,s="true"===a.get("batch"),{user:i,token:o}=wn(),{showToast:l}=Tn(),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(!0),[h,m]=(0,r.useState)(!1),[g,x]=(0,r.useState)([]),[f,v]=(0,r.useState)({full_name:(null===i||void 0===i?void 0:i.name)||"",phone:(null===i||void 0===i?void 0:i.phone)||"",address_line1:"",address_line2:"",city:"",state:"",pincode:"",country:"India"}),[y,b]=(0,r.useState)({loading:!1,message:""}),j=(0,r.useRef)("");(0,r.useEffect)(()=>{if(!i)return void e("/login");(()=>{if(!s)return x([]),void w(t);try{const a=JSON.parse(localStorage.getItem("shopCheckoutQueue")||"[]");if(!Array.isArray(a)||0===a.length)return localStorage.removeItem("shopCheckoutQueue"),void e("/shop",{replace:!0});const n=JSON.parse(localStorage.getItem("shopCart")||"[]"),r=a.map(e=>{const t=n.find(t=>Number(t.id)===Number(e.id));return{id:e.id,quantity:e.quantity,title:(null===t||void 0===t?void 0:t.title)||"",price:Number((null===t||void 0===t?void 0:t.price)||0),discountedPrice:null!=(null===t||void 0===t?void 0:t.discountedPrice)?Number(t.discountedPrice):null,originalPrice:Number((null===t||void 0===t?void 0:t.originalPrice)||(null===t||void 0===t?void 0:t.price)||0),image:(null===t||void 0===t?void 0:t.image)||null}});x(r),w(t)}catch(a){console.error("Failed to load checkout queue:",a),localStorage.removeItem("shopCheckoutQueue"),e("/shop",{replace:!0})}})()},[e,i,t,s]),(0,r.useEffect)(()=>{try{const e=localStorage.getItem(wr);if(e){const t=JSON.parse(e);t&&"object"===typeof t&&v(e=>ge(ge({},e),t))}}catch(e){console.warn("Unable to load saved shipping address:",e)}},[]);const w=async e=>{try{p(!0);const t=await fetch("".concat(mn,"/api/products?product_id=").concat(e));if(t.ok){const e=await t.json();e.products&&e.products.length>0?d(e.products[0]):d(null)}else d(null)}catch(t){console.error("Error fetching product:",t),d(null)}finally{p(!1)}},N=e=>{const{name:t,value:a}=e.target;if("pincode"===t){const e=a.replace(/\D/g,"").slice(0,6);return e.length<6&&(b({loading:!1,message:""}),j.current=""),void v(t=>ge(ge({},t),{},{pincode:e}))}v(e=>ge(ge({},e),{},{[t]:a}))};(0,r.useEffect)(()=>{/^\d{6}$/.test(f.pincode)&&(async e=>{if(e&&6===e.length&&j.current!==e){j.current=e,b({loading:!0,message:""});try{var t;const a=await fetch("https://api.postalpincode.in/pincode/".concat(e)),n=await a.json();if(Array.isArray(n)&&"Success"===(null===(t=n[0])||void 0===t?void 0:t.Status)&&Array.isArray(n[0].PostOffice)&&n[0].PostOffice.length>0){const e=n[0].PostOffice[0];v(t=>ge(ge({},t),{},{city:e.District||e.Block||t.city,state:e.State||t.state})),b({loading:!1,message:"".concat(e.District||"").concat(e.District&&e.State?", ":"").concat(e.State||"").trim()})}else b({loading:!1,message:"Unable to detect city/state for this pincode."})}catch(a){console.error("Error fetching pincode details:",a),b({loading:!1,message:"Pincode lookup failed. Please enter city/state manually."})}}})(f.pincode)},[f.pincode]);const k=(0,r.useMemo)(()=>{if(!s){if(!c)return[];const e=c.discounted_price||c.original_price||0;return[{id:t,title:c.title,quantity:n,unitPrice:e,originalPrice:c.original_price,image:c.images&&c.images.length>0?c.images[0].startsWith("http")?c.images[0]:"".concat(mn).concat(c.images[0]):null}]}return g.map(e=>{const t=null!=e.discountedPrice?e.discountedPrice:e.price;return{id:e.id,title:e.title,quantity:e.quantity,unitPrice:t,originalPrice:e.originalPrice,image:e.image}})},[s,g,c,t,n]),_=(0,r.useMemo)(()=>k.reduce((e,t)=>e+t.unitPrice*t.quantity,0),[k]);return u?(0,yn.jsx)("div",{className:"checkout-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading..."})]})}):c||0!==k.length?(0,yn.jsxs)("div",{className:"checkout-page page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"checkout-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e(-1),children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsx)("h1",{children:"Checkout"}),(0,yn.jsx)("div",{style:{width:24}})]}),(0,yn.jsxs)("div",{className:"checkout-content",children:[(0,yn.jsxs)("div",{className:"checkout-summary",children:[(0,yn.jsx)("h2",{children:"Order Summary"}),(0,yn.jsx)("div",{className:"checkout-product-list",children:k.map(e=>(0,yn.jsxs)("div",{className:"checkout-product-item",children:[e.image&&(0,yn.jsx)("img",{src:e.image,alt:e.title,className:"checkout-product-image"}),(0,yn.jsxs)("div",{className:"checkout-product-info",children:[(0,yn.jsx)("h3",{children:e.title}),(0,yn.jsxs)("p",{children:["Quantity: ",e.quantity]}),(0,yn.jsxs)("div",{className:"checkout-product-price",children:[(0,yn.jsxs)("span",{className:"price-main",children:["\u20b9",e.unitPrice]}),e.originalPrice&&e.originalPrice!==e.unitPrice&&(0,yn.jsxs)("span",{className:"price-strike",children:["\u20b9",e.originalPrice]})]})]})]},e.id))})]}),(0,yn.jsxs)("div",{className:"checkout-section",children:[(0,yn.jsx)("h2",{children:"Shipping Address"}),(0,yn.jsxs)("div",{className:"checkout-form",children:[(0,yn.jsx)("input",{type:"text",name:"full_name",placeholder:"Full Name *",value:f.full_name,onChange:N,required:!0}),(0,yn.jsx)("input",{type:"tel",name:"phone",placeholder:"Phone Number *",value:f.phone,onChange:N,required:!0}),(0,yn.jsx)("input",{type:"text",name:"address_line1",placeholder:"Address Line 1 *",value:f.address_line1,onChange:N,required:!0}),(0,yn.jsx)("input",{type:"text",name:"address_line2",placeholder:"Address Line 2",value:f.address_line2,onChange:N}),(0,yn.jsx)("input",{type:"text",name:"pincode",placeholder:"Pincode *",value:f.pincode,onChange:N,maxLength:"6",pattern:"[0-9]{6}",required:!0}),(0,yn.jsx)("small",{className:"input-hint",style:{color:"#6b7280"},children:y.loading?"Detecting city and state...":y.message||"Enter 6-digit PIN to auto-fill city & state"}),(0,yn.jsxs)("div",{className:"checkout-form-row",children:[(0,yn.jsx)("input",{type:"text",name:"city",placeholder:"City *",value:f.city,onChange:N,required:!0}),(0,yn.jsx)("input",{type:"text",name:"state",placeholder:"State *",value:f.state,onChange:N,required:!0})]})]})]}),(0,yn.jsxs)("div",{className:"checkout-total",children:[(0,yn.jsx)("h2",{children:"Order Total"}),(0,yn.jsxs)("div",{className:"checkout-total-row",children:[(0,yn.jsx)("span",{children:"Subtotal:"}),(0,yn.jsxs)("strong",{children:["\u20b9",_.toLocaleString()]})]}),(0,yn.jsxs)("div",{className:"checkout-total-row",children:[(0,yn.jsx)("span",{children:"Shipping:"}),(0,yn.jsx)("strong",{children:"Free"})]}),(0,yn.jsxs)("div",{className:"checkout-total-row checkout-total-final",children:[(0,yn.jsx)("span",{children:"Total:"}),(0,yn.jsxs)("strong",{children:["\u20b9",_.toLocaleString()]})]})]})]}),(0,yn.jsx)("div",{className:"checkout-actions",children:(0,yn.jsx)("button",{className:"btn-checkout",onClick:async()=>{if(f.full_name.trim()?f.phone.trim()?f.address_line1.trim()?f.city.trim()?f.state.trim()?f.pincode.trim()&&6===f.pincode.length||(l("Please enter valid 6-digit pincode",{type:"error"}),0):(l("Please enter state",{type:"error"}),0):(l("Please enter city",{type:"error"}),0):(l("Please enter address",{type:"error"}),0):(l("Please enter phone number",{type:"error"}),0):(l("Please enter full name",{type:"error"}),0)){try{localStorage.setItem(wr,JSON.stringify(f))}catch(a){console.warn("Failed to persist shipping address:",a)}try{m(!0);const r={shipping_address:f,total_amount:_};s?r.cart_items=k.map(e=>({product_id:Number(e.id),quantity:e.quantity})):(r.product_id=Number(t),r.quantity=n);const c=await fetch("".concat(mn,"/api/shop/create-order"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(r)});if(!c.ok){const e=await c.json();return l(e.error||"Failed to create order",{type:"error"}),void m(!1)}const d=await c.json(),u={key:d.razorpay_key_id,amount:d.amount,currency:d.currency,name:"Unlimited Hub",description:"Cart Checkout",order_id:d.order_id,handler:async function(t){try{const a=await fetch("".concat(mn,"/api/shop/verify-payment"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify({razorpay_order_id:t.razorpay_order_id,razorpay_payment_id:t.razorpay_payment_id,razorpay_signature:t.razorpay_signature,order_id:d.order_id})});if(a.ok){const t=await a.json();localStorage.removeItem("shopCheckoutQueue"),localStorage.removeItem("shopCart"),m(!1),e("/shop/order-confirmation/".concat(t.order_id))}else{const e=await a.json();l(e.error||"Payment verification failed",{type:"error"}),m(!1)}}catch(a){console.error("Payment verification error:",a),l("Payment verification failed. Please contact support.",{type:"error"}),m(!1)}},prefill:{name:f.full_name,email:(null===i||void 0===i?void 0:i.email)||"",contact:f.phone},theme:{color:"#667eea"},modal:{ondismiss:function(){m(!1)}}};new window.Razorpay(u).open()}catch(a){console.error("Checkout error:",a),l("Failed to process checkout. Please try again.",{type:"error"}),m(!1)}}},disabled:h,children:h?"Processing Payment...":"Pay \u20b9".concat(_.toLocaleString())})})]}):(0,yn.jsx)("div",{className:"checkout-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"error-container",children:[(0,yn.jsx)("p",{children:"Cart items not found"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>e("/shop"),children:"Back to Shop"})]})})},kr=()=>{const e=Ra(),{orderId:t}=za(),{token:a}=wn(),[n,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),l=(0,r.useMemo)(()=>{const e=new Date;return e.setDate(e.getDate()+10),e.toLocaleDateString()},[]);(0,r.useEffect)(()=>{c()},[t]);const c=async()=>{try{o(!0);const e=await fetch("".concat(mn,"/api/shop/order/").concat(t),{headers:{Authorization:"Bearer ".concat(a)}});if(e.ok){const t=await e.json();s(t.order)}}catch(e){console.error("Error fetching order:",e)}finally{o(!1)}};return i?(0,yn.jsx)("div",{className:"order-confirmation-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading..."})]})}):n?(0,yn.jsx)("div",{className:"order-confirmation-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"confirmation-content",children:[(0,yn.jsx)("div",{className:"confirmation-icon",children:(0,yn.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,yn.jsx)("circle",{cx:"60",cy:"60",r:"55",fill:"#10b981",opacity:"0.1"}),(0,yn.jsx)("circle",{cx:"60",cy:"60",r:"45",fill:"#10b981",opacity:"0.2"}),(0,yn.jsx)("path",{d:"M45 60L55 70L75 50",stroke:"#10b981",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,yn.jsx)("h1",{className:"confirmation-title",children:"Order Confirmed!"}),(0,yn.jsx)("p",{className:"confirmation-message",children:"Thank you for your purchase. Your order has been placed successfully."}),(0,yn.jsxs)("div",{className:"order-details-card",children:[(0,yn.jsx)("h2",{children:"Order Details"}),(0,yn.jsxs)("div",{className:"order-detail-row",children:[(0,yn.jsx)("span",{children:"Order Number:"}),(0,yn.jsx)("strong",{children:n.order_number})]}),(0,yn.jsxs)("div",{className:"order-detail-row",children:[(0,yn.jsx)("span",{children:"Total Amount:"}),(0,yn.jsxs)("strong",{children:["\u20b9",parseFloat(n.total_amount).toFixed(2)]})]}),(0,yn.jsxs)("div",{className:"order-detail-row",children:[(0,yn.jsx)("span",{children:"Payment Status:"}),(0,yn.jsx)("span",{className:"status-badge ".concat("paid"===n.payment_status?"paid":"pending"),children:"paid"===n.payment_status?"Paid":"Pending"})]}),(0,yn.jsxs)("div",{className:"order-detail-row",children:[(0,yn.jsx)("span",{children:"Order Status:"}),(0,yn.jsx)("span",{className:"status-badge ".concat(n.status),children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),(0,yn.jsxs)("div",{className:"order-detail-row",children:[(0,yn.jsx)("span",{children:"Expected Delivery:"}),(0,yn.jsx)("strong",{children:l})]})]}),n.shipping_address&&(0,yn.jsxs)("div",{className:"order-details-card",children:[(0,yn.jsx)("h2",{children:"Shipping Address"}),(0,yn.jsxs)("div",{className:"shipping-address",children:[(0,yn.jsx)("p",{children:(0,yn.jsx)("strong",{children:n.shipping_address.full_name})}),(0,yn.jsx)("p",{children:n.shipping_address.address_line1}),n.shipping_address.address_line2&&(0,yn.jsx)("p",{children:n.shipping_address.address_line2}),(0,yn.jsxs)("p",{children:[n.shipping_address.city,", ",n.shipping_address.state," - ",n.shipping_address.pincode]}),(0,yn.jsxs)("p",{children:["Phone: ",n.shipping_address.phone]})]})]}),n.items&&n.items.length>0&&(0,yn.jsxs)("div",{className:"order-details-card",children:[(0,yn.jsx)("h2",{children:"Order Items"}),n.items.map((e,t)=>(0,yn.jsx)("div",{className:"order-item",children:(0,yn.jsxs)("div",{className:"order-item-info",children:[(0,yn.jsx)("h3",{children:e.product_title}),(0,yn.jsxs)("p",{children:["Quantity: ",e.quantity," \xd7 \u20b9",parseFloat(e.unit_price).toFixed(2)]}),(0,yn.jsxs)("p",{className:"order-item-total",children:["\u20b9",parseFloat(e.total_price).toFixed(2)]})]})},t))]}),(0,yn.jsxs)("div",{className:"confirmation-actions",children:[(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>e("/shop"),children:"Continue Shopping"}),(0,yn.jsx)("button",{className:"btn-secondary",onClick:()=>e("/shop/orders"),children:"View Orders"})]})]})}):(0,yn.jsx)("div",{className:"order-confirmation-page page-with-bottom-nav",children:(0,yn.jsxs)("div",{className:"error-container",children:[(0,yn.jsx)("p",{children:"Order not found"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>e("/shop"),children:"Back to Shop"})]})})},_r=()=>{const e=Ra(),{token:t}=wn(),[a,n]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),u=(0,r.useMemo)(()=>{const e=new Date;return e.setDate(e.getDate()+10),e},[]);(0,r.useEffect)(()=>{(async()=>{if(!t)return n([]),void i(!1);try{i(!0),l(null);const e=await fetch("".concat(mn,"/api/shop/orders"),{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.error||"Failed to load orders")}const a=await e.json();n(a.orders||[])}catch(e){console.error("Error loading shop orders:",e),l(e.message||"Failed to load orders")}finally{i(!1)}})()},[t]);const p=e=>{if(!e)return"\u2014";try{const t=new Date(e);return isNaN(t.getTime())?"\u2014":t.toLocaleDateString()}catch(t){return"\u2014"}},h=e=>{if(null==e)return"\u2014";try{return"\u20b9".concat(Number(e).toLocaleString())}catch(t){return"\u20b9".concat(e)}},m=e=>({pending:"Pending Confirmation",confirmed:"Confirmed",packed:"Packed",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",refunded:"Refunded"}[e]||e);return(0,yn.jsxs)("div",{className:"shop-orders-page page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"shop-orders-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e(-1),children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsx)("h1",{children:"Your Orders"}),(0,yn.jsx)("div",{style:{width:24}})]}),s?(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading your orders..."})]}):o?(0,yn.jsxs)("div",{className:"error-container",children:[(0,yn.jsx)("p",{children:o}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>window.location.reload(),children:"Retry"})]}):0===a.length?(0,yn.jsxs)("div",{className:"empty-state",children:[(0,yn.jsx)("h2",{children:"No Orders Yet"}),(0,yn.jsx)("p",{children:"Looks like you haven't placed any orders. Start shopping now!"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>e("/shop"),children:"Browse Products"})]}):(0,yn.jsx)("div",{className:"orders-list",children:a.map(e=>{var t,a;const n=c===e.id;return(0,yn.jsxs)("div",{className:"order-card",children:[(0,yn.jsxs)("div",{className:"order-card-header",onClick:()=>d(n?null:e.id),children:[(0,yn.jsxs)("div",{children:[(0,yn.jsxs)("h2",{children:["Order #",e.order_number]}),(0,yn.jsxs)("p",{children:["Placed on ",p(e.created_at)]})]}),(0,yn.jsxs)("div",{className:"order-card-meta",children:[(0,yn.jsx)("span",{className:(r=e.status,"order-status-badge status-".concat(r||"default")),children:m(e.status)}),(0,yn.jsx)("span",{className:"order-card-total",children:h(e.total_amount)}),(0,yn.jsx)("button",{className:"expand-btn","aria-label":"Toggle order details",children:(0,yn.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:n?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:(0,yn.jsx)("polyline",{points:"6 9 12 15 18 9"})})})]})]}),n&&(0,yn.jsxs)("div",{className:"order-card-body",children:[(0,yn.jsxs)("div",{className:"order-summary",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{className:"label",children:"Payment Status"}),(0,yn.jsx)("span",{className:"order-status-badge payment-".concat(e.payment_status),children:"paid"===e.payment_status?"Paid":(null===(t=e.payment_status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(a=e.payment_status)||void 0===a?void 0:a.slice(1))})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{className:"label",children:"Expected Delivery"}),(0,yn.jsx)("span",{children:u.toLocaleDateString()})]})]}),e.shipping_address&&Object.keys(e.shipping_address).length>0&&(0,yn.jsxs)("div",{className:"order-section",children:[(0,yn.jsx)("h3",{children:"Delivery Address"}),(0,yn.jsxs)("div",{className:"address-block",children:[e.shipping_address.full_name&&(0,yn.jsx)("p",{children:(0,yn.jsx)("strong",{children:e.shipping_address.full_name})}),e.shipping_address.address_line1&&(0,yn.jsx)("p",{children:e.shipping_address.address_line1}),e.shipping_address.address_line2&&(0,yn.jsx)("p",{children:e.shipping_address.address_line2}),(e.shipping_address.city||e.shipping_address.state||e.shipping_address.pincode)&&(0,yn.jsx)("p",{children:[e.shipping_address.city,e.shipping_address.state,e.shipping_address.pincode].filter(Boolean).join(", ")}),e.shipping_address.phone&&(0,yn.jsxs)("p",{children:["Phone: ",e.shipping_address.phone]})]})]}),e.items&&e.items.length>0&&(0,yn.jsxs)("div",{className:"order-section",children:[(0,yn.jsx)("h3",{children:"Items"}),(0,yn.jsx)("div",{className:"order-items",children:e.items.map(e=>{const t=e.product_images&&e.product_images.length>0?e.product_images[0].startsWith("http")?e.product_images[0]:"".concat(mn).concat(e.product_images[0]):null;return(0,yn.jsxs)("div",{className:"order-item",children:[t&&(0,yn.jsx)("img",{src:t,alt:e.product_title,className:"order-item-image"}),(0,yn.jsxs)("div",{className:"order-item-info",children:[(0,yn.jsx)("h4",{children:e.product_title}),(0,yn.jsxs)("p",{children:["Quantity: ",e.quantity]}),(0,yn.jsxs)("p",{children:["Total: ",h(e.total_price)]})]})]},e.id)})})]})]})]},e.id);var r})})]})},Sr=e=>null==e||Number.isNaN(Number(e))?"\u20b90":"\u20b9".concat(Number(e).toLocaleString()),Cr=()=>{const e=Ra(),[t,a]=(0,r.useState)(()=>gr(ur,[])),[n,s]=(0,r.useState)(()=>gr(hr,null)),[i,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>fr(ur,e=>{a(Array.isArray(e)?e:[])}),[]),(0,r.useEffect)(()=>fr(hr,e=>{s(e||null)}),[]);const l=e=>{const n="function"===typeof e?e(t):e,r=Array.isArray(n)?n:[];a(r),xr(ur,r)},c=(0,r.useMemo)(()=>t.reduce((e,t)=>{var a,n,r;return e+Number(null!==(a=null!==(n=null!==(r=t.discountedPrice)&&void 0!==r?r:t.price)&&void 0!==n?n:t.originalPrice)&&void 0!==a?a:0)*(t.quantity||1)},0),[t]),d=(0,r.useMemo)(()=>t.reduce((e,t)=>{var a,n,r,s;const i=Number(null!==(a=null!==(n=t.originalPrice)&&void 0!==n?n:t.price)&&void 0!==a?a:0),o=Number(null!==(r=null!==(s=t.discountedPrice)&&void 0!==s?s:t.price)&&void 0!==r?r:i);return i>o?e+(i-o)*(t.quantity||1):e},0),[t]),u=(e,t)=>{l(a=>a.map(a=>{if(a.id===e){const e=Math.max(1,(a.quantity||1)+t);return ge(ge({},a),{},{quantity:e})}return a}))};return(0,yn.jsxs)("div",{className:"shop-cart-page page-with-bottom-nav",children:[(0,yn.jsxs)("header",{className:"shop-cart-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e(-1),children:(0,yn.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h1",{children:"My Cart"}),(0,yn.jsxs)("p",{children:[t.length," ",1===t.length?"item":"items"," saved"]})]}),t.length>0?(0,yn.jsx)("button",{className:"text-btn",onClick:()=>l([]),children:"Clear all"}):(0,yn.jsx)("div",{style:{width:60}})]}),t.length?(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("div",{className:"shop-cart-list",children:t.map(t=>{var a,n,r;return(0,yn.jsxs)("div",{className:"shop-cart-card",children:[(0,yn.jsx)("div",{className:"shop-cart-card-media",children:t.image?(0,yn.jsx)("img",{src:(r=t.image,r?r.startsWith("http")?r:"".concat(mn).concat(r):null),alt:t.title}):(0,yn.jsx)("div",{className:"image-placeholder",children:"\ud83d\udce6"})}),(0,yn.jsxs)("div",{className:"shop-cart-card-info",children:[(0,yn.jsxs)("div",{className:"shop-cart-card-header",children:[(0,yn.jsx)("h3",{children:t.title}),(0,yn.jsx)("button",{className:"icon-only-btn","aria-label":"Remove item",onClick:()=>{return e=t.id,void l(t=>t.filter(t=>t.id!==e));var e},children:(0,yn.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,yn.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),(0,yn.jsxs)("p",{className:"shop-cart-meta",children:[t.category&&(0,yn.jsx)("span",{children:t.category}),t.seller&&(0,yn.jsxs)("span",{children:["Seller: ",t.seller]})]}),(0,yn.jsxs)("div",{className:"shop-cart-price-row",children:[(0,yn.jsx)("strong",{children:Sr(null!==(a=null!==(n=t.discountedPrice)&&void 0!==n?n:t.price)&&void 0!==a?a:t.originalPrice)}),t.originalPrice&&t.discountedPrice&&t.originalPrice>t.discountedPrice&&(0,yn.jsx)("span",{className:"strike-price",children:Sr(t.originalPrice)})]}),(0,yn.jsxs)("div",{className:"shop-cart-actions",children:[(0,yn.jsxs)("div",{className:"quantity-controls",children:[(0,yn.jsx)("button",{onClick:()=>u(t.id,-1),children:"-"}),(0,yn.jsx)("span",{children:t.quantity||1}),(0,yn.jsx)("button",{onClick:()=>u(t.id,1),children:"+"})]}),(0,yn.jsx)("button",{className:"text-btn",onClick:()=>(t=>{e("/shop/checkout/".concat(t.id,"?quantity=").concat(t.quantity||1))})(t),children:"Buy this"})]})]})]},t.id)})}),(0,yn.jsxs)("div",{className:"shop-cart-summary",children:[(0,yn.jsxs)("div",{className:"summary-card",children:[(0,yn.jsxs)("div",{className:"summary-row",children:[(0,yn.jsx)("span",{children:"Subtotal"}),(0,yn.jsx)("strong",{children:Sr(c)})]}),(0,yn.jsxs)("div",{className:"summary-row",children:[(0,yn.jsx)("span",{children:"Savings"}),(0,yn.jsxs)("span",{className:"savings-text",children:["- ",Sr(d)]})]}),(0,yn.jsxs)("div",{className:"summary-row total",children:[(0,yn.jsx)("span",{children:"Estimated total"}),(0,yn.jsx)("strong",{children:Sr(c)})]}),(0,yn.jsxs)("div",{className:"summary-actions",children:[(0,yn.jsx)("button",{className:"secondary-btn",onClick:()=>e("/shop"),children:"Continue Shopping"}),(0,yn.jsx)("button",{className:"primary-btn",onClick:()=>{if(!t.length)return;o(!0);const a=t.map(e=>({id:e.id,quantity:e.quantity||1}));localStorage.setItem("shopCheckoutQueue",JSON.stringify(a));const n=a[0];e("/shop/checkout/".concat(n.id,"?quantity=").concat(n.quantity,"&batch=true"))},disabled:i||!t.length,children:i?"Opening checkout...":"Checkout all"})]})]}),(()=>{if(!n)return null;const{fullName:t,phone:a,addressLine1:r,addressLine2:s,city:i,state:o,postcode:l}=n;return(0,yn.jsxs)("div",{className:"shop-cart-address",children:[(0,yn.jsxs)("div",{className:"shop-cart-address-header",children:[(0,yn.jsx)("p",{children:"Shipping to"}),(0,yn.jsx)("button",{className:"text-btn",onClick:()=>e("/profile-edit"),children:"Update"})]}),t&&(0,yn.jsx)("strong",{children:t}),(0,yn.jsx)("p",{children:[r,s].filter(Boolean).join(", ")}),(0,yn.jsx)("p",{children:[i,o,l].filter(Boolean).join(", ")}),a&&(0,yn.jsxs)("p",{children:["Phone: ",a]})]})})()]})]}):(0,yn.jsxs)("div",{className:"shop-cart-empty",children:[(0,yn.jsx)("div",{className:"empty-icon",children:"\ud83d\udecd\ufe0f"}),(0,yn.jsx)("h2",{children:"Your cart is waiting"}),(0,yn.jsx)("p",{children:"Add items to your cart and they will show up here for quick checkout."}),(0,yn.jsx)("button",{className:"primary-btn",onClick:()=>e("/shop"),children:"Browse Products"})]})]})},Pr=e=>null==e?"\u20b90":"\u20b9".concat(Number(e).toLocaleString()),Er=()=>{const e=Ra(),{favorites:t,toggleFavorite:a,clearFavorites:n}=vr(),r=t=>{e("/shop/product/".concat(t))};return(0,yn.jsxs)("div",{className:"shop-favorites-page page-with-bottom-nav",children:[(0,yn.jsxs)("header",{className:"shop-favorites-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e(-1),children:(0,yn.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h1",{children:"Saved items"}),(0,yn.jsxs)("p",{children:[t.length," ",1===t.length?"product":"products"]})]}),t.length>0?(0,yn.jsx)("button",{className:"text-btn",onClick:n,children:"Clear"}):(0,yn.jsx)("div",{style:{width:48}})]}),0===t.length?(0,yn.jsxs)("div",{className:"shop-favorites-empty",children:[(0,yn.jsx)("div",{className:"empty-icon",children:"\ud83d\udc96"}),(0,yn.jsx)("h2",{children:"No favourites yet"}),(0,yn.jsx)("p",{children:"Tap the heart icon on any product to save it to this list for quick access later."}),(0,yn.jsx)("button",{className:"primary-btn",onClick:()=>e("/shop"),children:"Explore products"})]}):(0,yn.jsx)("div",{className:"shop-favorites-grid",children:t.map(e=>{var t,n,s;return(0,yn.jsxs)("div",{className:"favorite-card",onClick:()=>r(e.id),children:[(0,yn.jsx)("button",{className:"favorite-card-remove","aria-label":"Remove from favourites",onClick:t=>{t.stopPropagation(),a(e)},children:(0,yn.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})}),(0,yn.jsxs)("div",{className:"favorite-card-media",children:[e.image?(0,yn.jsx)("img",{src:(s=e.image,s?s.startsWith("http://")||s.startsWith("https://")?s:s.startsWith("/")?"".concat(mn).concat(s):"".concat(mn,"/").concat(s):null),alt:e.title,onError:e=>{e.target.style.display="none",e.target.nextSibling&&(e.target.nextSibling.style.display="flex")}}):null,(0,yn.jsx)("div",{className:"image-placeholder",style:{display:e.image?"none":"flex"},children:"\ud83d\udce6"})]}),(0,yn.jsxs)("div",{className:"favorite-card-body",children:[(0,yn.jsx)("p",{className:"favorite-card-category",children:e.category||"General"}),(0,yn.jsx)("h3",{children:e.title}),(0,yn.jsxs)("div",{className:"favorite-card-price",children:[(0,yn.jsx)("strong",{children:Pr(null!==(t=null!==(n=e.discountedPrice)&&void 0!==n?n:e.price)&&void 0!==t?t:e.originalPrice)}),e.originalPrice&&e.discountedPrice&&e.originalPrice>e.discountedPrice&&(0,yn.jsx)("span",{className:"strike-price",children:Pr(e.originalPrice)})]}),(0,yn.jsx)("p",{className:"favorite-card-provider",children:e.provider}),(0,yn.jsx)("button",{className:"secondary-btn",onClick:t=>{t.stopPropagation(),r(e.id)},children:"View product"})]})]},e.id)})})]})},Tr=e=>null==e?"\u20b90":"\u20b9".concat(Number(e).toLocaleString()),Ar=["Shoes","Jewelry","Accessories","Gadgets","Kids"],Rr=()=>{const e=Ra(),{isFavorite:t,toggleFavorite:a}=vr(),[n,s]=(0,r.useState)(""),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(()=>gr(mr,[]));(0,r.useEffect)(()=>fr(mr,e=>{h(Array.isArray(e)?e:[])}),[]);const m=e=>{h(e),xr(mr,e)},g=async e=>{const t=e.trim();if(!t)return o([]),void u(null);c(!0),u(null);try{const e=await fetch("".concat(mn,"/api/products?search=").concat(encodeURIComponent(t)));if(!e.ok)throw new Error("Failed to load products");const a=await e.json();o(Array.isArray(a.products)?a.products:[]),(e=>{const t=e.trim();t&&m([t,...p.filter(e=>e!==t)].slice(0,6))})(t)}catch(a){console.error("Search failed:",a),u(a.message||"Unable to search right now.")}finally{c(!1)}},x=e=>{s(e),g(e)},f=(0,r.useMemo)(()=>l?"Searching...":0===i.length&&!d&&n.trim()?"No matches":n.trim()?"".concat(i.length," results"):"Try searching for products",[l,i.length,d,n]);return(0,yn.jsxs)("div",{className:"shop-search-page page-with-bottom-nav",children:[(0,yn.jsxs)("header",{className:"shop-search-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e(-1),children:(0,yn.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsxs)("div",{className:"shop-search-title",children:[(0,yn.jsx)("h1",{children:"Search shop"}),(0,yn.jsx)("p",{children:f})]})]}),(0,yn.jsxs)("form",{className:"shop-search-bar",onSubmit:e=>{e.preventDefault(),g(n)},children:[(0,yn.jsxs)("div",{className:"search-input-wrapper",children:[(0,yn.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,yn.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,yn.jsx)("input",{type:"search",placeholder:"Search for product name, category, keywords...",value:n,onChange:e=>s(e.target.value)})]}),(0,yn.jsx)("button",{className:"primary-btn",type:"submit",disabled:l,children:l?"Searching...":"Search"})]}),(0,yn.jsxs)("div",{className:"shop-search-suggestions",children:[(0,yn.jsx)("div",{className:"suggestions-row",children:Ar.map(e=>(0,yn.jsx)("button",{className:"suggestion-chip",onClick:()=>x(e),children:e},e))}),p.length>0&&(0,yn.jsxs)("div",{className:"search-history",children:[(0,yn.jsxs)("div",{className:"history-header",children:[(0,yn.jsx)("p",{children:"Recent searches"}),(0,yn.jsx)("button",{className:"text-btn",onClick:()=>{m([])},children:"Clear"})]}),(0,yn.jsx)("div",{className:"history-chips",children:p.map(e=>(0,yn.jsx)("button",{className:"history-chip",onClick:()=>x(e),children:e},e))})]})]}),d&&(0,yn.jsx)("div",{className:"error-container",children:(0,yn.jsx)("p",{children:d})}),(0,yn.jsx)("div",{className:"shop-search-results",children:i.map(n=>{var r,s;const i=null!==(r=n.discounted_price)&&void 0!==r?r:n.original_price;return(0,yn.jsxs)("div",{className:"search-card",onClick:()=>e("/shop/product/".concat(n.id)),children:[(0,yn.jsxs)("div",{className:"search-card-media",children:[n.images&&n.images.length>0?(0,yn.jsx)("img",{src:n.images[0].startsWith("http")?n.images[0]:"".concat(mn).concat(n.images[0]),alt:n.title}):(0,yn.jsx)("div",{className:"image-placeholder",children:"\ud83d\udce6"}),(0,yn.jsx)("button",{className:"product-favorite-btn ".concat(t(n.id)?"active":""),"aria-label":"Toggle favourite",onClick:e=>{e.stopPropagation(),a(n)},children:(0,yn.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})})]}),(0,yn.jsxs)("div",{className:"search-card-body",children:[(0,yn.jsx)("p",{className:"search-card-category",children:n.category_name}),(0,yn.jsx)("h3",{children:n.title}),(0,yn.jsx)("p",{className:"search-card-description",children:(null===(s=n.description)||void 0===s?void 0:s.length)>90?"".concat(n.description.substring(0,90),"..."):n.description}),(0,yn.jsxs)("div",{className:"search-card-price",children:[(0,yn.jsx)("strong",{children:Tr(i)}),n.original_price&&n.discounted_price&&(0,yn.jsx)("span",{className:"strike-price",children:Tr(n.original_price)})]}),(0,yn.jsxs)("p",{className:"search-card-provider",children:["Seller: ",n.provider_name||"Admin"]})]})]},n.id)})})]})};let zr=!1;const Ir=e=>{if(zr)return;const t=Boolean(localStorage.getItem("authToken")),a=Boolean(localStorage.getItem("adminToken")),n=Boolean(localStorage.getItem("shopAdminToken"));if(!e&&!t&&!a&&!n)return;zr=!0;const r=e||(a?"/admin/login":n?"/shop-admin/login":"/login");localStorage.removeItem("authToken"),localStorage.removeItem("userData"),localStorage.removeItem("adminToken"),localStorage.removeItem("adminLoggedIn"),localStorage.removeItem("adminInfo"),localStorage.removeItem("shopAdminToken"),localStorage.removeItem("shopAdminProvider"),window.location.pathname!==r?window.location.replace(r):window.location.reload(),setTimeout(()=>{zr=!1},1500)},Lr=e=>{let{images:t=[],onImagesChange:a,maxImages:n=5,disabled:s=!1}=e;const[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),{showToast:d}=Tn(),u=async e=>{if(s)return;const r=Array.from(e);if(t.length+r.length>n)d("Maximum ".concat(n," images allowed"),{type:"error"});else{o(!0);try{let e=localStorage.getItem("shopAdminToken");if(e||(e=localStorage.getItem("authToken")),!e||"null"===e)throw new Error("Authentication token not found. Please log in again.");const n=r.map(async t=>{const a=new FormData;a.append("file",t);const n=await fetch("".concat(mn,"/api/provider/upload-image"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:a});if(401===n.status)throw Ir("/shop-admin/login"),new Error("Session expired. Please log in again.");if(!n.ok){const e=await n.json().catch(()=>({}));if(422===n.status&&e.error&&(e.error.includes("expired")||e.error.includes("invalid")||e.error.includes("token")))throw Ir("/shop-admin/login"),new Error("Session expired. Please log in again.");throw new Error(e.error||"Upload failed")}const r=await n.json();return{filename:r.filename,url:r.url,size:r.size}}),s=await Promise.all(n);a([...t||[],...s])}catch(os){d(os.message,{type:"error"}),(os.message.includes("Session expired")||os.message.includes("log in"))&&Ir("/shop-admin/login")}finally{o(!1)}}};return(0,yn.jsxs)("div",{className:"image-upload-container",children:[(0,yn.jsx)("label",{className:"form-label",children:"Product Images"}),(0,yn.jsx)("div",{className:"upload-area ".concat(l?"drag-over":""," ").concat(s?"disabled":""),onDragOver:e=>{e.preventDefault(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},onDrop:e=>{e.preventDefault(),c(!1),u(e.dataTransfer.files)},children:i?(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Uploading images..."})]}):(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"\ud83d\udcf7"}),(0,yn.jsxs)("p",{children:[(0,yn.jsx)("strong",{children:"Click to upload"})," or drag and drop images"]}),(0,yn.jsx)("input",{type:"file",multiple:!0,accept:"image/*",id:"prov-image-input",style:{display:"none"},onChange:e=>u(e.target.files)}),(0,yn.jsx)("label",{htmlFor:"prov-image-input",style:{display:"inline-block",marginTop:"10px",padding:"8px 16px",background:"#007bff",color:"white",borderRadius:"4px",cursor:"pointer"},children:"Choose Images"})]})}),t&&t.length>0&&(0,yn.jsx)("div",{className:"image-preview-grid",children:t.map((e,n)=>(0,yn.jsxs)("div",{className:"image-preview-item",children:[(0,yn.jsx)("img",{src:"".concat(mn).concat(e.url),alt:"Product ".concat(n+1)}),!s&&(0,yn.jsx)("button",{type:"button",onClick:()=>(async e=>{if(!s&&window.confirm("Delete this image?"))try{let n=localStorage.getItem("shopAdminToken");if(n||(n=localStorage.getItem("authToken")),!n||"null"===n)throw new Error("Authentication token not found. Please log in again.");const r=await fetch("".concat(mn,"/api/provider/delete-image"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({filename:e.filename})});if(401===r.status)throw Ir("/shop-admin/login"),new Error("Session expired. Please log in again.");if(!r.ok){const e=await r.json().catch(()=>({}));if(422===r.status&&e.error&&(e.error.includes("expired")||e.error.includes("invalid")||e.error.includes("token")))throw Ir("/shop-admin/login"),new Error("Session expired. Please log in again.");throw new Error(e.error||"Delete failed")}a((t||[]).filter(t=>t.filename!==e.filename))}catch(os){d(os.message,{type:"error"}),(os.message.includes("Session expired")||os.message.includes("log in"))&&Ir("/shop-admin/login")}})(e),style:{position:"absolute",top:5,right:5,background:"rgba(255,0,0,0.8)",color:"white",border:"none",borderRadius:"50%",width:24,height:24,cursor:"pointer"},children:"\xd7"}),(0,yn.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.7)",color:"white",fontSize:10,padding:4,textAlign:"center"},children:e.filename})]},n))})]})},Br=e=>{let{product:t,onClose:a}=e;const{showToast:n}=Tn(),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),u=localStorage.getItem("authToken"),p=async()=>{const e=await fetch("".concat(mn,"/api/provider/products/").concat(t.id,"/variants"),{headers:{Authorization:"Bearer ".concat(u)}}),a=await e.json();i(a.variants||[])};(0,r.useEffect)(()=>{p()},[]);return(0,yn.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:700,maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsxs)("h3",{children:["Manage Variants - ",t.title]}),(0,yn.jsx)("button",{className:"close-btn",onClick:a,children:"\xd7"})]}),(0,yn.jsxs)("div",{style:{overflowY:"auto",padding:20},children:[(0,yn.jsxs)("div",{style:{background:"#f8f9fa",borderRadius:8,padding:15,marginBottom:20},children:[(0,yn.jsx)("h4",{style:{marginTop:0},children:"Add Variant Type"}),(0,yn.jsx)("input",{placeholder:"Variant type (e.g., Color)",value:o,onChange:e=>l(e.target.value),style:{width:"100%",padding:8,marginBottom:8}}),(0,yn.jsx)("input",{placeholder:"Values (comma separated)",value:c,onChange:e=>d(e.target.value),style:{width:"100%",padding:8,marginBottom:8}}),(0,yn.jsx)("button",{className:"btn-primary",onClick:async()=>{if(!o.trim())return void n("Enter variant type",{type:"error"});const e=c.split(",").map(e=>e.trim()).filter(Boolean),a=await fetch("".concat(mn,"/api/provider/products/").concat(t.id,"/variants"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({variant_name:o,values:e})});if(a.ok)l(""),d(""),p();else{const e=await a.json();n(e.error||"Failed to add variant",{type:"error"})}},children:"Add Variant"})]}),0===s.length?(0,yn.jsx)("p",{style:{color:"#777"},children:"No variants yet."}):s.map(e=>(0,yn.jsxs)("div",{style:{border:"1px solid #eee",borderRadius:8,padding:12,marginBottom:16},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yn.jsx)("strong",{children:e.name}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>(async e=>{const t=window.prompt("Enter value");if(!t)return;(await fetch("".concat(mn,"/api/provider/products/variants/").concat(e,"/values"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({value:t})})).ok?(p(),n("Variant value added",{type:"success"})):n("Failed to add value",{type:"error"})})(e.id),style:{marginRight:8},children:"+ Value"}),(0,yn.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(!window.confirm("Delete this variant type?"))return;(await fetch("".concat(mn,"/api/provider/products/variants/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(u)}})).ok?(p(),n("Variant type deleted",{type:"success"})):n("Failed to delete variant type",{type:"error"})})(e.id),children:"Delete Type"})]})]}),(e.values||[]).map(e=>(0,yn.jsxs)("div",{style:{background:"#f8f9fa",borderRadius:6,padding:10,marginTop:10},children:[(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yn.jsx)("span",{style:{fontWeight:600},children:e.value}),(0,yn.jsx)("button",{className:"btn-danger",onClick:()=>(async e=>{if(!window.confirm("Delete this value?"))return;(await fetch("".concat(mn,"/api/provider/products/variants/values/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(u)}})).ok?(p(),n("Variant value deleted",{type:"success"})):n("Failed to delete value",{type:"error"})})(e.id),children:"Delete Value"})]}),(0,yn.jsx)("div",{style:{marginTop:8},children:(0,yn.jsx)("input",{type:"file",accept:"image/*",onChange:t=>(async(e,t)=>{if(!t)return;const a=new FormData;a.append("file",t),(await fetch("".concat(mn,"/api/provider/variant-values/").concat(e,"/images"),{method:"POST",headers:{Authorization:"Bearer ".concat(u)},body:a})).ok?(p(),n("Image uploaded",{type:"success"})):n("Upload failed",{type:"error"})})(e.id,t.target.files[0])})}),(0,yn.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:8},children:(e.images||[]).map(e=>(0,yn.jsxs)("div",{style:{position:"relative",border:e.is_primary?"3px solid #28a745":"1px solid #ddd",borderRadius:4},children:[(0,yn.jsx)("img",{src:"".concat(mn).concat(e.image_url),alt:"variant",style:{width:80,height:80,objectFit:"cover"}}),(0,yn.jsxs)("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.65)",color:"white",fontSize:10,display:"flex",justifyContent:"space-between",padding:2},children:[(0,yn.jsx)("button",{onClick:()=>(async(e,t,a)=>{(await fetch("".concat(mn,"/api/provider/variant-images/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},body:JSON.stringify({is_primary:!t,display_order:a})})).ok?(p(),n("Primary image updated",{type:"success"})):n("Failed to update image",{type:"error"})})(e.id,e.is_primary,e.display_order),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:e.is_primary?"Unset":"Set Primary"}),(0,yn.jsx)("button",{onClick:()=>(async e=>{if(!window.confirm("Delete this image?"))return;(await fetch("".concat(mn,"/api/provider/variant-images/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(u)}})).ok?(p(),n("Image deleted",{type:"success"})):n("Failed to delete image",{type:"error"})})(e.id),style:{background:"transparent",border:"none",color:"white",cursor:"pointer"},children:"\xd7"})]})]},e.id))})]},e.id))]},e.id))]}),(0,yn.jsx)("div",{className:"modal-actions",style:{padding:12,borderTop:"1px solid #eee",display:"flex",justifyContent:"flex-end"},children:(0,yn.jsx)("button",{className:"btn-secondary",onClick:a,children:"Close"})})]})})},Dr=()=>{Ra();const{showToast:e}=Tn(),[t,a]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[x,f]=(0,r.useState)({title:"",description:"",stock_quantity:"",original_price:"",discounted_price:"",category_id:"",subcategory_id:"",images:[]}),[v,y]=(0,r.useState)([]);(0,r.useEffect)(()=>{b(),j()},[]),(0,r.useEffect)(()=>{x.category_id?w(x.category_id):(y([]),f(e=>ge(ge({},e),{},{subcategory_id:""})))},[x.category_id]);const b=async()=>{try{const e=localStorage.getItem("authToken"),t=await fetch("".concat(mn,"/api/provider/products"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();a(e.products||[])}}catch(e){console.error("Error fetching products:",e)}finally{o(!1)}},j=async()=>{try{const e=await fetch("".concat(mn,"/api/categories"));if(e.ok){const t=await e.json();s(t.categories||[])}}catch(e){console.error("Error fetching categories:",e)}},w=async e=>{try{const t=await fetch("".concat(mn,"/api/subcategories?category_id=").concat(e));if(t.ok){const e=await t.json();y(e.subcategories||[])}}catch(os){console.error("Error fetching subcategories",os)}};return i?(0,yn.jsxs)("div",{className:"loading-container",children:[(0,yn.jsx)("div",{className:"loading-spinner"}),(0,yn.jsx)("p",{children:"Loading your products..."})]}):(0,yn.jsxs)("div",{className:"provider-dashboard page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"dashboard-header",children:[(0,yn.jsx)("h1",{children:"My Products"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>{u(null),f({title:"",description:"",stock_quantity:"",original_price:"",discounted_price:"",category_id:"",subcategory_id:"",images:[]}),c(!0)},children:"+ Add New Product"})]}),(0,yn.jsx)("div",{className:"products-grid",children:0===t.length?(0,yn.jsx)("div",{className:"no-products",children:(0,yn.jsx)("p",{children:"No products found. Add your first product to get started!"})}):t.map(t=>(0,yn.jsxs)("div",{className:"product-card",children:[(0,yn.jsx)("div",{className:"product-image",children:t.images?(0,yn.jsx)("img",{src:JSON.parse(t.images)[0],alt:t.title,onError:e=>{e.target.src="https://via.placeholder.com/300x200?text=No+Image"}}):(0,yn.jsx)("div",{className:"no-image",children:"No Image"})}),(0,yn.jsxs)("div",{className:"product-info",children:[(0,yn.jsxs)("div",{className:"product-header",children:[(0,yn.jsx)("h3",{children:t.title}),(0,yn.jsx)("span",{className:"status-badge ".concat(t.approval_status),children:"pending"===t.approval_status?"Under Review":"approved"===t.approval_status?"Approved":"Rejected"})]}),(0,yn.jsx)("p",{className:"product-description",children:t.description}),(0,yn.jsxs)("div",{className:"product-meta",children:[(0,yn.jsxs)("span",{className:"category",children:["Category: ",t.category_name]}),(0,yn.jsxs)("span",{className:"stock",children:["Stock: ",t.stock_quantity]})]}),(0,yn.jsxs)("div",{className:"product-pricing",children:[(0,yn.jsxs)("span",{className:"original-price",children:["\u20b9",t.original_price]}),(0,yn.jsxs)("span",{className:"discounted-price",children:["\u20b9",t.discounted_price]})]}),(0,yn.jsxs)("div",{className:"product-actions",children:[(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{u(e),f({title:e.title||"",description:e.description||"",stock_quantity:e.stock_quantity?e.stock_quantity.toString():"",original_price:e.original_price?e.original_price.toString():"",discounted_price:e.discounted_price?e.discounted_price.toString():"",category_id:e.category_id?e.category_id.toString():"",subcategory_id:e.subcategory_id?String(e.subcategory_id):"",images:(e.images||[]).map(e=>({url:e,filename:e.split("/").pop(),size:0}))}),c(!0)})(t),children:"Edit"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>{g(t),h(!0)},children:"Manage Variants"}),(0,yn.jsx)("button",{className:"btn-delete",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this product?"))try{const a=localStorage.getItem("authToken");console.log("Deleting product ID:",t),console.log("Token available:",a?"Yes":"No");const n=await fetch("".concat(mn,"/api/provider/products/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});if(console.log("Delete response status:",n.status),n.ok){const t=await n.json();console.log("Delete success:",t),e("Product deleted successfully!",{type:"success"}),b()}else{const t=await n.json();console.log("Delete error:",t),e(t.error||"Failed to delete product",{type:"error"})}}catch(a){console.error("Error deleting product:",a),e("Failed to delete product",{type:"error"})}})(t.id),children:"Delete"})]})]})]},t.id))}),l&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>c(!1),children:(0,yn.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,yn.jsxs)("div",{className:"modal-header",children:[(0,yn.jsx)("h3",{children:d?"Edit Product":"Add New Product"}),(0,yn.jsx)("button",{className:"close-modal",onClick:()=>c(!1),children:"\xd7"})]}),(0,yn.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=localStorage.getItem("authToken"),a=d?"".concat(mn,"/api/provider/products/").concat(d.id):"".concat(mn,"/api/provider/products"),n=d?"PUT":"POST",r=ge(ge({},x),{},{stock_quantity:parseInt(x.stock_quantity),original_price:parseFloat(x.original_price),discounted_price:x.discounted_price?parseFloat(x.discounted_price):null,category_id:parseInt(x.category_id),subcategory_id:x.subcategory_id?parseInt(x.subcategory_id):null,images:(x.images||[]).map(e=>e.url)});console.log("Submitting product:",r),console.log("API URL:",a),console.log("Method:",n),console.log("Token available:",t?"Yes":"No");const s=await fetch(a,{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)});if(console.log("Response status:",s.status),s.ok){const t=await s.json();console.log("Product submission success:",t),t.provider_application_created?e(t.message,{type:"success"}):e(d?"Product updated successfully!":"Product added successfully!",{type:"success"}),c(!1),u(null),f({title:"",description:"",stock_quantity:"",original_price:"",discounted_price:"",category_id:"",subcategory_id:"",images:[]}),b()}else{const t=await s.json();console.log("Product submission error:",t),e(t.error||"Failed to save product",{type:"error"})}}catch(a){console.error("Error saving product:",a),e("Failed to save product",{type:"error"})}},className:"modal-body",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Product Title *"}),(0,yn.jsx)("input",{type:"text",value:x.title,onChange:e=>f(ge(ge({},x),{},{title:e.target.value})),placeholder:"Enter product title",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Description *"}),(0,yn.jsx)("textarea",{value:x.description,onChange:e=>f(ge(ge({},x),{},{description:e.target.value})),placeholder:"Enter product description",required:!0})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Stock Quantity *"}),(0,yn.jsx)("input",{type:"number",value:x.stock_quantity,onChange:e=>f(ge(ge({},x),{},{stock_quantity:e.target.value})),placeholder:"Enter stock quantity",min:"0",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Category *"}),(0,yn.jsxs)("select",{value:x.category_id,onChange:e=>f(ge(ge({},x),{},{category_id:e.target.value})),required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select Category"}),n.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),x.category_id&&(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Subcategory"}),(0,yn.jsxs)("select",{value:x.subcategory_id,onChange:e=>f(ge(ge({},x),{},{subcategory_id:e.target.value})),children:[(0,yn.jsx)("option",{value:"",children:"Select Subcategory (Optional)"}),v.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Original Price *"}),(0,yn.jsx)("input",{type:"number",value:x.original_price,onChange:e=>f(ge(ge({},x),{},{original_price:e.target.value})),placeholder:"Enter original price",min:"0",step:"0.01",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Discounted Price *"}),(0,yn.jsx)("input",{type:"number",value:x.discounted_price,onChange:e=>f(ge(ge({},x),{},{discounted_price:e.target.value})),placeholder:"Enter discounted price",min:"0",step:"0.01",required:!0})]})]}),(0,yn.jsx)("div",{className:"form-group",children:(0,yn.jsx)(Lr,{images:x.images,onImagesChange:e=>f(ge(ge({},x),{},{images:e})),maxImages:5})}),(0,yn.jsxs)("div",{className:"modal-footer",children:[(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>c(!1),children:"Cancel"}),(0,yn.jsx)("button",{type:"submit",className:"btn-primary",children:d?"Update Product":"Add Product"})]})]})]})}),p&&m&&(0,yn.jsx)(Br,{product:m,onClose:()=>{h(!1),g(null)}})]})},Or={page:{minHeight:"100vh",background:"linear-gradient(135deg, #ff6b9d 0%, #c44569 100%)",padding:"32px 16px",display:"flex",justifyContent:"center",alignItems:"center"},card:{width:"100%",maxWidth:"480px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"24px",padding:"28px 24px",boxShadow:"0 25px 60px rgba(196, 69, 105, 0.35)",backdropFilter:"blur(12px)"},header:{textAlign:"center",marginBottom:"24px"},headerBadge:{display:"inline-flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 107, 157, 0.15)",color:"#c44569",borderRadius:"999px",padding:"6px 14px",fontWeight:600,fontSize:"13px",textTransform:"uppercase",letterSpacing:"0.04em",marginBottom:"12px"},title:{fontSize:"24px",fontWeight:700,color:"#1f1f1f",margin:"0 0 8px"},subtitle:{fontSize:"15px",color:"#555",margin:0,lineHeight:1.6},userCard:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",borderRadius:"16px",background:"rgba(255, 107, 157, 0.08)",border:"1px solid rgba(255, 107, 157, 0.2)",marginBottom:"24px"},avatar:{width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",fontWeight:700},userName:{fontSize:"18px",fontWeight:600,color:"#1f1f1f"},userMeta:{fontSize:"13px",color:"#555",marginTop:"2px"},linkSection:{marginBottom:"24px"},linkLabel:{display:"block",fontSize:"13px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em",color:"#888",marginBottom:"8px"},linkField:{display:"flex",gap:"12px",alignItems:"center"},linkInput:{flex:1,padding:"12px 14px",borderRadius:"12px",border:"1px solid rgba(31, 31, 31, 0.12)",background:"rgba(255, 255, 255, 0.9)",fontSize:"14px",color:"#1f1f1f",boxShadow:"0 4px 10px rgba(31, 31, 31, 0.04)"},copyButton:{border:"none",background:"#c44569",color:"white",padding:"12px 18px",borderRadius:"12px",fontWeight:600,cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease",boxShadow:"0 10px 18px rgba(196, 69, 105, 0.28)"},actions:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"28px"},primaryBtn:{border:"none",background:"linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%)",color:"#fff",padding:"14px 18px",borderRadius:"14px",fontWeight:700,fontSize:"15px",cursor:"pointer",boxShadow:"0 16px 32px rgba(255, 107, 157, 0.35)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},secondaryBtn:{border:"1px solid rgba(255, 107, 157, 0.4)",background:"rgba(255, 107, 157, 0.08)",color:"#c44569",padding:"14px 18px",borderRadius:"14px",fontWeight:600,fontSize:"15px",cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease"},howItWorks:{background:"rgba(255, 255, 255, 0.9)",borderRadius:"18px",padding:"20px",border:"1px solid rgba(196, 69, 105, 0.12)"},howItWorksTitle:{fontSize:"16px",fontWeight:700,color:"#1f1f1f",margin:"0 0 12px"},steps:{margin:0,paddingLeft:"18px",color:"#555",lineHeight:1.6,fontSize:"14px"},fullscreenCenter:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #ff6b9d 0%, #c44569 100%)",color:"white"},loader:{width:"48px",height:"48px",border:"4px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite"},loaderText:{marginTop:"16px",fontSize:"15px"}},Fr=()=>{const{user:e,isAuthenticated:t,loading:a}=wn(),n=Ra(),[s,i]=(0,r.useState)("Copy link");(0,r.useEffect)(()=>{a||t||n("/login",{replace:!0})},[a,t,n]);const o=(0,r.useMemo)(()=>{if(!e)return"";const t=e.name?e.name.trim().toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-"):"";return t?"".concat(e.id,"-").concat(t):"".concat(e.id)},[e]),l=(0,r.useMemo)(()=>{var e;if(!o)return"";const t="undefined"!==typeof window&&null!==(e=window.location)&&void 0!==e&&e.origin?window.location.origin:"https://b.unlimitedhub.in";return"".concat(t,"/login?ref=").concat(encodeURIComponent(o))},[o]),c=async()=>{if(l)try{await navigator.clipboard.writeText(l),i("Copied!"),setTimeout(()=>i("Copy link"),2e3)}catch(e){console.error("Failed to copy referral link:",e),i("Copy manually")}};return a||!e?(0,yn.jsxs)("div",{style:Or.fullscreenCenter,children:[(0,yn.jsx)("div",{style:Or.loader}),(0,yn.jsx)("p",{style:Or.loaderText,children:"Loading your referral details\u2026"})]}):(0,yn.jsx)("div",{style:Or.page,children:(0,yn.jsxs)("div",{style:Or.card,children:[(0,yn.jsxs)("div",{style:Or.header,children:[(0,yn.jsx)("div",{style:Or.headerBadge,children:"Refer & Earn"}),(0,yn.jsx)("h1",{style:Or.title,children:"Invite & Earn Rewards"}),(0,yn.jsx)("p",{style:Or.subtitle,children:"Share your unique link. When your referral signs up, both of you get exclusive perks."})]}),(0,yn.jsxs)("div",{style:Or.userCard,children:[(0,yn.jsx)("div",{style:Or.avatar,children:(e.name||"U")[0].toUpperCase()}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("div",{style:Or.userName,children:e.name||"Unlimited Hub user"}),(0,yn.jsxs)("div",{style:Or.userMeta,children:["User ID: ",e.id]}),(0,yn.jsxs)("div",{style:Or.userMeta,children:["Phone: ",e.phone]})]})]}),(0,yn.jsxs)("div",{style:Or.linkSection,children:[(0,yn.jsx)("span",{style:Or.linkLabel,children:"Your referral link"}),(0,yn.jsxs)("div",{style:Or.linkField,children:[(0,yn.jsx)("input",{style:Or.linkInput,value:l,readOnly:!0,onFocus:e=>e.target.select()}),(0,yn.jsx)("button",{type:"button",style:Or.copyButton,onClick:c,children:s})]})]}),(0,yn.jsxs)("div",{style:Or.actions,children:[(0,yn.jsx)("button",{type:"button",style:Or.primaryBtn,onClick:async()=>{if(!l)return;const t={title:"Unlimited Hub Invite",text:"".concat((null===e||void 0===e?void 0:e.name)||"A friend"," invited you to join Unlimited Hub. Use their link to sign up and unlock rewards!"),url:l};if(navigator.share)try{await navigator.share(t)}catch(a){"AbortError"!==(null===a||void 0===a?void 0:a.name)&&console.error("Failed to share referral link:",a)}else c()},children:"Share invite"}),(0,yn.jsx)("button",{type:"button",style:Or.secondaryBtn,onClick:c,children:"Copy link"})]}),(0,yn.jsxs)("div",{style:Or.howItWorks,children:[(0,yn.jsx)("h2",{style:Or.howItWorksTitle,children:"How it works"}),(0,yn.jsxs)("ol",{style:Or.steps,children:[(0,yn.jsx)("li",{children:"Share your personal invite link with friends."}),(0,yn.jsx)("li",{children:"They sign up using your link so their account shows your name/ID."}),(0,yn.jsx)("li",{children:"Track referrals in your account\u2014rewards unlock automatically."})]})]})]})})},Mr=()=>{const e=Ra(),[t,a]=(0,r.useState)({shop_name:"",owner_name:"",email:"",phone:"",shop_address:"",description:"",gst_number:"",bank_account_number:"",bank_ifsc:"",bank_name:"",bank_account_holder:""}),[n,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)({type:"",text:""}),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),m=e=>{const{name:t,value:n}=e.target;a(e=>ge(ge({},e),{},{[t]:n}))};return(0,yn.jsxs)("div",{className:"shop-admin-request-page page-with-bottom-nav",children:[(0,yn.jsxs)("div",{className:"shop-admin-header",children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>e("/"),children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsx)("h1",{children:"Shop Admin Access Request"}),(0,yn.jsx)("div",{style:{width:24}})]}),(0,yn.jsxs)("div",{className:"shop-admin-request-content",children:[(0,yn.jsxs)("div",{className:"request-info-card",children:[(0,yn.jsx)("h2",{children:"Request Shop Admin Access"}),(0,yn.jsx)("p",{children:"Fill in the form below to request access to the Shop Admin panel. Once approved, you'll be able to upload and manage your products."})]}),(0,yn.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const n=t.description.trim();if(!t.shop_name||!t.owner_name||!t.email||!t.phone||!t.shop_address||!n)return void o({type:"error",text:"Please fill in all required fields"});if(!/^[+]?[0-9]{10,13}$/.test(t.phone.replace(/\s/g,"")))return void o({type:"error",text:"Please enter a valid phone number"});if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){if(t.bank_account_number&&t.bank_ifsc){if(!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(t.bank_ifsc.toUpperCase()))return void o({type:"error",text:"Please enter a valid IFSC code (e.g., ABCD0123456)"})}try{s(!0),o({type:"",text:""});const a=new FormData;a.append("shop_name",t.shop_name),a.append("owner_name",t.owner_name),a.append("email",t.email),a.append("phone",t.phone),a.append("shop_address",t.shop_address),a.append("description",n),a.append("gst_number",t.gst_number||""),a.append("bank_account_number",t.bank_account_number||""),a.append("bank_ifsc",t.bank_ifsc||""),a.append("bank_name",t.bank_name||""),a.append("bank_account_holder",t.bank_account_holder||""),l&&!t.aadhar_proof_url?a.append("aadhar_proof",l):t.aadhar_proof_url&&a.append("aadhar_proof_url",t.aadhar_proof_url);201===(await Dt.post("".concat(mn,"/api/shop-admin/request-access"),a,{headers:{"Content-Type":"multipart/form-data"}})).status&&(o({type:"success",text:"Access request submitted successfully! You will be notified once approved."}),setTimeout(()=>{e("/shop-admin/login",{state:{message:"Your access request has been submitted. Please wait for admin approval.",phone:t.phone}})},3e3))}catch(c){var r,i;const e=(null===(r=c.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"Failed to submit access request. Please try again.";o({type:"error",text:e})}finally{s(!1)}}else o({type:"error",text:"Please enter a valid email address"})},className:"shop-admin-request-form",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Shop Name *"}),(0,yn.jsx)("input",{type:"text",name:"shop_name",value:t.shop_name,onChange:m,placeholder:"Enter your shop name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Owner Name *"}),(0,yn.jsx)("input",{type:"text",name:"owner_name",value:t.owner_name,onChange:m,placeholder:"Enter owner name",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Email *"}),(0,yn.jsx)("input",{type:"email",name:"email",value:t.email,onChange:m,placeholder:"Enter your email",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Phone Number *"}),(0,yn.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:m,placeholder:"Enter phone number (e.g., +91 98765 43210)",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Shop Address *"}),(0,yn.jsx)("textarea",{name:"shop_address",value:t.shop_address,onChange:m,placeholder:"Enter complete shop address",rows:"3",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Description *"}),(0,yn.jsx)("textarea",{name:"description",value:t.description,onChange:m,placeholder:"Brief description about your shop",rows:"3",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"GST Number (Optional)"}),(0,yn.jsx)("input",{type:"text",name:"gst_number",value:t.gst_number,onChange:m,placeholder:"Enter GST number (e.g., 27ABCDE1234F1Z5)",maxLength:"15"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Bank Account Details for Settlement"}),(0,yn.jsx)("input",{type:"text",name:"bank_account_number",value:t.bank_account_number,onChange:m,placeholder:"Account Number"}),(0,yn.jsx)("input",{type:"text",name:"bank_ifsc",value:t.bank_ifsc,onChange:m,placeholder:"IFSC Code (e.g., ABCD0123456)",style:{marginTop:"10px"},maxLength:"11"}),(0,yn.jsx)("input",{type:"text",name:"bank_name",value:t.bank_name,onChange:m,placeholder:"Bank Name",style:{marginTop:"10px"}}),(0,yn.jsx)("input",{type:"text",name:"bank_account_holder",value:t.bank_account_holder,onChange:m,placeholder:"Account Holder Name",style:{marginTop:"10px"}})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Aadhar Proof *"}),(0,yn.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.webp",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(["application/pdf","image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))if(t.size>5242880)o({type:"error",text:"File size should be less than 5MB."});else{c(t),h(!0),o({type:"",text:""});try{const e=new FormData;e.append("file",t);const n=await fetch("".concat(mn,"/api/shop-admin/upload-document"),{method:"POST",body:e}),r=await n.json();n.ok?(a(e=>ge(ge({},e),{},{aadhar_proof_url:r.url})),t.type.startsWith("image/")&&u(r.url),o({type:"success",text:"Aadhar proof uploaded successfully"})):(o({type:"error",text:r.error||"Failed to upload Aadhar proof"}),c(null))}catch(n){o({type:"error",text:"Network error. Please try again."}),c(null)}finally{h(!1)}}else o({type:"error",text:"Invalid file type. Please upload PDF or image file."})},disabled:p,style:{width:"100%",padding:"10px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px"}}),p&&(0,yn.jsx)("p",{style:{color:"#007bff",fontSize:"14px"},children:"Uploading..."}),d&&(0,yn.jsxs)("div",{style:{marginTop:"10px"},children:[(0,yn.jsx)("p",{style:{fontSize:"14px",color:"#28a745",marginBottom:"5px"},children:"\u2713 Aadhar proof uploaded"}),(0,yn.jsx)("img",{src:d,alt:"Aadhar preview",style:{maxWidth:"100%",maxHeight:"200px",borderRadius:"4px",border:"1px solid #ddd"}})]}),t.aadhar_proof_url&&!d&&(0,yn.jsx)("p",{style:{fontSize:"14px",color:"#28a745",marginTop:"5px"},children:"\u2713 Aadhar proof uploaded (PDF)"}),(0,yn.jsx)("small",{style:{fontSize:"12px",color:"#666",display:"block",marginTop:"5px"},children:"Upload Aadhar card (PDF or Image, max 5MB)"})]}),i.text&&(0,yn.jsx)("div",{className:"message ".concat(i.type),style:{padding:"12px",borderRadius:"8px",marginBottom:"16px",backgroundColor:"success"===i.type?"#d1fae5":"#fee2e2",color:"success"===i.type?"#065f46":"#991b1b",fontSize:"14px",lineHeight:"1.5"},children:i.text}),(0,yn.jsx)("button",{type:"submit",className:"btn-submit-request",disabled:n,children:n?"Submitting...":"Submit Request"})]})]})]})},Wr=()=>{var e,t;const a=Ra(),n=Ta(),[s,i]=(0,r.useState)((null===(e=n.state)||void 0===e?void 0:e.phone)||""),[o,l]=(0,r.useState)(["","","","","",""]),[c,d]=(0,r.useState)(s?"otp":"phone"),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)({type:"",text:(null===(t=n.state)||void 0===t?void 0:t.message)||""}),[g,x]=(0,r.useState)(0),f=r.useRef([]);(0,r.useEffect)(()=>{if("otp"===c&&0===g){x(30);const e=setInterval(()=>{x(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)}},[c]);return(0,yn.jsxs)("div",{className:"shop-admin-login-page page-with-bottom-nav",style:{background:"#f5f5f5",minHeight:"100vh",paddingBottom:"20px"},children:[(0,yn.jsxs)("div",{className:"shop-admin-header",style:{background:"white",padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 4px rgba(0,0,0,0.08)",position:"sticky",top:0,zIndex:100},children:[(0,yn.jsx)("button",{className:"back-btn",onClick:()=>a("/shop-admin/request-access"),style:{background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,yn.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,yn.jsx)("h1",{style:{margin:0,fontSize:"18px",fontWeight:600,color:"#333",flex:1,textAlign:"center"},children:"Shop Admin Login"}),(0,yn.jsx)("div",{style:{width:24}})]}),(0,yn.jsx)("div",{className:"shop-admin-login-content",style:{padding:"24px 16px",maxWidth:"500px",margin:"0 auto"},children:"phone"===c?(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!s||s.length<10)m({type:"error",text:"Please enter a valid phone number"});else try{p(!0),m({type:"",text:""});200===(await Dt.post("".concat(mn,"/api/shop-admin/send-otp"),{phone:s})).status&&(d("otp"),x(30))}catch(a){var t;const e=null===(t=a.response)||void 0===t?void 0:t.data;if("pending"===(null===e||void 0===e?void 0:e.status))m({type:"info",text:"Your access request is still under review. Please wait for admin approval."});else{const t=(null===e||void 0===e?void 0:e.error)||"Failed to send OTP. Please try again.";m({type:"error",text:t})}}finally{p(!1)}},className:"shop-admin-login-form",style:{background:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,yn.jsxs)("div",{className:"login-info",style:{textAlign:"center",marginBottom:"24px"},children:[(0,yn.jsx)("h2",{style:{margin:"0 0 8px 0",fontSize:"22px",color:"#333"},children:"Welcome Back"}),(0,yn.jsx)("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:"Enter your phone number to receive OTP"})]}),(0,yn.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,yn.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:600,color:"#333"},children:"Phone Number"}),(0,yn.jsx)("input",{type:"tel",value:s,onChange:e=>i(e.target.value),placeholder:"Enter phone number (e.g., +91 98765 43210)",required:!0,style:{width:"100%",padding:"12px",border:"1px solid #e0e0e0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit"}})]}),h.text&&(0,yn.jsxs)("div",{className:"message ".concat(h.type),style:{padding:"12px",borderRadius:"8px",marginBottom:"16px",backgroundColor:"success"===h.type?"#d1fae5":"error"===h.type?"#fee2e2":"#fef3c7",color:"success"===h.type?"#065f46":"error"===h.type?"#991b1b":"#92400e",fontSize:"14px",lineHeight:"1.5"},children:[h.text,h.rejectionMessage&&(0,yn.jsxs)("div",{className:"rejection-message",children:[(0,yn.jsx)("strong",{children:"Rejection Reason:"})," ",h.rejectionMessage]})]}),(0,yn.jsx)("button",{type:"submit",className:"btn-send-otp",disabled:u,style:{width:"100%",padding:"14px",background:u?"#ccc":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:u?"not-allowed":"pointer",transition:"all 0.3s ease",marginTop:"8px"},children:u?"Sending...":"Send OTP"}),(0,yn.jsx)("div",{className:"login-footer",style:{marginTop:"20px",textAlign:"center",fontSize:"14px",color:"#666"},children:(0,yn.jsxs)("p",{style:{margin:0},children:["Don't have access?"," ",(0,yn.jsx)("button",{type:"button",onClick:()=>a("/shop-admin/request-access"),className:"link-btn",style:{background:"none",border:"none",color:"#667eea",fontWeight:600,cursor:"pointer",textDecoration:"underline",padding:0,fontSize:"inherit"},children:"Request Access"})]})})]}):(0,yn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=o.join("");if(6===t.length)try{p(!0),m({type:"",text:""});const e=await Dt.post("".concat(mn,"/api/shop-admin/login"),{phone:s,otp_code:t});200===e.status&&(localStorage.setItem("shopAdminToken",e.data.access_token),localStorage.setItem("shopAdminProvider",JSON.stringify(e.data.provider)),a("/shop-admin"))}catch(r){var n;const e=null===(n=r.response)||void 0===n?void 0:n.data;if("pending"===(null===e||void 0===e?void 0:e.status)||"rejected"===(null===e||void 0===e?void 0:e.status))m({type:"error",text:e.error||"Your access request is still under review or has been rejected.",rejectionMessage:e.rejection_message});else{const t=(null===e||void 0===e?void 0:e.error)||"Invalid OTP. Please try again.";m({type:"error",text:t})}}finally{p(!1)}else m({type:"error",text:"Please enter complete 6-digit OTP"})},className:"shop-admin-otp-form",style:{background:"white",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,yn.jsxs)("div",{className:"otp-info",style:{textAlign:"center",marginBottom:"24px"},children:[(0,yn.jsx)("h2",{style:{margin:"0 0 8px 0",fontSize:"22px",color:"#333"},children:"Enter OTP"}),(0,yn.jsxs)("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:["OTP sent to ",s]})]}),(0,yn.jsx)("div",{className:"otp-inputs",style:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"24px"},children:o.map((e,t)=>(0,yn.jsx)("input",{ref:e=>f.current[t]=e,type:"text",maxLength:"1",value:e,onChange:e=>((e,t)=>{if(!/^\d*$/.test(t))return;const a=[...o];var n;a[e]=t,l(a),t&&e<5&&(null===(n=f.current[e+1])||void 0===n||n.focus())})(t,e.target.value),onKeyDown:e=>((e,t)=>{var a;"Backspace"===t.key&&!o[e]&&e>0&&(null===(a=f.current[e-1])||void 0===a||a.focus())})(t,e),className:"otp-input",style:{width:"50px",height:"50px",textAlign:"center",fontSize:"24px",fontWeight:600,border:"2px solid #e0e0e0",borderRadius:"8px",transition:"all 0.2s ease"},onFocus:e=>e.target.style.borderColor="#667eea",onBlur:e=>e.target.style.borderColor="#e0e0e0"},t))}),h.text&&(0,yn.jsxs)("div",{className:"message ".concat(h.type),style:{padding:"12px",borderRadius:"8px",marginBottom:"16px",backgroundColor:"success"===h.type?"#d1fae5":"error"===h.type?"#fee2e2":"#fef3c7",color:"success"===h.type?"#065f46":"error"===h.type?"#991b1b":"#92400e",fontSize:"14px",lineHeight:"1.5"},children:[h.text,h.rejectionMessage&&(0,yn.jsxs)("div",{className:"rejection-message",style:{marginTop:"12px",padding:"12px",background:"#fee2e2",borderLeft:"4px solid #ef4444",borderRadius:"4px",fontSize:"13px"},children:[(0,yn.jsx)("strong",{children:"Rejection Reason:"})," ",h.rejectionMessage]})]}),(0,yn.jsx)("button",{type:"submit",className:"btn-verify-otp",disabled:u,style:{width:"100%",padding:"14px",background:u?"#ccc":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:u?"not-allowed":"pointer",transition:"all 0.3s ease",marginTop:"8px"},children:u?"Verifying...":"Verify OTP"}),(0,yn.jsx)("div",{className:"resend-otp",style:{textAlign:"center",marginTop:"16px"},children:(0,yn.jsx)("button",{type:"button",onClick:async()=>{if(!(g>0))try{p(!0);200===(await Dt.post("".concat(mn,"/api/shop-admin/send-otp"),{phone:s})).status&&(x(30),m({type:"success",text:"OTP sent successfully"}))}catch(a){var e,t;m({type:"error",text:(null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to resend OTP"})}finally{p(!1)}},disabled:g>0,className:"link-btn",style:{background:"none",border:"none",color:g>0?"#999":"#667eea",fontWeight:600,cursor:g>0?"not-allowed":"pointer",textDecoration:"underline",padding:0,fontSize:"14px"},children:g>0?"Resend OTP in ".concat(g,"s"):"Resend OTP"})}),(0,yn.jsx)("div",{className:"change-phone",style:{textAlign:"center",marginTop:"16px"},children:(0,yn.jsx)("button",{type:"button",onClick:()=>{d("phone"),l(["","","","","",""]),m({type:"",text:""})},className:"link-btn",style:{background:"none",border:"none",color:"#667eea",fontWeight:600,cursor:"pointer",textDecoration:"underline",padding:0,fontSize:"14px"},children:"Change Phone Number"})})]})})]})},Ur=[{id:"all",label:"All Orders"},{id:"pending",label:"Pending"},{id:"packed",label:"Packed"},{id:"shipped",label:"Shipped"},{id:"delivered",label:"Delivered"},{id:"cancelled",label:"Cancelled"},{id:"refunded",label:"Refunded"}],qr={pending:"Pending Confirmation",confirmed:"Confirmed",packed:"Packed",shipped:"In Transit",delivered:"Delivered",cancelled:"Cancelled",refunded:"Refunded"},Vr={pending:"packed",confirmed:"packed",packed:"shipped",shipped:"delivered"},Hr=()=>{var e,t,a;const[n,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)("all"),[d,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),x=(0,r.useMemo)(()=>{const e=new Date;return e.setDate(e.getDate()+10),e},[]);(0,r.useEffect)(()=>{f(l)},[l]);const f=async e=>{try{o(!0);const t=localStorage.getItem("shopAdminToken");if(!t)return void s([]);const a=e&&"all"!==e?"?status=".concat(e):"",n=await fetch("".concat(mn,"/api/shop-admin/orders").concat(a),{headers:{Authorization:"Bearer ".concat(t)}}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to fetch orders");s(r.orders||[])}catch(t){console.error("Error fetching shop admin orders:",t),g({type:"error",message:t.message||"Failed to fetch orders"}),setTimeout(()=>g(null),4e3)}finally{o(!1)}},v=async(e,t)=>{try{const a=localStorage.getItem("shopAdminToken"),n=await fetch("".concat(mn,"/api/shop-admin/orders/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({status:t})}),r=await n.json();if(!n.ok)throw new Error(r.error||"Failed to update order status");g({type:"success",message:"Order status updated successfully"}),setTimeout(()=>g(null),3e3),h(!1),u(null),f(l)}catch(a){console.error("Error updating order status:",a),g({type:"error",message:a.message||"Failed to update order status"}),setTimeout(()=>g(null),4e3)}},y=e=>qr[e]||e,b=e=>Vr[e]||null,j=e=>{if(null==e)return"\u2014";try{return"\u20b9".concat(Number(e).toLocaleString())}catch(t){return"\u20b9".concat(e)}},w=e=>{if(!e)return"\u2014";try{const t=new Date(e);return isNaN(t.getTime())?"\u2014":t.toLocaleDateString()}catch(t){return"\u2014"}};return(0,yn.jsxs)("div",{className:"shop-admin-orders-panel",children:[m&&(0,yn.jsx)("div",{className:"notification ".concat(m.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===m.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:m.message}),(0,yn.jsxs)("div",{className:"panel-header",children:[(0,yn.jsx)("h2",{children:"Customer Orders"}),(0,yn.jsx)("p",{children:"Track and fulfill orders placed for your shop"})]}),(0,yn.jsx)("div",{className:"orders-tabs",children:Ur.map(e=>(0,yn.jsx)("button",{className:"tab-btn ".concat(l===e.id?"active":""),onClick:()=>c(e.id),children:e.label},e.id))}),i?(0,yn.jsx)("div",{children:"Loading..."}):(0,yn.jsx)("div",{className:"orders-list",children:0===n.length?(0,yn.jsx)("div",{className:"empty-state",children:"No orders found for this filter."}):(0,yn.jsxs)("table",{className:"orders-table",children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Order #"}),(0,yn.jsx)("th",{children:"Customer"}),(0,yn.jsx)("th",{children:"Status"}),(0,yn.jsx)("th",{children:"Payment"}),(0,yn.jsx)("th",{children:"Your Total"}),(0,yn.jsx)("th",{children:"Placed On"}),(0,yn.jsx)("th",{children:"Items"}),(0,yn.jsx)("th",{children:"Actions"})]})}),(0,yn.jsx)("tbody",{children:n.map(e=>{var t,a,n;return(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:e.order_number}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:e.customer_name||"\u2014"}),(0,yn.jsx)("div",{className:"small-text",children:e.customer_phone||"\u2014"})]}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge status-".concat(e.status),children:y(e.status)})}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge payment-".concat(e.payment_status),children:(null===(t=e.payment_status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(a=e.payment_status)||void 0===a?void 0:a.slice(1))})}),(0,yn.jsx)("td",{children:j(null!==(n=e.provider_total)&&void 0!==n?n:e.total_amount)}),(0,yn.jsx)("td",{children:w(e.created_at)}),(0,yn.jsx)("td",{children:e.items?e.items.length:0}),(0,yn.jsx)("td",{children:(0,yn.jsx)("button",{className:"btn-sm",onClick:()=>{u(e),h(!0)},children:"View Details"})})]},e.id)})})]})}),p&&d&&(0,yn.jsx)("div",{className:"modal-overlay",onClick:()=>h(!1),children:(0,yn.jsxs)("div",{className:"modal-content order-details-modal",onClick:e=>e.stopPropagation(),children:[(0,yn.jsx)("h3",{children:"Order Details"}),(0,yn.jsxs)("div",{className:"order-details",children:[(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Order Number:"}),(0,yn.jsx)("div",{children:d.order_number})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Status:"}),(0,yn.jsx)("div",{children:y(d.status)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Payment Status:"}),(0,yn.jsx)("div",{children:(null===(e=d.payment_status)||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===(t=d.payment_status)||void 0===t?void 0:t.slice(1))})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Your Amount:"}),(0,yn.jsx)("div",{children:j(null!==(a=d.provider_total)&&void 0!==a?a:d.total_amount)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Placed On:"}),(0,yn.jsx)("div",{children:w(d.created_at)})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Expected Delivery:"}),(0,yn.jsx)("div",{children:x.toLocaleDateString()})]}),(0,yn.jsx)("hr",{}),(0,yn.jsx)("h4",{children:"Customer Information"}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Name:"}),(0,yn.jsx)("div",{children:d.customer_name||"\u2014"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Phone:"}),(0,yn.jsx)("div",{children:d.customer_phone||"\u2014"})]}),(0,yn.jsxs)("div",{className:"detail-row",children:[(0,yn.jsx)("strong",{children:"Shipping Address:"}),(0,yn.jsx)("div",{children:(N=d.shipping_address,N&&0!==Object.keys(N).length?(0,yn.jsxs)("div",{children:[N.full_name&&(0,yn.jsx)("div",{children:N.full_name}),N.address_line1&&(0,yn.jsx)("div",{children:N.address_line1}),N.address_line2&&(0,yn.jsx)("div",{children:N.address_line2}),(N.city||N.state||N.pincode)&&(0,yn.jsx)("div",{children:[N.city,N.state,N.pincode].filter(Boolean).join(", ")}),N.phone&&(0,yn.jsxs)("div",{children:["Phone: ",N.phone]})]}):(0,yn.jsx)("div",{children:"No shipping address available"}))})]}),(0,yn.jsx)("hr",{}),(0,yn.jsx)("h4",{children:"Items"}),(0,yn.jsx)("div",{className:"detail-row",children:(0,yn.jsx)("div",{children:d.items&&d.items.length>0?d.items.map(e=>(0,yn.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,yn.jsx)("div",{children:(0,yn.jsx)("strong",{children:e.product_title})}),(0,yn.jsxs)("div",{children:["Quantity: ",e.quantity]}),(0,yn.jsxs)("div",{children:["Total: ",j(e.total_price)]})]},e.id)):(0,yn.jsx)("div",{children:"No items assigned to you for this order."})})}),(0,yn.jsx)("hr",{}),(0,yn.jsxs)("div",{className:"status-update-section",style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[b(d.status)&&(0,yn.jsxs)("button",{className:"btn-primary",onClick:()=>v(d.id,b(d.status)),children:["Move to ",y(b(d.status))]}),"cancelled"!==d.status&&(0,yn.jsx)("button",{className:"btn-secondary",onClick:()=>v(d.id,"cancelled"),children:"Mark as Cancelled"}),"refunded"!==d.status&&(0,yn.jsx)("button",{className:"btn-secondary",onClick:()=>v(d.id,"refunded"),children:"Mark as Refunded"})]})]}),(0,yn.jsx)("div",{className:"modal-actions",children:(0,yn.jsx)("button",{onClick:()=>h(!1),children:"Close"})})]})})]});var N},Yr=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{u()},[o]);const u=async()=>{try{i(!0);const e=localStorage.getItem("shopAdminToken");if(!e)return t([]),void i(!1);const a="all"!==o?"?payment_status=".concat(o):"",r=await fetch("".concat(mn,"/api/shop-admin/wallet").concat(a),{headers:{Authorization:"Bearer ".concat(e)}}),s=await r.json();if(!r.ok)throw new Error(s.error||"Failed to fetch wallet");t(s.transactions||[]),n(s.totals||{})}catch(e){console.error("Error fetching shop admin wallet:",e),d({type:"error",message:e.message||"Failed to fetch wallet"}),setTimeout(()=>d(null),4e3)}finally{i(!1)}},p=e=>{if(null==e)return"\u2014";try{return"\u20b9".concat(Number(e).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}))}catch(t){return"\u20b9".concat(e)}},h=e=>{if(!e)return"\u2014";try{const t=new Date(e);return isNaN(t.getTime())?"\u2014":t.toLocaleDateString("en-IN")}catch(t){return"\u2014"}},m=e=>{const t={pending:{color:"#f59e0b",bg:"#fef3c7"},confirmed:{color:"#10b981",bg:"#d1fae5"},packed:{color:"#3b82f6",bg:"#dbeafe"},shipped:{color:"#6366f1",bg:"#e0e7ff"},delivered:{color:"#22c55e",bg:"#dcfce7"},cancelled:{color:"#ef4444",bg:"#fee2e2"},refunded:{color:"#8b5cf6",bg:"#ede9fe"}},a=t[e]||t.pending;return(0,yn.jsx)("span",{className:"status-badge",style:{color:a.color,backgroundColor:a.bg,padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:e.charAt(0).toUpperCase()+e.slice(1)})};return(0,yn.jsxs)("div",{className:"shop-admin-wallet-panel",children:[c&&(0,yn.jsx)("div",{className:"notification ".concat(c.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===c.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:c.message}),(0,yn.jsxs)("div",{className:"panel-header",children:[(0,yn.jsx)("h2",{children:"My Earnings"}),(0,yn.jsx)("p",{children:"Track your sales, commissions, and payments"})]}),a&&(0,yn.jsxs)("div",{className:"wallet-summary",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Total Sales"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937"},children:p(a.total_amount)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Admin Commission (13%)"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ef4444"},children:p(a.total_commission)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Delivery Charges"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#3b82f6"},children:p(a.total_delivery)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Your Earnings"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#10b981"},children:p(a.total_shop_amount)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Paid Amount"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#22c55e"},children:p(a.paid_amount)})]}),(0,yn.jsxs)("div",{className:"summary-card",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,yn.jsx)("div",{style:{color:"#6b7280",fontSize:"14px",marginBottom:"8px"},children:"Pending Payment"}),(0,yn.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f59e0b"},children:p(a.unpaid_amount)})]})]}),(0,yn.jsxs)("div",{className:"orders-tabs",style:{marginBottom:"20px"},children:[(0,yn.jsx)("button",{className:"tab-btn ".concat("all"===o?"active":""),onClick:()=>l("all"),children:"All Transactions"}),(0,yn.jsx)("button",{className:"tab-btn ".concat("unpaid"===o?"active":""),onClick:()=>l("unpaid"),children:"Unpaid"}),(0,yn.jsx)("button",{className:"tab-btn ".concat("paid"===o?"active":""),onClick:()=>l("paid"),children:"Paid"})]}),s?(0,yn.jsx)("div",{children:"Loading..."}):(0,yn.jsx)("div",{className:"orders-list",children:0===e.length?(0,yn.jsx)("div",{className:"empty-state",children:"No transactions found."}):(0,yn.jsxs)("table",{className:"orders-table",children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Order #"}),(0,yn.jsx)("th",{children:"Customer"}),(0,yn.jsx)("th",{children:"Product"}),(0,yn.jsx)("th",{children:"Total Amount"}),(0,yn.jsx)("th",{children:"Commission (13%)"}),(0,yn.jsx)("th",{children:"Delivery (\u20b990)"}),(0,yn.jsx)("th",{children:"Your Amount"}),(0,yn.jsx)("th",{children:"Order Status"}),(0,yn.jsx)("th",{children:"Payment Status"}),(0,yn.jsx)("th",{children:"Date"})]})}),(0,yn.jsx)("tbody",{children:e.map(e=>(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:e.order_number}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:e.user.name||"\u2014"}),(0,yn.jsx)("div",{className:"small-text",children:e.user.phone||"\u2014"})]}),(0,yn.jsxs)("td",{children:[(0,yn.jsx)("div",{children:e.product_title}),(0,yn.jsxs)("div",{className:"small-text",children:["Qty: ",e.quantity]})]}),(0,yn.jsx)("td",{children:p(e.total_amount)}),(0,yn.jsx)("td",{children:p(e.admin_commission)}),(0,yn.jsx)("td",{children:p(e.delivery_charge)}),(0,yn.jsx)("td",{children:(0,yn.jsx)("strong",{children:p(e.shop_admin_amount)})}),(0,yn.jsx)("td",{children:m(e.order_status)}),(0,yn.jsx)("td",{children:(0,yn.jsx)("span",{className:"status-badge ".concat("paid"===e.admin_payment_status?"status-confirmed":"status-pending"),style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:"paid"===e.admin_payment_status?"Paid":"Unpaid"})}),(0,yn.jsx)("td",{children:h(e.created_at)})]},e.id))})]})})]})},Jr=()=>{const e=Ra(),[t,a]=(0,r.useState)("dashboard"),[n,s]=(0,r.useState)({total:0,approved:0,pending:0,rejected:0}),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[x,f]=(0,r.useState)([]),[v,y]=(0,r.useState)([]),[b,j]=(0,r.useState)(null),[w,N]=(0,r.useState)({title:"",category_id:"",subcategory_id:"",description:"",original_price:"",discounted_price:"",stock_quantity:"0",images:[]});(0,r.useEffect)(()=>{k(),C()},[]),(0,r.useEffect)(()=>{"products"===t?_():"profile"===t?S():"dashboard"===t&&k()},[t]),(0,r.useEffect)(()=>{w.category_id?P(w.category_id):(y([]),N(e=>ge(ge({},e),{},{subcategory_id:""})))},[w.category_id]);const k=async()=>{try{const t=localStorage.getItem("shopAdminToken");if(!t)return console.error("No token found"),void e("/shop-admin/login");const a=await fetch("".concat(mn,"/api/shop-admin/dashboard"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},credentials:"include"});if(console.log("Dashboard response status:",a.status),a.ok){const e=await a.json();s(e.stats)}else{if(401===a.status||403===a.status)return void Ir("/shop-admin/login");{const e=await a.json().catch(()=>({error:"Unknown error"}));console.error("Dashboard error:",e)}}}catch(t){console.error("Error fetching dashboard:",t),(t.message.includes("Failed to fetch")||t.message.includes("CORS"))&&console.error("Network/CORS error - check backend CORS configuration")}finally{u(!1)}},_=async()=>{try{const e=localStorage.getItem("shopAdminToken");if(!e)return void console.error("No token found for products");const t=await fetch("".concat(mn,"/api/shop-admin/products"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include"});if(t.ok){const e=await t.json();o(e.products||[])}else{if(401===t.status||403===t.status)return void Ir("/shop-admin/login");console.error("Products error:",await t.json().catch(()=>({})))}}catch(e){console.error("Error fetching products:",e)}},S=async()=>{try{const e=localStorage.getItem("shopAdminToken");if(!e)return void console.error("No token found for profile");const t=await fetch("".concat(mn,"/api/shop-admin/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include"});if(t.ok){const e=await t.json();c(e.provider)}else{if(401===t.status||403===t.status)return void Ir("/shop-admin/login");console.error("Profile error:",await t.json().catch(()=>({})))}}catch(e){console.error("Error fetching profile:",e)}},C=async()=>{try{const e=await fetch("".concat(mn,"/api/categories"));if(e.ok){const t=await e.json();f(t.categories||[])}}catch(e){console.error("Error fetching categories:",e)}},P=async e=>{try{const t=await fetch("".concat(mn,"/api/subcategories?category_id=").concat(e));if(t.ok){const e=await t.json();y(e.subcategories||[])}}catch(t){console.error("Error fetching subcategories:",t)}},E=()=>{g(null),h(!1),N({title:"",category_id:"",subcategory_id:"",description:"",original_price:"",discounted_price:"",stock_quantity:"0",images:[]})},T=e=>{const t={approved:{color:"#10b981",bg:"#d1fae5",text:"Approved"},pending:{color:"#f59e0b",bg:"#fef3c7",text:"Pending"},rejected:{color:"#ef4444",bg:"#fee2e2",text:"Rejected"}},a=t[e]||t.pending;return(0,yn.jsx)("span",{className:"status-badge",style:{color:a.color,backgroundColor:a.bg},children:a.text})};return d?(0,yn.jsx)("div",{className:"shop-admin-dashboard",style:{minHeight:"100vh",background:"#f5f5f5",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,yn.jsxs)("div",{style:{textAlign:"center"},children:[(0,yn.jsx)("div",{className:"loading-spinner",style:{border:"4px solid #f3f3f3",borderTop:"4px solid #667eea",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),(0,yn.jsx)("p",{style:{color:"#666",fontSize:"16px"},children:"Loading..."}),(0,yn.jsx)("style",{children:"\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          "})]})}):(0,yn.jsxs)("div",{className:"shop-admin-dashboard",children:[b&&(0,yn.jsx)("div",{className:"notification ".concat(b.type),style:{position:"fixed",top:"20px",right:"20px",padding:"15px 20px",borderRadius:"8px",backgroundColor:"success"===b.type?"#10b981":"#ef4444",color:"white",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:9999,animation:"slideIn 0.3s ease-out"},children:b.message}),(0,yn.jsxs)("div",{className:"shop-admin-dashboard-header",children:[(0,yn.jsx)("h1",{children:"Shop Admin Panel"}),(0,yn.jsx)("button",{className:"btn-logout",onClick:()=>{localStorage.removeItem("shopAdminToken"),localStorage.removeItem("shopAdminProvider"),e("/shop-admin/login")},children:"Logout"})]}),(0,yn.jsxs)("div",{className:"shop-admin-layout",children:[(0,yn.jsx)("aside",{className:"shop-admin-sidebar",children:(0,yn.jsxs)("nav",{className:"shop-admin-nav",children:[(0,yn.jsxs)("button",{className:"nav-item ".concat("dashboard"===t?"active":""),onClick:()=>a("dashboard"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,yn.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Dashboard"]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("add-product"===t?"active":""),onClick:()=>{a("add-product"),h(!0)},children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,yn.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Product"]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("products"===t?"active":""),onClick:()=>a("products"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,yn.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,yn.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"My Products"]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("orders"===t?"active":""),onClick:()=>a("orders"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,yn.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,yn.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Orders"]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("wallet"===t?"active":""),onClick:()=>a("wallet"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M21 12c0 1.66-1.34 3-3 3H6c-1.66 0-3-1.34-3-3s1.34-3 3-3h12c1.66 0 3 1.34 3 3z"}),(0,yn.jsx)("path",{d:"M6 9V7c0-1.66 1.34-3 3-3h6c1.66 0 3 1.34 3 3v2"}),(0,yn.jsx)("path",{d:"M18 15v2c0 1.66-1.34 3-3 3H9c-1.66 0-3-1.34-3-3v-2"})]}),"My Earnings"]}),(0,yn.jsxs)("button",{className:"nav-item ".concat("profile"===t?"active":""),onClick:()=>a("profile"),children:[(0,yn.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,yn.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"Profile"]})]})}),(0,yn.jsxs)("main",{className:"shop-admin-content",children:["dashboard"===t&&(0,yn.jsxs)("div",{className:"dashboard-view",children:[(0,yn.jsx)("h2",{children:"Dashboard Overview"}),(0,yn.jsxs)("div",{className:"stats-grid",children:[(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#667eea20",color:"#667eea"},children:(0,yn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,yn.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,yn.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:n.total}),(0,yn.jsx)("p",{children:"Total Products"})]})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#10b98120",color:"#10b981"},children:(0,yn.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,yn.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:n.approved}),(0,yn.jsx)("p",{children:"Approved"})]})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#f59e0b20",color:"#f59e0b"},children:(0,yn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,yn.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,yn.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:n.pending}),(0,yn.jsx)("p",{children:"Pending"})]})]}),(0,yn.jsxs)("div",{className:"stat-card",children:[(0,yn.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#ef444420",color:"#ef4444"},children:(0,yn.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,yn.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,yn.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,yn.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})}),(0,yn.jsxs)("div",{className:"stat-info",children:[(0,yn.jsx)("h3",{children:n.rejected}),(0,yn.jsx)("p",{children:"Rejected"})]})]})]})]}),"add-product"===t&&!p&&(0,yn.jsxs)("div",{className:"add-product-view",children:[(0,yn.jsxs)("div",{className:"view-header",children:[(0,yn.jsx)("h2",{children:"Add New Product"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>h(!0),children:"+ Add Product"})]}),(0,yn.jsx)("div",{className:"no-products",children:(0,yn.jsx)("p",{children:'Click "Add Product" to start adding products'})})]}),"add-product"===t&&p&&(0,yn.jsxs)("div",{className:"add-product-view",children:[(0,yn.jsxs)("div",{className:"view-header",children:[(0,yn.jsx)("h2",{children:m?"Edit Product":"Add New Product"}),(0,yn.jsx)("button",{className:"btn-secondary",onClick:E,children:"Cancel"})]}),(0,yn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!w.title||!w.category_id||!w.original_price)return j({type:"error",message:"Please fill in all required fields"}),void setTimeout(()=>j(null),3e3);const a=parseFloat(w.original_price),n=w.discounted_price?parseFloat(w.discounted_price):null;if(n&&a&&n>a)return j({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),void setTimeout(()=>j(null),5e3);try{const e=localStorage.getItem("shopAdminToken"),a={title:w.title,category_id:parseInt(w.category_id),subcategory_id:w.subcategory_id?parseInt(w.subcategory_id):null,description:w.description,original_price:parseFloat(w.original_price),discounted_price:w.discounted_price?parseFloat(w.discounted_price):null,stock_quantity:parseInt(w.stock_quantity)||0,images:w.images.map(e=>e.url||e)},n=m?"".concat(mn,"/api/shop-admin/products/").concat(m.id):"".concat(mn,"/api/shop-admin/products"),r=m?"PUT":"POST",s=await fetch(n,{method:r,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(a)});if(s.ok){const e=await s.json();h(!1),g(null),N({title:"",category_id:"",subcategory_id:"",description:"",original_price:"",discounted_price:"",stock_quantity:"0",images:[]}),j({type:"success",message:m?e.message||"Product updated successfully! Status reset to pending for admin review.":e.message||"Product submitted successfully! Waiting for admin approval."}),setTimeout(()=>j(null),3e3),"products"===t&&_(),k()}else{const e=await s.json();j({type:"error",message:e.error||"Failed to ".concat(m?"update":"submit"," product")}),setTimeout(()=>j(null),3e3)}}catch(r){console.error("Error ".concat(m?"updating":"submitting"," product:"),r),j({type:"error",message:"Failed to ".concat(m?"update":"submit"," product")}),setTimeout(()=>j(null),3e3)}},className:"product-form",children:[(0,yn.jsx)("div",{className:"form-row",children:(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Product Name *"}),(0,yn.jsx)("input",{type:"text",value:w.title,onChange:e=>N(ge(ge({},w),{},{title:e.target.value})),placeholder:"Enter product name",required:!0})]})}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Category *"}),(0,yn.jsxs)("select",{value:w.category_id,onChange:e=>N(ge(ge({},w),{},{category_id:e.target.value,subcategory_id:""})),required:!0,children:[(0,yn.jsx)("option",{value:"",children:"Select Category"}),x.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Subcategory (Optional)"}),(0,yn.jsxs)("select",{value:w.subcategory_id,onChange:e=>N(ge(ge({},w),{},{subcategory_id:e.target.value})),disabled:!w.category_id,children:[(0,yn.jsx)("option",{value:"",children:"Select Subcategory"}),v.map(e=>(0,yn.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Description"}),(0,yn.jsx)("textarea",{value:w.description,onChange:e=>N(ge(ge({},w),{},{description:e.target.value})),placeholder:"Enter product description",rows:"4"})]}),(0,yn.jsxs)("div",{className:"form-row",children:[(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Original Price (\u20b9) *"}),(0,yn.jsx)("input",{type:"number",step:"0.01",min:"0",value:w.original_price,onChange:e=>{const t=e.target.value?parseFloat(e.target.value):null,a=w.discounted_price?parseFloat(w.discounted_price):null;a&&t&&a>t&&(j({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),setTimeout(()=>j(null),5e3)),N(ge(ge({},w),{},{original_price:e.target.value}))},placeholder:"0.00",required:!0})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Discounted Price (\u20b9)"}),(0,yn.jsx)("input",{type:"number",step:"0.01",min:"0",value:w.discounted_price,onChange:e=>{const t=e.target.value?parseFloat(e.target.value):null,a=w.original_price?parseFloat(w.original_price):null;t&&a&&t>a&&(j({type:"error",message:"Discounted price cannot be greater than Original Price (MRP). Please enter a valid discounted price."}),setTimeout(()=>j(null),5e3)),N(ge(ge({},w),{},{discounted_price:e.target.value}))},placeholder:"0.00 (optional)"}),w.discounted_price&&w.original_price&&parseFloat(w.discounted_price)>parseFloat(w.original_price)&&(0,yn.jsx)("div",{style:{color:"#ef4444",fontSize:"12px",marginTop:"5px"},children:"\u26a0\ufe0f Discounted price cannot be greater than MRP"})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Stock Quantity"}),(0,yn.jsx)("input",{type:"number",min:"0",value:w.stock_quantity,onChange:e=>N(ge(ge({},w),{},{stock_quantity:e.target.value})),placeholder:"0"})]})]}),(0,yn.jsxs)("div",{className:"form-group",children:[(0,yn.jsx)("label",{children:"Product Images"}),(0,yn.jsx)(Lr,{images:w.images,onImagesChange:e=>N(ge(ge({},w),{},{images:e})),maxImages:5})]}),(0,yn.jsxs)("div",{className:"form-actions",children:[(0,yn.jsx)("button",{type:"submit",className:"btn-primary",children:m?"Update Product":"Submit for Approval"}),(0,yn.jsx)("button",{type:"button",className:"btn-secondary",onClick:E,children:"Cancel"})]})]})]}),"products"===t&&(0,yn.jsxs)("div",{className:"products-view",children:[(0,yn.jsxs)("div",{className:"view-header",children:[(0,yn.jsx)("h2",{children:"My Products"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>{a("add-product"),h(!0)},children:"+ Add Product"})]}),0===i.length?(0,yn.jsxs)("div",{className:"no-products",children:[(0,yn.jsx)("p",{children:"No products uploaded yet"}),(0,yn.jsx)("button",{className:"btn-primary",onClick:()=>{a("add-product"),h(!0)},children:"Add Your First Product"})]}):(0,yn.jsx)("div",{className:"products-table",children:(0,yn.jsxs)("table",{children:[(0,yn.jsx)("thead",{children:(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("th",{children:"Product Name"}),(0,yn.jsx)("th",{children:"Category"}),(0,yn.jsx)("th",{children:"Status"}),(0,yn.jsx)("th",{children:"Visibility"}),(0,yn.jsx)("th",{children:"Admin Message"}),(0,yn.jsx)("th",{children:"Date Added"}),(0,yn.jsx)("th",{children:"Actions"})]})}),(0,yn.jsx)("tbody",{children:i.map(e=>(0,yn.jsxs)("tr",{children:[(0,yn.jsx)("td",{children:(0,yn.jsxs)("div",{className:"product-name-cell",children:[e.images&&e.images.length>0&&(0,yn.jsx)("img",{src:e.images[0].startsWith("http")?e.images[0]:"".concat(mn).concat(e.images[0]),alt:e.title,className:"product-thumb"}),(0,yn.jsx)("span",{children:e.title})]})}),(0,yn.jsxs)("td",{children:[e.category_name,e.subcategory_name&&" / ".concat(e.subcategory_name)]}),(0,yn.jsx)("td",{children:T(e.approval_status)}),(0,yn.jsx)("td",{children:"approved"===e.approval_status?(0,yn.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500",background:e.is_active?"#d1fae5":"#fee2e2",color:e.is_active?"#065f46":"#991b1b"},children:e.is_active?"\ud83d\udc41\ufe0f Visible":"\ud83d\udc41\ufe0f Hidden"}):(0,yn.jsx)("span",{style:{color:"#9ca3af"},children:"-"})}),(0,yn.jsx)("td",{children:e.admin_note||"-"}),(0,yn.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),(0,yn.jsx)("td",{children:(0,yn.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,yn.jsx)("button",{className:"btn-edit",onClick:()=>(e=>{var t,n,r;g(e),N({title:e.title||"",category_id:e.category_id||"",subcategory_id:e.subcategory_id||"",description:e.description||"",original_price:(null===(t=e.original_price)||void 0===t?void 0:t.toString())||"",discounted_price:(null===(n=e.discounted_price)||void 0===n?void 0:n.toString())||"",stock_quantity:(null===(r=e.stock_quantity)||void 0===r?void 0:r.toString())||"0",images:(e.images||[]).map(e=>"string"===typeof e?{url:e}:e)}),a("add-product"),h(!0)})(e),style:{padding:"6px 12px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Edit"}),"approved"===e.approval_status&&(0,yn.jsx)("button",{onClick:()=>(async(e,t)=>{try{const a=localStorage.getItem("shopAdminToken"),n=await fetch("".concat(mn,"/api/shop-admin/products/").concat(e,"/status"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({is_active:t})});if(n.ok)j({type:"success",message:t?"Product is now visible in shop":"Product is now hidden from shop"}),setTimeout(()=>j(null),3e3),_();else{const e=await n.json();j({type:"error",message:e.error||"Failed to update product visibility"}),setTimeout(()=>j(null),3e3)}}catch(a){console.error("Error updating product visibility:",a),j({type:"error",message:"Failed to update product visibility"}),setTimeout(()=>j(null),3e3)}})(e.id,!e.is_active),style:{padding:"6px 12px",background:e.is_active?"#6b7280":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},title:e.is_active?"Hide from shop":"Show in shop",children:e.is_active?"\ud83d\udc41\ufe0f Hide":"\ud83d\udc41\ufe0f Show"})]})})]},e.id))})]})})]}),"orders"===t&&(0,yn.jsx)("div",{className:"orders-view",children:(0,yn.jsx)(Hr,{})}),"wallet"===t&&(0,yn.jsx)("div",{className:"wallet-view",children:(0,yn.jsx)(Yr,{})}),"profile"===t&&l&&(0,yn.jsxs)("div",{className:"profile-view",children:[(0,yn.jsx)("h2",{children:"Profile Information"}),(0,yn.jsxs)("div",{className:"profile-card",children:[(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Shop Name:"}),(0,yn.jsx)("span",{className:"value",children:l.business_name})]}),(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Owner Name:"}),(0,yn.jsx)("span",{className:"value",children:l.owner_name||"-"})]}),(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Email:"}),(0,yn.jsx)("span",{className:"value",children:l.business_email})]}),(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Phone:"}),(0,yn.jsx)("span",{className:"value",children:l.business_phone})]}),(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Address:"}),(0,yn.jsx)("span",{className:"value",children:l.business_address})]}),(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Status:"}),(0,yn.jsx)("span",{className:"value",children:l.is_approved?(0,yn.jsx)("span",{className:"status-badge",style:{color:"#10b981",backgroundColor:"#d1fae5"},children:"Approved"}):(0,yn.jsx)("span",{className:"status-badge",style:{color:"#f59e0b",backgroundColor:"#fef3c7"},children:"Pending"})})]}),l.rejection_message&&(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Rejection Reason:"}),(0,yn.jsx)("span",{className:"value error",children:l.rejection_message})]}),(0,yn.jsxs)("div",{className:"profile-row",children:[(0,yn.jsx)("span",{className:"label",children:"Member Since:"}),(0,yn.jsx)("span",{className:"value",children:new Date(l.created_at).toLocaleDateString()})]})]})]})]})]})]})},$r=e=>{let{children:t}=e;const[a,n]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!0),o=Ra();return(0,r.useEffect)(()=>{(async()=>{const e=localStorage.getItem("shopAdminToken");if(!e)return n(!1),i(!1),void o("/shop-admin/login",{replace:!0});try{const t=await fetch("".concat(mn,"/api/shop-admin/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(t.ok||200===t.status)n(!0);else{if(401===t.status||403===t.status)return n(!1),void Ir("/shop-admin/login");n(!0)}}catch(t){if(console.error("Error verifying token:",t),t.message.includes("401")||t.message.includes("403"))return n(!1),void Ir("/shop-admin/login");n(!0)}finally{i(!1)}})()},[o]),s?(0,yn.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f5f5f5"},children:[(0,yn.jsx)("div",{className:"loading-spinner",style:{border:"4px solid #f3f3f3",borderTop:"4px solid #667eea",borderRadius:"50%",width:"40px",height:"40px",animation:"spin 1s linear infinite"}}),(0,yn.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]}):a?t:(0,yn.jsx)($a,{to:"/shop-admin/login",replace:!0})},Gr=[{title:"Information We Collect",badge:"Chapter 01",body:["Identity data: full name, age, gender, and profile imagery you upload.","Contact data: email address, phone number, and location metadata.","Usage data: match preferences, call logs, in-app purchases, and device diagnostics.","Payment data: tokenised transaction identifiers processed through certified gateways."]},{title:"How Your Data Is Used",badge:"Chapter 02",body:["Enable secure login, OTP verification, and fraud-prevention workflows.","Curate recommendations across dating, shopping, and advertising verticals.","Deliver customer support, account recovery, and transactional updates.","Comply with legal obligations and industry guidelines for lawful processing."]},{title:"When We Share Data",badge:"Chapter 03",body:["Technology partners that power hosting, analytics, and communication APIs.","Payment processors and logistics providers that fulfil marketplace actions.","Brand collaborators for performance reporting with anonymised or aggregated metrics.","Government or regulatory bodies when legally required to protect users or enforce policies."]},{title:"Your Controls & Choices",badge:"Chapter 04",body:["Access, update, or download your profile anytime inside the app settings.","Request account deletion via privacy@unlimitedhub.com for irreversible removal.","Manage notification and marketing consents in the communications center.","Opt out of non-essential analytics through device permissions or browser settings."]},{title:"Security & Retention",badge:"Chapter 05",body:["End-to-end encryption protects call media while TLS secures API traffic.","Role-based access controls and audit trails restrict internal data handling.","Data is retained only for operational, contractual, or regulatory timelines.","We routinely pseudonymise inactive records and dispose of expired backups."]}],Kr=[{label:"GDPR Inspired",detail:"Processes align with globally recognised privacy frameworks."},{label:"Zero Spam",detail:"Marketing happens only after you opt in, and every message includes a one-click preference center."},{label:"Incident Ready",detail:"24/7 monitoring and playbooks for rapid response if an anomaly is detected."}],Qr=[{year:"Day 0",title:"Collection",desc:"Data is captured only for defined experiences after explicit consent."},{year:"Day 30",title:"Usage Review",desc:"Automated checks ensure processing still aligns with the purpose you agreed to."},{year:"Day 365",title:"Retention Audit",desc:"Out-of-date signals are minimised, anonymised, or securely purged."}],Xr=()=>(0,yn.jsxs)("div",{className:"policy-page",children:[(0,yn.jsxs)("section",{className:"policy-hero",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{className:"policy-kicker",children:"Trust & Compliance"}),(0,yn.jsx)("h1",{children:"Privacy Policy"}),(0,yn.jsx)("p",{className:"policy-lead",children:"Updated 20 November 2025 \xb7 Unlimited Hub protects every interaction across dating, commerce, and advertising so you stay in control of your story."}),(0,yn.jsxs)("div",{className:"policy-hero-meta",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{children:"Contact"}),(0,yn.jsx)("strong",{children:"privacy@unlimitedhub.com"})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{children:"Data Officer"}),(0,yn.jsx)("strong",{children:"ISO 27001 Certified"})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{children:"Jurisdiction"}),(0,yn.jsx)("strong",{children:"India \xb7 Global Users"})]})]})]}),(0,yn.jsxs)("div",{className:"policy-highlight",children:[(0,yn.jsx)("p",{children:"Core Principles"}),(0,yn.jsxs)("ul",{children:[(0,yn.jsx)("li",{children:"Consent-first onboarding"}),(0,yn.jsx)("li",{children:"Granular user controls"}),(0,yn.jsx)("li",{children:"Transparent retention policy"})]})]})]}),(0,yn.jsx)("section",{className:"policy-commitments",children:Kr.map(e=>(0,yn.jsxs)("article",{children:[(0,yn.jsx)("h3",{children:e.label}),(0,yn.jsx)("p",{children:e.detail})]},e.label))}),(0,yn.jsx)("section",{className:"policy-grid",children:Gr.map(e=>(0,yn.jsxs)("article",{className:"policy-card",children:[(0,yn.jsx)("div",{className:"policy-card-badge",children:e.badge}),(0,yn.jsx)("h2",{children:e.title}),(0,yn.jsx)("ul",{children:e.body.map(e=>(0,yn.jsx)("li",{children:e},e))})]},e.title))}),(0,yn.jsx)("section",{className:"policy-timeline",children:Qr.map(e=>(0,yn.jsxs)("div",{className:"policy-timeline-step",children:[(0,yn.jsx)("span",{className:"policy-timeline-year",children:e.year}),(0,yn.jsx)("h3",{children:e.title}),(0,yn.jsx)("p",{children:e.desc})]},e.year))}),(0,yn.jsxs)("section",{className:"policy-footer",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{children:"Need More Details?"}),(0,yn.jsxs)("p",{children:["Submit a ticket from the app settings or email"," ",(0,yn.jsx)("a",{href:"mailto:privacy@unlimitedhub.com",children:"privacy@unlimitedhub.com"}),". We reply within 48 business hours."]})]}),(0,yn.jsx)("button",{className:"policy-button",onClick:()=>window.history.back(),children:"Back to App"})]})]}),Zr=[{badge:"Section 01",title:"Account Eligibility",bullets:["You must be at least 18 years old and legally capable of entering into a contract.","Each account is personal\u2014do not share login credentials or OTPs with others.","You agree to provide accurate information and keep it current at all times."]},{badge:"Section 02",title:"Platform Usage",bullets:["Use calling, dating, shopping, and advertising features only for lawful purposes.","Respect other community members\u2014harassment, hate speech, or scams result in removal.","Do not reverse-engineer, scrape, or otherwise misuse Unlimited Hub APIs or assets."]},{badge:"Section 03",title:"Purchases & Wallet",bullets:["All purchases are processed through verified payment partners; taxes may apply.","Digital goods (minutes, diamonds) are non-transferable and may expire per offer terms.","Chargebacks or fraudulent activity can suspend your account immediately."]},{badge:"Section 04",title:"Content & Licensing",bullets:["You retain ownership of content you upload but grant us a license to host and distribute it.","Do not post copyrighted or illegal material unless you own the necessary rights.","We may remove content that violates policies or receives valid takedown notices."]},{badge:"Section 05",title:"Termination & Liability",bullets:["We may suspend accounts that breach policies without prior notice.","Unlimited Hub is not liable for indirect losses; maximum remedy is limited to fees paid.","These terms are governed by Indian law with disputes handled in Bengaluru courts."]}],es=[{label:"Sign-Up",detail:"Review these terms and provide consent before accessing the ecosystem."},{label:"In-Product",detail:"Feature-specific guidelines appear contextually\u2014for example during calls or checkouts."},{label:"Policy Updates",detail:"We notify you inside the app and via email before material changes take effect."}],ts=()=>(0,yn.jsxs)("div",{className:"policy-page",children:[(0,yn.jsxs)("section",{className:"policy-hero",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("p",{className:"policy-kicker",children:"User Agreement"}),(0,yn.jsx)("h1",{children:"Terms & Conditions"}),(0,yn.jsx)("p",{className:"policy-lead",children:"Updated 20 November 2025 \xb7 These terms explain the rules for using Unlimited Hub\u2019s dating, calling, marketplace, and advertiser solutions. Use of the platform means you accept them."}),(0,yn.jsxs)("div",{className:"policy-hero-meta",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{children:"Support"}),(0,yn.jsx)("strong",{children:"support@unlimitedhub.com"})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{children:"Headquarters"}),(0,yn.jsx)("strong",{children:"Bengaluru, India"})]}),(0,yn.jsxs)("div",{children:[(0,yn.jsx)("span",{children:"Effective"}),(0,yn.jsx)("strong",{children:"20 Nov 2025"})]})]})]}),(0,yn.jsxs)("div",{className:"policy-highlight",children:[(0,yn.jsx)("p",{children:"Key Expectations"}),(0,yn.jsxs)("ul",{children:[(0,yn.jsx)("li",{children:"Use the service respectfully"}),(0,yn.jsx)("li",{children:"Protect your credentials"}),(0,yn.jsx)("li",{children:"Follow purchase rules"})]})]})]}),(0,yn.jsx)("section",{className:"policy-grid",children:Zr.map(e=>(0,yn.jsxs)("article",{className:"policy-card",children:[(0,yn.jsx)("div",{className:"policy-card-badge",children:e.badge}),(0,yn.jsx)("h2",{children:e.title}),(0,yn.jsx)("ul",{children:e.bullets.map(e=>(0,yn.jsx)("li",{children:e},e))})]},e.title))}),(0,yn.jsx)("section",{className:"policy-timeline",children:es.map(e=>(0,yn.jsxs)("div",{className:"policy-timeline-step",children:[(0,yn.jsx)("span",{className:"policy-timeline-year",children:e.label}),(0,yn.jsx)("p",{children:e.detail})]},e.label))}),(0,yn.jsxs)("section",{className:"policy-footer",children:[(0,yn.jsxs)("div",{children:[(0,yn.jsx)("h2",{children:"Questions About These Terms?"}),(0,yn.jsxs)("p",{children:["Email ",(0,yn.jsx)("a",{href:"mailto:legal@unlimitedhub.com",children:"legal@unlimitedhub.com"})," or contact support through the in-app help center."]})]}),(0,yn.jsx)("button",{className:"policy-button",onClick:()=>window.history.back(),children:"Back to App"})]})]}),as=()=>{const{slug:e}=za(),[t,a]=(0,r.useState)(null),[n,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{if(e)try{s(!0),o(null);const t=await fetch("".concat(mn,"/api/static-pages/").concat(e));if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.error||"Page not found")}const n=await t.json();a(n)}catch(t){a(null),o(t.message||"Failed to load page")}finally{s(!1)}})()},[e]);const l=e=>(0,yn.jsx)("div",{className:"static-page-wrapper page-with-bottom-nav",style:{padding:"20px",background:"linear-gradient(135deg, #f8f9fa 0%, #e0e7ff 100%)",minHeight:"100vh"},children:(0,yn.jsx)("div",{className:"static-page-card",style:{background:"#fff",borderRadius:"16px",padding:"20px",boxShadow:"0 10px 30px rgba(15, 23, 42, 0.1)",maxWidth:"900px",margin:"0 auto"},children:e})});if(n)return l((0,yn.jsx)("p",{children:"Loading page..."}));if(i)return l((0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("h2",{children:"Oops!"}),(0,yn.jsx)("p",{children:i})]}));if(!t)return null;const c=t.content?t.content.replace(/\n/g,"<br />"):"No content provided.";return l((0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)("h1",{style:{marginBottom:"16px"},children:t.title}),(0,yn.jsx)("div",{className:"static-page-content",style:{lineHeight:1.6,color:"#374151"},dangerouslySetInnerHTML:{__html:c}})]}))};function ns(){const{isAuthenticated:e,loading:t}=wn();return t?(0,yn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #ff6b9d 0%, #c44569 100%)",color:"white",fontSize:"1.2rem"},children:"Loading..."}):e?(0,yn.jsx)($a,{to:"/calls"}):(0,yn.jsx)($a,{to:"/login"})}function rs(e){let{children:t}=e;const{isAuthenticated:a,loading:n}=wn();return n?(0,yn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #ff6b9d 0%, #c44569 100%)",color:"white",fontSize:"1.2rem"},children:"Loading..."}):a?t:(0,yn.jsx)($a,{to:"/"})}const ss=function(){return(0,yn.jsx)(Nn,{children:(0,yn.jsx)(En,{children:(0,yn.jsx)(on,{children:(0,yn.jsx)("div",{className:"App",children:(0,yn.jsxs)(Qa,{children:[(0,yn.jsx)(Ga,{path:"/admin/login",element:(0,yn.jsx)(Mn,{})}),(0,yn.jsx)(Ga,{path:"/admin",element:(0,yn.jsx)(ar,{children:(0,yn.jsx)(tr,{})})}),(0,yn.jsx)(Ga,{path:"/admin/dashboard",element:(0,yn.jsx)(ar,{children:(0,yn.jsx)(tr,{})})}),(0,yn.jsx)(Ga,{path:"/shop-admin/request-access",element:(0,yn.jsx)(Mr,{})}),(0,yn.jsx)(Ga,{path:"/shop-admin/login",element:(0,yn.jsx)(Wr,{})}),(0,yn.jsx)(Ga,{path:"/shop-admin",element:(0,yn.jsx)($r,{children:(0,yn.jsx)(Jr,{})})}),(0,yn.jsx)(Ga,{path:"/shop-admin/*",element:(0,yn.jsx)($r,{children:(0,yn.jsx)(Jr,{})})}),(0,yn.jsx)(Ga,{path:"*",element:(0,yn.jsxs)(Qa,{children:[(0,yn.jsx)(Ga,{path:"/",element:(0,yn.jsx)(ns,{})}),(0,yn.jsx)(Ga,{path:"/login",element:(0,yn.jsx)(bn,{})}),(0,yn.jsx)(Ga,{path:"/privacy-policy",element:(0,yn.jsx)(Xr,{})}),(0,yn.jsx)(Ga,{path:"/terms",element:(0,yn.jsx)(ts,{})}),(0,yn.jsx)(Ga,{path:"/otp",element:(0,yn.jsx)(_n,{})}),(0,yn.jsx)(Ga,{path:"/details",element:(0,yn.jsx)(Sn,{})}),(0,yn.jsx)(Ga,{path:"/profile-edit",element:(0,yn.jsx)(Cn,{})}),(0,yn.jsx)(Ga,{path:"/refer",element:(0,yn.jsx)(rs,{children:(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)(Fr,{}),(0,yn.jsx)(lr,{})]})})}),(0,yn.jsx)(Ga,{path:"/calls",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(Rn,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/call",element:(0,yn.jsx)(rs,{children:(0,yn.jsx)(zn,{})})}),(0,yn.jsx)(Ga,{path:"/shop",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(yr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/products",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(br,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/product/:productId",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(jr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/checkout/:productId",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(Nr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/order-confirmation/:orderId",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(kr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/orders",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(_r,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/cart",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(Cr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/favorites",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(Er,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/shop/search",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(Rr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/provider-dashboard",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(Dr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/advertiser/login",element:(0,yn.jsx)(In,{})}),(0,yn.jsx)(Ga,{path:"/advertiser/register",element:(0,yn.jsx)(Ln,{})}),(0,yn.jsx)(Ga,{path:"/advertiser/dashboard",element:(0,yn.jsx)(Fn,{})}),(0,yn.jsx)(Ga,{path:"/ads-gallery",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(rr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/ad/:adId",element:(0,yn.jsxs)(rs,{children:[(0,yn.jsx)(sr,{}),(0,yn.jsx)(lr,{})]})}),(0,yn.jsx)(Ga,{path:"/pages/:slug",element:(0,yn.jsx)(rs,{children:(0,yn.jsxs)(yn.Fragment,{children:[(0,yn.jsx)(as,{}),(0,yn.jsx)(lr,{})]})})})]})})]})})})})})};Dt.interceptors.response.use(e=>e,e=>{var t;const a=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status,n=(null===e||void 0===e?void 0:e.config)||{};return 401!==a||n.skipAuthRedirect||Ir(n.authRedirectPath),Promise.reject(e)});const is=window.fetch;window.fetch=async function(){var e,t;const a=await is(...arguments);let n;(arguments.length<=0?void 0:arguments[0])instanceof Request?n=arguments.length<=0?void 0:arguments[0]:"object"===typeof(arguments.length<=1?void 0:arguments[1])&&null!==(arguments.length<=1?void 0:arguments[1])&&(n=arguments.length<=1?void 0:arguments[1]);const r=null===(e=n)||void 0===e?void 0:e.skipAuthRedirect,s=null===(t=n)||void 0===t?void 0:t.authRedirectPath;return 401!==a.status||r||Ir(s),a};i.createRoot(document.getElementById("root")).render((0,yn.jsx)(r.StrictMode,{children:(0,yn.jsx)(ss,{})}))})();
//# sourceMappingURL=main.a4d36a72.js.map